<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:17              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\102\101\123\105\120\x41\124\110") or exit("\116\157\40\144\151\x72\x65\x63\164\x20\163\x63\x72\151\x70\x74\40\x61\143\143\145\x73\163\x20\141\x6c\154\157\x77\145\x64"); class Ajax extends CI_Controller { private $id; private $mdate; private $chemin; public function __construct() { goto yFrU_; EoPiO: $this->id = $this->session->userdata("\151\x64"); goto Eo_CX; yFrU_: parent::__construct(); goto EoPiO; Eo_CX: $this->mdate = gmdate("\x59\55\x6d\55\x64\x20\110\72\151\72\x73"); goto RRCWT; RRCWT: } public function index() { goto MYkjS; MYkjS: extract($_POST); goto A_A9f; UBx5Q: echo json_encode($d); goto hDENu; A_A9f: $d["\145\x72\x72\157\x72"] = false; goto Hf7Ci; Hf7Ci: if (!$this->auth->is_loggedin()) { $d["\x65\x72\155\x73\x67"] = "\126\x6f\165\163\x20\x6e\x27\303\252\164\145\x73\40\x70\141\x73\x20\143\x6f\x6e\156\x65\x63\164\303\xa9"; } else { $last = $this->mydb->get("\x75\163\x65\162\x73", '', array("\x69\144" => $this->id)); if (!empty($last)) { goto RLeHj; xwDFQ: $time = strtotime(gmdate("\x59\x2d\155\x2d\x64\x20\110\72\151\x3a\163")); goto IZBuY; PAL2x: $tm = strtotime($lst); goto xwDFQ; IZBuY: $diff = $time - $tm; goto H9JlB; RLeHj: $lst = $last->last_activity; goto PAL2x; H9JlB: if ($diff >= 15 * 60) { $d["\145\162\x72\x6f\162"] = true; } goto SC2Gk; SC2Gk: } else { $d["\145\x72\155\x73\x67"] = "\111\155\x70\x6f\x73\x73\x69\142\x6c\145\40\144\x65\x20\166\157\x75\x73\40\x69\144\x65\156\164\x69\146\151\x65\162"; } } goto UBx5Q; hDENu: } public function format_name() { goto wv9Hv; UIYK1: if (isset($nom) && !empty($nom) && isset($prenoms) && !empty($prenoms)) { goto Q4ed7; pl3E8: $d["\x64\141\x74\141"] = $fname; goto xdvUP; Wolbj: $d["\x65\162\162\157\162"] = false; goto pl3E8; CQQB2: $fname = $this->utilitaire->check_user_url($name); goto Wolbj; Q4ed7: $name = format_name($nom, $prenoms); goto CQQB2; xdvUP: } else { $d["\145\x72\155\x73\147"] = "\120\141\x72\141\155\xc3\250\x74\x72\x65\x73\40\151\156\163\x75\146\x66\x69\163\x61\x6e\164\163"; } goto JwVrj; JwVrj: echo json_encode($d); goto MH_vv; VPo6W: $d["\x65\162\162\x6f\x72"] = true; goto UIYK1; wv9Hv: extract($_POST); goto VPo6W; MH_vv: } public function get_class_series() { goto RxxVE; lN9EZ: if (isset($id) && !empty($id)) { $series = $this->cls->get_series($id); if ($series["\145\x72\x72\x6f\x72"] == false) { $d["\145\x72\162\x6f\162"] = false; $d["\x64\x61\164\141"] = $series["\144\141\x74\141"]; } else { $d["\145\162\155\x73\x67"] = $series["\x65\162\x6d\x73\x67"]; } } else { $d["\145\162\x6d\x73\147"] = params_error(); } goto JjoLZ; Hfs1x: extract($_POST); goto lN9EZ; RxxVE: $d["\145\x72\x72\x6f\x72"] = true; goto Hfs1x; JjoLZ: echo json_encode($d); goto flVHE; flVHE: } public function get_class_name() { goto Ook4R; kPTJO: $d["\x65\162\162\x6f\162"] = true; goto Fj1q7; Ook4R: extract($_POST); goto kPTJO; hbUj_: echo json_encode($d); goto Khd6p; Fj1q7: if (isset($cls, $serie)) { if (!empty($cls)) { if ($serie != "\146\141\154\163\x65") { $s = intval($serie); if ($s != 0) { $d["\x65\162\x72\157\162"] = false; $d["\x64\x61\x74\141"] = $this->cls->generate_class_name($cls, $s); } else { $d["\x65\162\155\163\x67"] = "\x4c\x61\40\163\145\x72\x69\x65\x20\145\163\164\40\x69\x6e\143\x6f\x72\162\x65\x63\164\x65"; } } else { $d["\x65\162\x72\157\162"] = false; $d["\x64\x61\x74\x61"] = $this->cls->generate_class_name($cls, false); } } else { $d["\145\162\x6d\163\x67"] = "\x56\x6f\165\163\40\156\47\141\x76\x65\x7a\x20\160\141\163\40\163\160\xc3\xa9\143\x69\146\x69\xc3\xa9\x20\x75\x6e\145\40\x63\154\x61\163\163\145"; } } else { $d["\x65\162\x6d\163\147"] = params_error(); } goto hbUj_; Khd6p: } public function toggle_level() { extract($_POST); if (isset($id) && !empty($id) && isset($state)) { $this->mydb->update("\156\x69\x76\x65\141\165", array("\163\x74\x61\x74\165\163" => $state), array("\151\x64" => $id)); } } public function get_mat_profs() { goto S6OK8; L7oDu: echo json_encode($d); goto VYOK9; S6OK8: $d["\145\x72\162\157\x72"] = true; goto cgKiM; YUj2y: if (isset($id) && !empty($id)) { goto tO3Px; tO3Px: $where = array("\x70\x72\157\x66\137\x68\x61\x73\137\x6d\141\164\56\x6d\141\x74\151\x65\162\x65" => $id, "\x70\x65\x72\x73\157\156\156\x65\x6c\x2e\x73\164\x61\x74\x75\163" => 0); goto xcF7K; xcF7K: $join = array("\160\x65\162\x73\x6f\x6e\x6e\145\154" => array("\x69\156\x6e\145\x72" => array("\160\145\x72\x73\x6f\156\x6e\145\154", "\151\144"))); goto ViEoN; ViEoN: $profs = $this->mydb->gets("\160\162\x6f\x66\x5f\150\x61\x73\137\x6d\x61\164", array(array("\160\x65\x72\x73\x6f\x6e\x6e\145\x6c\56\x69\x64" => "\x69\x64"), array("\x70\x65\x72\x73\157\x6e\156\x65\x6c\56\x63\151\166\x69\154\151\x74\x65" => "\x63\151\x76\x69\x6c\151\164\145"), array("\x70\145\x72\163\x6f\156\x6e\x65\154\x2e\x6e\x6f\155" => "\x6e\x6f\x6d"), array("\160\x65\162\x73\x6f\x6e\x6e\x65\x6c\x2e\160\162\145\x6e\x6f\155\x73" => "\x70\x72\145\156\x6f\x6d\163"), array("\160\x65\x72\163\x6f\x6e\156\x65\154\x2e\x6e\157\155\137\x6a\145\165\156\x65\137\146\151\154\154\x65" => "\x6e\157\155\x5f\152\x65\165\156\x65\137\146\x69\154\x6c\145"), array("\160\x65\x72\163\x6f\x6e\156\x65\x6c\x2e\x73\145\170\x65" => "\163\x65\170\x65")), $where, $join); goto UScer; UScer: if (!empty($profs)) { $d["\x65\x72\162\x6f\x72"] = false; $d["\x64\141\164\x61"] = $profs; } else { $d["\145\162\x6d\x73\x67"] = "\101\x75\143\165\156\x20\145\156\x73\x65\151\x67\156\x61\156\164"; } goto NK_u3; NK_u3: } else { $d["\145\x72\155\163\x67"] = "\120\141\162\x61\x6d\303\250\164\162\145\x73\x20\151\156\x73\165\x66\146\151\163\141\x6e\164\163"; } goto L7oDu; cgKiM: extract($_POST); goto YUj2y; VYOK9: } public function get_class_note_params() { goto JZ7PK; VYBj6: echo json_encode($d); goto cad1J; JZ7PK: extract($_POST); goto FIiiO; z5iRR: if (isset($id) && !empty($id)) { goto pYei7; Fdmcd: $d["\144\x65\x63\157\165\x70\x61\x67\x65\163"] = $this->an->get_class_decoupage($id); goto w38v8; EYUu8: $d["\x73\x75\142\152\145\x63\x74\x73"] = $this->mats->get_class_mats_list($id); goto Fdmcd; pYei7: $d["\x65\162\162\157\162"] = false; goto EYUu8; w38v8: } else { $d["\145\x72\x6d\x73\x67"] = "\x50\141\162\x61\x6d\xc3\xa8\164\162\x65\163\x20\151\156\x73\165\146\x66\x69\x73\141\156\x74\163"; } goto VYBj6; FIiiO: $d["\145\x72\162\x6f\162"] = true; goto z5iRR; cad1J: } public function generate_bulletin() { goto Afpuu; rkvva: if (isset($id, $an, $dec)) { $done = $this->http->index("\x47\105\x54", "\x68\x74\x74\x70\72\57\x2f\x6c\157\143\x61\154\x68\x6f\x73\164\72\65\61\x34\61\61\57\x67\162\141\x64\145\142\x6f\157\153\77\141\x6e\75{$an}\46\143\154\163\75{$id}\46\144\145\143\x6f\165\x70\141\x67\145\75{$dec}"); if ($done["\145\162\x72\157\x72"] == false) { $data = json_decode($done["\144\141\x74\141"]); if (isset($data->error)) { if ($data->error == false) { goto Sny1z; tKNWs: $d["\x64\x61\164\141"] = addslashes($data->data); goto RdcZV; VXBFp: $d["\x65\x72\x72\x6f\x72"] = false; goto tKNWs; Aj8Yd: $pdfname = basename($data->data); goto VXBFp; Sny1z: $path = addslashes(utf8_decode($data->data)); goto Aj8Yd; RdcZV: } else { $d["\x65\162\x6d\x73\147"] = $data->ermsg; } } else { $d["\x65\162\x6d\163\x67"] = "\125\156\x65\x20\145\162\162\145\165\x72\40\x73\x27\145\x73\164\40\160\162\157\144\165\151\x74\145\x20\154\x6f\162\163\40\x64\145\40\154\141\x20\147\xc3\xa9\156\303\251\162\141\164\151\157\x6e\40\x64\x75\x20\x62\165\x6c\x6c\x65\164\151\x6e"; } } else { $d["\x65\x72\x6d\x73\147"] = $done["\x65\x72\x6d\x73\x67"]; } } else { $d["\145\162\155\163\x67"] = "\x50\141\162\x61\155\xc3\250\164\x72\145\163\x20\151\x6e\x73\165\x66\146\x69\163\141\x6e\x74\163"; } goto XsJJP; Afpuu: extract($_POST); goto ht8LB; ht8LB: $d["\145\x72\x72\157\x72"] = true; goto rkvva; XsJJP: echo json_encode($d); goto lnQMX; lnQMX: } public function show_bulletin() { goto xa3dt; mvFIk: $d["\x65\162\x72\x6f\162"] = true; goto TIRBK; xa3dt: extract($_POST); goto mvFIk; naCTc: echo json_encode($d); goto VLSAB; TIRBK: if (isset($an, $anid, $id, $dec, $decoupage)) { $cls = $this->cls->get($id); if (!empty($cls)) { goto letb_; Gi2Zv: $path = addslashes($_SERVER["\125\x53\105\122\x50\122\x4f\x46\111\x4c\x45"] . $ds . "\141\147\145" . $ds . "\x73\x63\x6f\x6c" . $ds . "\x62\x75\154\154\x65\x74\151\x6e\x73" . $ds . $name); goto mnuCR; letb_: $name = trim($cls->nom) . "\x5f" . $an . "\137" . $decoupage . "\56\x70\144\146"; goto fvGMU; fvGMU: $ds = DIRECTORY_SEPARATOR; goto Gi2Zv; mnuCR: if (file_exists($path)) { $d["\x65\x72\x72\x6f\x72"] = false; } else { var_dump($path); $d["\145\162\x6d\x73\x67"] = "\x4c\145\x20\x62\x75\154\154\x65\x74\151\x6e\40\144\145\x20\154\141\x20\x63\x6c\x61\163\163\x65\x20\x64\x65\x20\74\163\x74\x72\157\x6e\x67\76" . $cls->nom . "\74\x2f\163\x74\162\x6f\156\x67\x3e\40\x70\157\x75\x72\x20\x6c\145\40\74\x73\164\x72\x6f\156\147\76" . $decoupage . "\x3c\x2f\163\164\x72\x6f\156\x67\76\x20\156\47\145\163\164\x20\x70\141\163\40\x65\156\x63\x6f\x72\145\40\147\xc3\xa9\x6e\303\xa9\162\303\xa9"; } goto FrWdf; FrWdf: } else { $d["\145\x72\x6d\x73\x67"] = "\x4c\x61\x20\x63\154\x61\163\163\145\x20\156\x27\145\x73\164\x20\x70\141\x73\x20\x64\303\xa9\x66\151\x6e\x69\x65"; } } else { $d["\x65\162\155\x73\x67"] = "\x50\x61\x72\141\155\303\xa8\164\162\x65\x73\40\x69\156\163\x75\146\x66\151\163\141\156\x74\163"; } goto naCTc; VLSAB: } public function get_stds() { goto BwEEb; zZ6X7: $data = array(); goto z_Oho; A9YYy: echo json_encode(array("\x72\x65\x73\165\x6c\x74\163" => $data, "\160\141\x67\151\156\141\x74\x69\x6f\x6e" => true)); goto voA9M; z_Oho: if (isset($nom) && !empty($nom)) { goto mlzMy; mlzMy: $where = array("\145\x6c\x65\166\x65\x2e\156\x6f\155" => array("\x4c\111\x4b\x45" => "\x25{$nom}\45"), "\x6f\162\55\x65\154\145\x76\145\56\x70\162\145\x6e\157\x6d\x73" => array("\114\x49\113\x45" => "\x25{$nom}\45")); goto z21Xc; Uftf9: if (!empty($std)) { foreach ($std as $s) { goto tWhuI; HPjDU: $i->text = ucfirst($s->nom) . "\x20" . ucfirst($s->prenoms); goto f1eRi; tWhuI: $i = new stdClass(); goto dxEA5; f1eRi: array_push($data, $i); goto Lomfa; dxEA5: $i->id = $s->id; goto HPjDU; Lomfa: } } goto DsVvh; z21Xc: $std = $this->mydb->gets("\x65\x6c\145\x76\x65", '', $where); goto Uftf9; DsVvh: } goto A9YYy; BwEEb: extract($_GET); goto zZ6X7; voA9M: } public function set_taf() { goto LONkC; dJLnj: $d["\x65\x72\x72\157\x72"] = true; goto klDAs; JsQ1d: echo json_encode($d); goto le2gE; LONkC: extract($_POST); goto dJLnj; klDAs: if (isset($id, $msg)) { goto HZs51; HZs51: $req = array("\165\x73\145\x72" => $id, "\x6d\x65\163\x73\x61\147\145" => $msg, "\x73\164\x61\x74\165\163" => 0, "\x6d\157\144\151\x66\151\x65\144" => $this->mdate); goto fGDgR; M8Z_N: if (isset($tid)) { $d["\x65\x72\162\x6f\x72"] = false; $d["\144\x61\164\141"] = $this->get_taf($id); } else { $d["\145\x72\155\163\147"] = common_sql_error(); } goto NTAeI; fGDgR: if (isset($edit) && !empty($edit)) { $done = $this->mydb->update("\164\141\x66", $req, array("\151\144" => $edit)); if ($done) { $tid = $edit; } } else { $done = $this->mydb->set("\164\141\146", $req); if ($done) { $tid = $done; } } goto M8Z_N; NTAeI: } else { $d["\145\x72\155\x73\x67"] = "\120\x61\x72\141\155\303\250\x74\162\x65\x73\x20\x69\x6e\x73\165\146\146\151\x73\141\156\164\163"; } goto JsQ1d; le2gE: } public function delete_taf() { goto U8dOQ; U8dOQ: extract($_POST); goto RhuUk; RhuUk: $d["\x65\162\x72\x6f\x72"] = true; goto hij1o; hij1o: if (isset($id, $taf)) { goto Dmbq0; d9m93: $d["\x65\162\x72\157\162"] = false; goto c2qkr; Dmbq0: $this->mydb->update("\x74\141\x66", array("\163\164\141\x74\x75\163" => 1), array("\x69\x64" => $taf)); goto d9m93; c2qkr: $d["\x64\141\164\141"] = $this->get_taf($id); goto cRUh7; cRUh7: } else { $d["\x65\162\x6d\x73\x67"] = "\120\x61\162\141\155\303\xa8\164\162\145\163\40\x69\156\x73\165\x66\146\151\163\x61\156\x74\x73"; } goto NKEOG; NKEOG: echo json_encode($d); goto meNBY; meNBY: } public function get_logs() { goto yxvYe; zVp59: $fin = $this->input->get("\146\x69\x6e", true); goto npl1X; hlHMl: $data = array(); goto fZQp2; npl1X: if (!empty($debut) && !empty($fin)) { goto lenYb; tftqD: $logs = $this->applogs->index($deb, $fn); goto RpxDl; RpxDl: if (!empty($logs)) { foreach ($logs as $l) { array_push($data, array($l->nom, $l->prenoms, $l->page, $l->nbv, mysql2date($l->modified))); } } goto zSpZr; lenYb: $deb = date2mysql($debut); goto x3MyB; x3MyB: $fn = date2mysql($fin); goto tftqD; zSpZr: } goto MoSKB; fZQp2: $debut = $this->input->get("\x64\145\x62\x75\x74", true); goto zVp59; yxvYe: extract($_GET); goto hlHMl; MoSKB: $this->output->set_content_type("\x61\160\160\x6c\151\x63\141\x74\x69\x6f\156\57\x6a\x73\x6f\x6e")->set_output(json_encode($data)); goto J3CYV; J3CYV: } public function classes() { goto wL71b; Xa8PQ: if (!empty($cls)) { goto UNuiZ; yPYIz: foreach ($cls as $key => $c) { goto WQjGa; WQjGa: $max = $c->max_eleve == 0 ? "\x49\154\x6c\151\x6d\151\x74\xc3\251" : $c->max_eleve; goto tUk6r; KJ4Kq: array_push($d, array($key + 1, $c->nom, $c->niveau, $max, $c->effectif, $c->date, $options)); goto cYvtK; vGCGD: $options .= in_array($c->cls_id, $exams) ? "\x3c\x61\40\143\x6c\141\163\163\75\42\x64\162\x6f\x70\x64\x6f\x77\156\x2d\151\x74\145\155\x20\141\x63\x74\x69\166\145\42\40\150\162\x65\146\75\x22" . site_url("\x63\x6c\x61\163\163\x65\163\57\145\170\x61\155\x3f\151\144\75" . $c->id) . "\42\76\x52\303\251\165\x73\163\151\164\145\40\x65\x78\x61\155\x65\156\x3c\57\141\x3e" : ''; goto tXVm2; tXVm2: $options .= "\15\xa\11\11\11\x9\40\40\40\x20\x3c\141\x20\x63\154\141\163\x73\75\x22\144\162\x6f\160\144\x6f\x77\x6e\x2d\151\x74\x65\x6d\42\40\150\x72\145\x66\75\x22" . site_url("\x63\x6c\x61\x73\x73\x65\x73\x2f\x70\141\162\141\155\163\x3f\x69\144\x3d" . $c->id) . "\x22\76\120\141\x72\141\155\303\250\x74\x72\x65\163\x3c\x2f\x61\x3e\xd\xa\x9\x9\x9\x9\40\x20\x20\40\74\x61\x20\143\x6c\x61\x73\x73\75\42\144\x72\157\160\144\x6f\x77\156\55\151\x74\x65\155\x22\40\150\162\x65\146\x3d\x22" . site_url("\143\x6c\141\x73\x73\145\163\57\x74\162\141\x6e\163\146\x65\x72\164\x3f\151\144\75" . $c->id) . "\x22\76\124\x72\x61\x6e\x73\x66\303\251\x72\x65\162\40\154\x65\163\x20\303\251\154\xc3\xa8\166\x65\x73\x3c\57\141\76\15\12\x9\11\x9\x9\40\40\x20\x20\x3c\x61\40\x63\x6c\141\163\x73\x3d\42\x64\x72\x6f\x70\144\157\x77\x6e\x2d\151\164\145\155\x20\164\145\x78\164\x2d\144\x61\156\147\145\x72\x20\x64\x65\x6c\42\40\144\141\164\x61\x2d\155\163\x67\x3d\x22\x56\157\x75\154\x65\172\x2d\166\157\165\x73\x20\166\162\141\x69\x6d\x65\156\164\x20\x66\x65\162\155\x65\162\40\x6c\x61\x20\x63\154\x61\163\x73\145\40\x64\x65\40" . $c->nom . "\77\x20\x4e\x6f\x74\145\x7a\x20\x71\x75\x65\x20\143\x65\x74\164\145\x20\x61\143\164\151\x6f\156\40\x65\x73\164\x20\151\x72\162\303\251\x76\x65\162\163\151\x62\x6c\x65\56\74\142\x72\76\101\x6c\x6f\x72\x73\54\x20\x63\x6f\x6e\x74\x69\156\165\x65\x72\x3f\x22\x20\150\162\x65\x66\75\x22" . site_url("\x63\154\x61\163\x73\x65\x73\57\144\x65\154\145\x74\x65\x3f\151\144\x3d" . $c->id) . "\42\x3e\x46\145\162\155\x65\x72\x3c\57\141\76\xd\xa\x9\11\11\x9\x20\x20\x3c\57\144\151\166\x3e\xd\12\x9\x9\x9\11\x3c\x2f\x64\x69\166\x3e"; goto KJ4Kq; tUk6r: $options = "\74\144\x69\166\x20\143\x6c\141\x73\x73\75\x22\x64\x72\x6f\160\x64\x6f\x77\x6e\42\x3e\15\xa\x9\x9\11\11\40\40\x3c\142\165\164\x74\x6f\156\40\143\x6c\141\163\x73\x3d\x22\x62\x74\156\40\142\164\156\x2d\x73\x65\x63\157\x6e\x64\x61\x72\x79\40\x62\164\x6e\x2d\x73\x6d\40\144\162\x6f\160\x64\157\167\156\x2d\x74\157\x67\x67\154\145\42\x20\164\171\x70\x65\75\42\x62\165\x74\x74\157\x6e\x22\x20\x69\x64\75\42\144\162\x6f\160\x64\157\x77\x6e\x4d\145\x6e\165\102\165\x74\164\157\156\42\40\144\x61\x74\x61\55\164\x6f\147\147\154\x65\75\x22\x64\x72\x6f\x70\x64\x6f\x77\156\x22\x20\x61\162\151\x61\x2d\150\x61\163\160\x6f\160\165\x70\75\42\164\x72\165\x65\x22\x20\141\x72\151\141\55\x65\x78\160\x61\156\x64\145\x64\x3d\42\x66\141\x6c\x73\145\x22\76\15\12\x9\11\x9\11\40\x20\40\40\x3c\151\x20\143\x6c\141\x73\x73\x3d\x22\146\x61\163\40\x66\x61\x2d\x63\157\147\x22\x3e\74\x2f\151\76\xd\xa\x9\11\x9\x9\x20\x20\74\57\x62\x75\164\164\157\x6e\x3e\xd\xa\x9\x9\x9\x9\x20\40\74\x64\x69\x76\40\x63\x6c\141\x73\163\75\42\x64\162\x6f\160\144\157\x77\156\x2d\155\145\x6e\x75\x22\40\x61\162\x69\x61\x2d\154\141\x62\145\x6c\154\x65\144\142\x79\x3d\42\144\x72\157\160\x64\x6f\167\x6e\115\x65\156\x75\x42\165\x74\x74\157\x6e\42\x3e\15\xa\11\11\x9\x9\x20\x20\40\x20\x3c\141\40\143\154\141\163\163\75\x22\144\x72\157\x70\144\157\x77\156\55\x69\x74\145\x6d\42\x20\x68\x72\x65\146\x3d\x22" . site_url("\x63\x6c\141\163\163\145\x73\x2f\145\144\151\x74\77\151\144\x3d" . $c->id) . "\x22\x3e\x4d\157\x64\x69\x66\151\145\x72\74\x2f\x61\76\15\xa\x9\x9\x9\11\40\x20\40\x20\74\x61\x20\143\x6c\141\x73\163\x3d\42\144\x72\x6f\x70\144\157\167\156\55\x69\164\x65\155\x22\x20\150\x72\145\x66\75\x22" . site_url("\143\x6c\141\x73\x73\145\163\57\x73\150\x6f\x77\77\151\144\75" . $c->id) . "\x22\76\104\303\xa9\164\x61\x69\154\x73\74\57\x61\76\15\12\11\x9\11\x9\x20\40\40\40\x3c\141\x20\143\154\x61\163\x73\x3d\x22\x64\162\157\x70\144\157\167\156\55\151\164\x65\x6d\42\x20\x68\162\x65\x66\x3d\x22" . site_url("\163\x74\165\144\x65\x6e\x74\x73\x2f\145\144\151\164\77\143\154\141\x73\x73\75" . $c->id) . "\42\x3e\x49\x6e\163\143\162\151\162\x65\40\165\156\x20\xc3\251\x6c\303\xa8\166\x65\x3c\57\x61\x3e\15\12\x9\11\11\11\x20\x20\40\x20\x3c\x61\x20\143\x6c\x61\163\163\75\x22\144\162\157\x70\x64\x6f\167\156\x2d\151\x74\x65\x6d\x22\x20\150\x72\x65\146\75\42" . site_url("\x63\x6f\x6d\160\164\x61\142\151\154\x69\x74\x65\x2f\x63\x6c\x61\163\x73\x2d\160\141\x79\x6d\145\x6e\x74\77\151\x64\75" . $c->id) . "\x22\76\120\x61\x69\145\155\145\x6e\164\40\144\x65\40\163\x63\x6f\154\141\x72\151\x74\xc3\251\74\57\141\76\15\xa\11\x9\11\11\40\40\40\40\x3c\141\40\143\154\141\x73\163\75\x22\144\162\157\x70\144\157\167\156\x2d\x69\x74\x65\x6d\x22\40\x68\162\x65\x66\x3d\x22" . site_url("\x6e\x6f\164\x65\x73\57\164\x69\155\x65\x74\141\142\154\x65\77\151\x64\x3d" . $c->id) . "\42\x3e\105\155\x70\x6c\157\x69\40\144\165\40\x74\x65\x6d\160\x73\74\x2f\x61\76\xd\xa\x9\11\11\x9\40\40\40\x20\74\x61\x20\143\x6c\x61\163\163\75\42\144\162\x6f\160\x64\x6f\167\156\55\151\164\x65\x6d\x22\40\x68\x72\x65\146\x3d\42" . site_url("\163\x74\165\144\x65\156\164\x73\x2f\143\154\x61\x73\x73\145\x2d\x68\x61\x73\55\x65\154\145\x76\145\77\151\144\75" . $c->id) . "\42\x3e\x45\x66\x66\145\x63\x74\151\x66\x3c\x2f\x61\x3e"; goto vGCGD; cYvtK: } goto ERdCa; UNuiZ: $data = array(); goto smba2; smba2: $exams = array(7, 11, 13, 14); goto yPYIz; ERdCa: } goto Lw7ty; Lw7ty: echo json_encode($d); goto piRBG; wL71b: extract($_GET); goto WKK2l; gUtaw: $cls = $this->cls->liste($closed, $nmin); goto Xa8PQ; y8Pf9: $d = array(); goto gUtaw; uRxcq: $nmin = isset($nmin) && !empty($nmin) ? $nmin : false; goto y8Pf9; WKK2l: $closed = isset($closed) && !empty($closed) ? $closed : false; goto uRxcq; piRBG: } public function closed_classes() { goto Kurjy; gwGfu: echo json_encode($d); goto XMOnQ; kIDTu: if (!empty($cls)) { $data = array(); foreach ($cls as $key => $c) { $max = $c->max_eleve == 0 ? "\x49\x6c\154\x69\x6d\151\x74\303\xa9" : $c->max_eleve; array_push($d, array($key + 1, $c->nom, $c->niveau, $max, $c->effectif, $c->date, "\x3c\x64\151\166\40\x63\x6c\x61\163\163\75\42\144\162\157\x70\144\x6f\x77\x6e\x22\x3e\xd\xa\x9\11\11\x9\11\x20\x20\x3c\142\x75\164\x74\x6f\x6e\x20\143\x6c\141\x73\x73\75\x22\x62\164\x6e\x20\142\164\156\55\163\145\x63\157\156\144\x61\x72\171\x20\x62\x74\x6e\55\163\x6d\x20\x64\162\157\160\x64\x6f\x77\156\x2d\164\x6f\x67\x67\154\x65\42\40\x74\171\x70\x65\75\x22\x62\x75\x74\x74\157\156\x22\40\x69\144\75\x22\x64\162\x6f\160\144\157\x77\156\x4d\145\x6e\165\x42\x75\x74\164\x6f\156\42\x20\144\x61\164\141\55\x74\157\147\147\154\x65\x3d\42\x64\162\157\160\x64\x6f\167\156\x22\40\x61\x72\x69\141\55\150\x61\x73\x70\x6f\160\165\160\75\x22\x74\162\x75\x65\42\x20\x61\x72\x69\x61\55\x65\x78\160\141\156\144\145\144\x3d\x22\146\x61\x6c\163\x65\42\76\15\12\11\11\11\x9\11\40\40\x20\x20\74\151\40\x63\x6c\141\163\163\75\42\146\141\x73\40\146\141\55\x63\157\x67\42\x3e\x3c\x2f\151\x3e\15\12\x9\x9\11\x9\11\40\x20\74\57\142\x75\x74\164\157\156\x3e\xd\12\x9\11\x9\x9\x9\x20\40\74\144\x69\166\x20\x63\154\x61\163\163\75\x22\x64\x72\157\160\144\157\167\x6e\55\155\145\156\165\42\x20\141\x72\151\x61\x2d\x6c\x61\x62\x65\x6c\154\145\144\x62\171\75\42\144\x72\x6f\160\144\157\167\x6e\115\145\x6e\165\x42\165\x74\164\157\x6e\x22\x3e\xd\12\11\x9\11\x9\x9\x20\40\40\x20\74\141\x20\x63\154\141\163\163\75\42\144\162\x6f\160\144\157\167\x6e\x2d\x69\x74\x65\155\42\40\150\x72\145\146\75\42" . site_url("\143\154\x61\163\x73\x65\163\57\x72\145\157\160\145\156\77\151\144\x3d" . $c->id) . "\x22\76\122\157\165\166\x72\x69\x72\x3c\x2f\x61\x3e\xd\12\11\11\x9\x9\x9\x20\40\x3c\x2f\144\151\166\x3e\15\xa\11\11\x9\x9\11\74\x2f\x64\x69\166\x3e")); } } goto gwGfu; vX0GJ: $d = array(); goto hqM7B; Kurjy: extract($_GET); goto gOF40; hqM7B: $cls = $this->cls->liste($closed, $nmin); goto kIDTu; c1Hld: $nmin = isset($nmin) && !empty($nmin) ? $nmin : false; goto vX0GJ; gOF40: $closed = isset($closed) && !empty($closed) ? $closed : false; goto c1Hld; XMOnQ: } public function sel_classe() { goto PDuLv; HvXoh: $closed = isset($closed) && !empty($closed) ? $closed : false; goto e6YBG; abKGt: echo json_encode($d); goto SHFyp; fluwb: if (!empty($cls)) { $data = array(); foreach ($cls as $key => $c) { $max = $c->max_eleve == 0 ? "\111\154\154\151\155\x69\x74\303\xa9" : $c->max_eleve; array_push($d, array($key + 1, $c->nom, $c->niveau, "\x3c\141\40\150\162\x65\x66\x3d\x22" . site_url(format_dest($dest, $c->id)) . "\42\x3e\123\165\x69\166\141\156\x74\46\x72\x61\162\162\x3b\x3c\57\141\76")); } } goto abKGt; OdzMS: $d = array(); goto Mwhwn; e6YBG: $nmin = isset($nmin) && !empty($nmin) ? $nmin : false; goto OdzMS; Mwhwn: $cls = $this->cls->liste($closed, $nmin); goto fluwb; PDuLv: extract($_GET); goto HvXoh; SHFyp: } public function eleves() { goto jvAj8; JLw0q: $std = $this->std->liste(); goto AAqMW; qkOGD: $d = array(); goto JLw0q; AAqMW: if (!empty($std)) { $data = array(); foreach ($std as $key => $s) { array_push($d, array($key + 1, $s->name, $s->sexe, $s->mlle, $s->classe_nom, mysql2date($s->date), "\x3c\144\151\x76\x20\x63\x6c\141\x73\163\x3d\x22\144\162\157\x70\144\157\167\156\x22\76\xd\xa\11\x9\x9\11\11\x20\40\x3c\x62\165\x74\164\x6f\x6e\x20\143\x6c\141\163\163\75\42\x62\164\156\40\x62\164\x6e\55\x73\145\x63\x6f\156\x64\141\x72\x79\40\142\x74\156\x2d\x73\x6d\40\x64\162\157\x70\144\157\167\x6e\x2d\164\x6f\x67\x67\154\145\x22\40\164\171\160\145\x3d\x22\x62\x75\164\164\x6f\156\x22\40\x69\x64\x3d\42\x64\x72\157\160\144\157\167\156\115\x65\156\x75\x42\165\164\x74\x6f\156\42\x20\x64\141\164\x61\x2d\x74\157\147\x67\154\x65\x3d\x22\x64\x72\x6f\160\x64\157\x77\156\42\x20\141\x72\151\x61\x2d\x68\141\x73\x70\157\160\x75\x70\75\x22\164\162\x75\145\42\x20\x61\x72\x69\x61\x2d\x65\x78\x70\x61\x6e\144\x65\144\75\x22\x66\141\x6c\x73\145\42\x3e\15\12\x9\11\x9\11\x9\40\40\x20\40\74\151\x20\143\154\141\x73\x73\75\42\x66\x61\163\x20\146\x61\55\x63\157\x67\42\x3e\x3c\57\x69\x3e\xd\xa\11\11\x9\11\11\x20\40\x3c\57\x62\x75\164\x74\157\x6e\76\15\12\x9\11\11\11\11\40\x20\x3c\144\151\166\40\x63\154\141\x73\x73\75\x22\144\x72\x6f\x70\144\x6f\x77\x6e\x2d\155\145\x6e\165\x22\x20\x61\162\151\x61\55\x6c\x61\x62\x65\x6c\x6c\145\x64\x62\x79\x3d\x22\144\x72\x6f\160\x64\x6f\x77\156\115\145\x6e\165\102\x75\164\164\157\156\42\x3e\15\xa\11\x9\11\11\x9\x20\40\x20\40\74\141\x20\x63\154\x61\x73\163\x3d\x22\144\x72\x6f\160\144\x6f\x77\156\55\x69\164\145\x6d\42\40\150\162\145\146\75\x22" . site_url("\163\x74\165\144\145\156\164\163\57\145\x64\151\x74\77\x69\x64\x3d" . $s->id) . "\x22\76\x4d\157\144\x69\x66\151\x65\x72\x3c\x2f\141\x3e\15\12\x9\11\x9\11\11\40\x20\40\40\74\x61\40\143\x6c\x61\163\163\75\42\x64\162\157\160\x64\x6f\x77\x6e\x2d\151\164\145\x6d\x22\40\x68\162\x65\146\75\x22" . site_url("\163\x65\x6c\x65\143\164\x2f\143\154\141\163\163\145\x3f\145\x6e\143\x6f\165\x72\x73\75\x73\x74\165\144\x65\x6e\164\x26\x73\165\x62\155\x65\x6e\x75\x3d\x73\150\157\x77\55\x73\x74\165\x64\145\156\164\x73\x26\144\x65\163\164\75\x73\164\165\x64\145\156\x74\163\57\155\x69\147\162\141\164\x65\72\163\x74\165\144\75" . $s->id . "\73\x64\145\160\75" . $s->classe_id) . "\42\76\115\151\147\162\145\x72\x3c\x2f\x61\x3e\15\xa\x9\x9\11\x9\x9\40\x20\40\x20\x3c\141\40\143\x6c\141\x73\x73\75\x22\x64\x72\x6f\x70\144\x6f\x77\156\x2d\x69\x74\x65\155\x22\40\x68\162\x65\146\75\x22" . site_url("\x63\x6f\155\x70\164\x61\142\x69\154\x69\x74\x65\57\160\x61\x79\155\145\156\164\x3f\x69\x64\75" . $s->id) . "\x22\x3e\x50\x61\x79\145\162\x20\x6c\141\40\163\x63\157\x6c\x61\x72\151\164\xc3\251\x3c\x2f\141\x3e\xd\xa\x9\x9\11\x9\x9\40\40\40\x20\x3c\141\40\x63\154\x61\163\x73\75\x22\x64\162\157\160\x64\x6f\x77\156\55\151\164\x65\x6d\x22\40\x68\162\x65\x66\75\x22" . site_url("\x73\x65\154\x65\x63\164\x2f\x64\x65\143\157\165\160\141\147\145\x3f\x65\x6e\143\157\x75\162\x73\x3d\156\x6f\164\145\46\163\x75\142\155\145\x6e\165\75\145\144\151\x74\x2d\x6e\157\x74\145\163\x26\x63\x6c\163\x3d" . $s->classe_id . "\x26\144\145\x73\x74\75\x6e\x6f\x74\x65\x73\x2f\163\x74\x64\55\x6e\x6f\x74\x65\163\x3a\x63\x6c\163\75" . $s->classe_id . "\73\163\x74\x64\x3d" . $s->id) . "\x22\x3e\x56\157\x69\x72\x20\154\145\163\x20\x6e\157\x74\x65\x73\74\x2f\141\76\15\xa\11\11\11\11\11\40\x20\40\x20\74\141\x20\x63\x6c\x61\163\163\75\x22\x64\x72\x6f\160\144\x6f\x77\156\55\x69\x74\145\x6d\42\x20\150\x72\145\146\75\42" . site_url("\x73\x74\x75\144\145\x6e\164\x73\x2f\x70\141\162\x63\157\x75\162\x73\x3f\151\144\x3d" . $s->id) . "\42\x3e\126\x6f\x69\162\40\x6c\x65\x20\160\x61\x72\x63\157\x75\162\x73\74\x2f\141\x3e\15\12\11\x9\x9\x9\x9\40\40\40\40\74\141\40\x63\154\x61\x73\x73\x3d\42\144\162\x6f\x70\x64\x6f\167\x6e\x2d\x69\164\x65\x6d\42\x20\x68\162\x65\x66\75\42" . site_url("\163\164\x75\x64\145\156\164\163\57\160\162\x6f\x66\151\x6c\x65\77\151\144\x3d" . $s->id) . "\x22\x3e\x43\x6f\155\x70\x6c\xc3\xa9\x74\x65\162\40\154\145\x73\x20\x69\x6e\146\157\x73\x3c\57\x61\76\xd\12\11\x9\x9\11\11\40\40\x20\40\74\x61\x20\143\154\141\x73\x73\75\x22\x64\162\x6f\160\144\157\167\156\55\151\164\145\x6d\42\40\150\x72\145\146\75\42" . site_url("\163\164\x75\x64\x65\156\164\x73\57\x66\151\143\150\145\x3f\x69\144\75" . $s->id) . "\42\x3e\106\x69\143\x68\x65\x20\x64\x65\x20\x6c\47\xc3\251\x6c\xc3\250\x76\145\x3c\57\141\76\xd\12\x9\11\x9\11\x9\40\40\40\40\74\141\40\143\154\x61\x73\163\75\42\x64\162\157\x70\144\157\167\x6e\55\x69\x74\x65\x6d\x22\40\150\x72\x65\x66\75\42" . site_url("\x73\164\x75\144\145\156\164\163\x2f\160\x61\162\141\x6d\x73\x3f\x69\144\x3d" . $s->id) . "\x22\76\x50\141\162\141\x6d\303\xa8\x74\162\145\x73\40\x64\x65\40\x6c\x27\303\251\154\303\xa8\166\145\x3c\57\x61\76\15\12\11\x9\x9\11\11\40\40\x20\40\74\x61\40\143\154\141\x73\x73\75\x22\144\x72\157\x70\x64\x6f\167\156\55\151\x74\145\155\x20\x74\x65\x78\x74\55\x64\x61\x6e\x67\145\x72\x20\144\145\x6c\42\40\144\141\164\x61\55\155\163\147\x3d\x22\126\x6f\165\x64\162\151\145\172\x2d\166\x6f\x75\x73\x20\x76\162\x61\x69\x6d\x65\x6e\x74\x20\145\170\x63\154\x75\162\x65\x20" . $s->name . "\77\x43\145\x74\x74\x65\40\141\x63\x74\151\157\x6e\x20\x65\163\164\x20\x69\162\162\xc3\xa9\166\x65\x72\x73\151\x62\154\145\x2e\x3c\x62\x72\x3e\101\x6c\157\162\163\54\x20\143\x6f\x6e\164\151\x6e\165\145\162\x3f\42\40\x68\162\x65\146\75\42" . site_url("\x73\x74\165\x64\x65\156\164\x73\x2f\x64\145\x6c\x65\164\145\55\x73\x74\165\x64\x65\156\x74\x3f\x69\144\x3d" . $s->id) . "\x22\x3e\x45\x78\143\154\165\x72\145\40\154\x27\xc3\251\154\xc3\250\166\x65\74\x2f\141\76\xd\xa\11\11\x9\11\11\40\40\74\57\x64\x69\166\x3e\xd\xa\x9\11\11\11\x9\x3c\x2f\x64\x69\166\76")); } } goto UkYzt; jvAj8: extract($_GET); goto qkOGD; UkYzt: echo json_encode($d); goto mJuvQ; mJuvQ: } public function list_eleves() { goto WKf3J; KaKc5: if (!empty($std)) { $data = array(); foreach ($std as $key => $s) { array_push($d, array($s->mlle, $s->name, $s->sexe, $s->classe_nom, "\74\x61\x20\x68\162\145\146\75\x22" . site_url(format_dest($dest, $s->id)) . "\x22\x3e\x53\165\151\x76\141\156\164\x26\x72\x61\x72\x72\73\x3c\x2f\141\x3e")); } } goto gLzgx; WKf3J: extract($_GET); goto CdoHx; CdoHx: $d = array(); goto BRxNx; gLzgx: echo json_encode($d); goto qDTUr; BRxNx: $std = $this->std->liste(); goto KaKc5; qDTUr: } public function eleves_an() { goto F8NIP; mmU30: $d = array(); goto jElXz; GMFc9: echo json_encode($d); goto C8KM6; F8NIP: extract($_GET); goto mmU30; jElXz: if (isset($id) && !empty($id)) { $std = $this->std->list_an($id); if (!empty($std)) { $data = array(); foreach ($std as $key => $s) { array_push($d, array($key + 1, $s->name, $s->sexe, $s->mlle, $s->classe_nom, mysql2date($s->date))); } } } goto GMFc9; C8KM6: } public function classe_has_eleve() { goto ZDAlM; OthG8: if (isset($id) && !empty($id)) { $std = $this->std->list_class_std($id); if (!empty($std)) { $data = array(); foreach ($std as $key => $s) { array_push($d, array($key + 1, $s->name, $s->sexe, $s->mlle, mysql2date($s->date), "\74\144\x69\166\40\x63\154\x61\x73\163\75\42\144\x72\x6f\x70\144\x6f\x77\x6e\42\76\xd\xa\11\11\x9\x9\x9\11\40\40\x3c\x62\165\x74\x74\x6f\156\x20\x63\x6c\x61\x73\163\x3d\x22\142\164\x6e\40\x62\164\156\55\163\145\143\157\x6e\x64\141\162\x79\40\x62\164\x6e\55\x73\155\40\144\162\x6f\x70\x64\x6f\x77\156\x2d\164\157\147\147\x6c\145\x22\40\164\x79\x70\145\x3d\x22\x62\165\164\164\x6f\x6e\42\40\x69\x64\75\42\144\x72\157\160\x64\157\x77\x6e\x4d\145\156\x75\102\165\x74\x74\x6f\156\42\40\x64\x61\x74\141\55\x74\x6f\147\x67\x6c\145\x3d\42\x64\x72\x6f\160\144\x6f\167\x6e\42\40\x61\162\x69\141\x2d\x68\141\x73\160\157\x70\165\x70\75\x22\x74\x72\165\145\x22\40\141\162\151\x61\55\145\170\x70\x61\156\144\145\144\x3d\x22\x66\x61\154\x73\x65\x22\76\15\xa\x9\x9\x9\11\11\x9\x20\40\40\40\x3c\151\40\x63\154\141\163\x73\x3d\x22\x66\141\x73\x20\x66\x61\55\x63\157\x67\42\x3e\x3c\x2f\151\76\xd\12\11\x9\11\11\x9\11\x20\40\74\x2f\x62\165\164\x74\157\x6e\x3e\xd\12\x9\11\11\x9\x9\x9\x20\40\x3c\x64\151\166\40\x63\154\x61\163\x73\x3d\x22\x64\x72\157\x70\144\x6f\167\156\x2d\x6d\145\x6e\165\x22\x20\141\x72\151\141\55\x6c\x61\x62\x65\154\x6c\145\x64\x62\171\75\x22\144\162\157\x70\144\x6f\167\x6e\115\145\x6e\x75\x42\x75\164\x74\x6f\x6e\x22\76\xd\xa\11\11\x9\11\x9\x9\40\x20\x9\74\x61\x20\x63\154\x61\x73\x73\75\x22\x64\x72\x6f\x70\x64\157\x77\156\x2d\151\164\x65\x6d\x22\40\150\x72\145\x66\75\x22" . site_url("\x73\164\x75\x64\145\156\164\163\x2f\145\144\151\x74\x3f\151\144\75" . $s->id) . "\42\76\x4d\157\144\151\146\x69\x65\162\x3c\x2f\x61\x3e\xd\xa\11\x9\x9\x9\11\x9\x20\x20\40\40\x3c\141\x20\143\154\x61\x73\x73\75\42\x64\x72\157\160\144\157\167\x6e\55\x69\x74\x65\x6d\x22\40\x68\162\x65\146\75\42" . site_url("\163\145\x6c\145\143\x74\x2f\x63\x6c\141\163\x73\x65\x3f\145\x6e\x63\157\x75\162\x73\x3d\x73\164\165\x64\145\x6e\x74\x26\x73\x75\142\x6d\x65\x6e\x75\x3d\x73\150\157\167\x2d\163\164\165\144\145\x6e\164\x73\x26\x64\145\x73\164\x3d\163\x74\x75\x64\x65\x6e\x74\163\57\x6d\151\147\x72\141\x74\145\72\x73\164\x75\x64\75" . $s->id . "\x3b\x64\x65\160\75" . $s->classe_id) . "\x22\x3e\115\x69\x67\162\145\162\x3c\57\x61\x3e\15\xa\11\x9\x9\11\x9\x9\x20\40\40\x20\74\x61\x20\143\x6c\141\163\163\x3d\x22\144\x72\x6f\160\x64\x6f\167\156\55\151\164\x65\155\x22\40\x68\162\x65\x66\x3d\x22" . site_url("\143\157\x6d\x70\x74\x61\x62\x69\x6c\x69\164\x65\57\x70\x61\171\155\x65\156\164\77\x69\x64\x3d" . $s->id) . "\42\x3e\x50\141\x79\x65\162\40\154\x61\40\163\143\x6f\154\x61\162\x69\164\303\xa9\74\x2f\x61\76\15\12\x9\x9\11\x9\x9\x9\40\40\x20\x20\74\141\40\x63\x6c\141\163\163\75\42\x64\162\157\x70\x64\157\x77\x6e\x2d\151\x74\x65\x6d\x22\40\x68\x72\x65\x66\x3d\42" . site_url("\163\x65\154\x65\143\x74\57\x64\145\143\157\x75\x70\141\147\x65\77\145\156\143\x6f\165\x72\x73\x3d\156\x6f\164\145\x26\x73\165\x62\155\x65\156\x75\75\145\x64\151\x74\55\156\x6f\x74\x65\x73\x26\x63\154\163\75" . $s->classe_id . "\46\x64\145\163\164\75\x6e\157\164\x65\163\x2f\x73\x74\x64\55\156\x6f\x74\x65\163\x3a\x63\x6c\x73\x3d" . $s->classe_id . "\73\x73\164\144\75" . $s->id) . "\x22\x3e\126\157\x69\162\x20\x6c\x65\163\x20\x6e\157\x74\145\x73\74\x2f\141\x3e\15\xa\11\11\11\11\11\11\40\x20\x20\40\74\141\40\x63\x6c\x61\163\x73\x3d\x22\x64\162\157\x70\144\x6f\x77\x6e\55\151\164\145\x6d\x22\x20\x68\162\145\x66\x3d\x22" . site_url("\163\x74\165\144\x65\156\164\163\57\x70\x61\162\x63\157\x75\162\163\x3f\x69\x64\x3d" . $s->id) . "\42\x3e\x56\157\x69\x72\x20\x6c\145\x20\160\141\x72\143\157\165\162\x73\x3c\57\x61\76\xd\xa\x9\11\x9\11\x9\11\40\40\x20\40\x3c\141\x20\143\154\141\163\x73\x3d\42\144\162\x6f\160\x64\157\x77\x6e\x2d\151\x74\x65\155\42\40\x68\162\145\x66\75\x22" . site_url("\163\164\165\x64\x65\x6e\x74\x73\57\160\162\157\x66\x69\x6c\145\77\x69\144\x3d" . $s->id) . "\x22\x3e\x43\157\155\160\154\xc3\xa9\x74\x65\x72\x20\154\x65\163\40\151\x6e\x66\157\x73\x3c\57\x61\x3e\15\12\11\11\x9\11\x9\11\x20\40\x20\40\x3c\141\40\143\154\141\x73\x73\75\42\144\x72\x6f\160\144\x6f\167\156\x2d\x69\164\x65\155\x22\40\x68\162\145\146\x3d\42" . site_url("\x73\164\165\144\x65\156\x74\x73\x2f\x66\x69\x63\x68\145\77\151\x64\75" . $s->id) . "\42\x3e\106\151\143\150\x65\40\x64\145\40\x6c\47\xc3\251\154\303\xa8\166\x65\74\57\x61\x3e\15\xa\11\x9\11\11\11\11\40\40\74\x2f\x64\x69\x76\x3e\xd\xa\x9\11\x9\x9\x9\11\74\57\144\x69\x76\x3e")); } } } goto z83PM; RHQS1: $d = array(); goto OthG8; ZDAlM: extract($_GET); goto RHQS1; z83PM: echo json_encode($d); goto LUh7X; LUh7X: } public function level_has_eleve() { goto Cc0EI; Cc0EI: extract($_GET); goto lCNlx; lCNlx: $d = array(); goto opnil; bi6bB: echo json_encode($d); goto BhJHs; opnil: if (isset($id) && !empty($id)) { $std = $this->std->list_level_std($id); if (!empty($std)) { $data = array(); foreach ($std as $key => $s) { array_push($d, array($key + 1, $s->name, $s->sexe, $s->mlle, $s->classe_nom, mysql2date($s->date), "\74\144\x69\x76\40\x63\154\141\x73\x73\x3d\42\144\162\157\160\144\157\x77\x6e\42\x3e\xd\12\x9\11\11\11\11\x9\40\x20\x3c\142\x75\x74\x74\x6f\156\40\143\154\141\x73\x73\x3d\x22\x62\164\x6e\40\142\164\x6e\55\163\x65\x63\157\156\x64\x61\x72\x79\40\x62\164\x6e\x2d\x73\x6d\x20\144\162\157\x70\144\157\167\x6e\x2d\x74\157\x67\147\154\145\x22\x20\164\171\160\x65\75\x22\x62\x75\164\x74\x6f\156\42\40\x69\x64\x3d\x22\144\162\x6f\x70\144\x6f\167\156\115\145\x6e\x75\102\x75\x74\164\157\156\x22\x20\x64\x61\x74\141\x2d\x74\x6f\147\147\154\145\75\42\144\x72\x6f\160\x64\x6f\167\x6e\x22\x20\141\x72\151\141\55\150\141\163\x70\157\160\x75\160\x3d\42\x74\162\x75\x65\42\40\141\x72\151\x61\55\x65\x78\x70\x61\156\x64\145\144\75\x22\146\141\154\163\x65\x22\76\xd\12\x9\11\x9\x9\11\x9\40\40\40\x20\74\x69\40\143\x6c\141\x73\163\75\42\x66\141\x73\x20\x66\x61\55\143\x6f\x67\x22\76\74\57\151\76\15\12\x9\x9\11\11\11\11\40\40\74\57\x62\165\x74\x74\x6f\156\x3e\15\xa\11\x9\11\11\11\x9\x20\40\74\144\x69\x76\40\x63\x6c\x61\163\x73\75\x22\x64\162\x6f\160\144\157\167\156\x2d\155\x65\156\x75\x22\40\x61\x72\151\141\55\x6c\x61\x62\x65\x6c\x6c\x65\144\142\x79\x3d\42\144\x72\x6f\160\x64\157\x77\x6e\115\x65\156\165\102\165\164\x74\x6f\x6e\42\x3e\15\12\11\x9\x9\11\x9\11\40\x20\x20\40\74\x61\40\x63\x6c\x61\163\163\x3d\42\x64\x72\157\160\144\x6f\x77\x6e\55\151\164\x65\155\42\40\150\x72\x65\146\75\42" . site_url("\163\145\154\x65\x63\164\57\143\x6c\141\x73\x73\x65\77\145\156\143\x6f\x75\x72\x73\75\163\x74\x75\x64\x65\156\164\x26\x73\x75\142\155\x65\156\165\x3d\163\150\157\x77\55\x73\164\165\144\x65\x6e\164\x73\46\144\145\163\164\75\163\x74\x75\x64\145\156\164\x73\57\155\151\x67\162\141\x74\x65\x3a\x73\164\x75\x64\x3d" . $s->id . "\73\x64\x65\160\x3d" . $s->classe_id) . "\x22\76\x4d\151\x67\x72\x65\x72\x3c\x2f\x61\x3e\xd\xa\11\11\11\x9\11\11\x20\40\x20\40\74\141\x20\143\154\141\x73\163\x3d\x22\144\162\x6f\160\x64\157\167\156\x2d\151\164\145\155\42\40\150\162\145\146\x3d\x22" . site_url("\x63\x6f\x6d\160\164\141\x62\x69\x6c\151\164\145\x2f\160\141\171\155\x65\x6e\x74\77\151\144\x3d" . $s->id) . "\x22\76\120\141\x79\x65\x72\40\x6c\x61\40\163\x63\x6f\x6c\141\162\151\164\303\251\x3c\x2f\141\x3e\xd\xa\11\11\11\11\x9\11\40\40\40\40\74\x61\x20\x63\x6c\x61\163\x73\75\42\x64\162\157\160\x64\157\x77\156\55\151\164\x65\x6d\x22\40\x68\x72\x65\x66\75\42" . site_url("\163\x65\x6c\x65\143\164\57\x64\x65\x63\157\165\160\x61\x67\145\x3f\x65\156\143\x6f\165\162\x73\x3d\x6e\157\x74\145\46\163\x75\x62\x6d\x65\156\x75\75\145\144\x69\x74\55\x6e\x6f\x74\145\x73\46\x63\x6c\x73\75" . $s->classe_id . "\46\x64\145\x73\x74\x3d\156\157\164\145\163\57\x73\x74\x64\x2d\x6e\157\x74\145\x73\x3a\x63\x6c\163\75" . $s->classe_id . "\x3b\163\164\x64\75" . $s->id) . "\42\76\x56\157\151\162\x20\154\145\x73\x20\x6e\x6f\164\145\x73\x3c\x2f\141\76\xd\12\11\x9\11\x9\11\x9\x20\40\40\40\74\x61\x20\x63\154\x61\x73\x73\x3d\42\x64\x72\x6f\x70\144\157\167\156\55\151\x74\145\155\x22\x20\x68\x72\145\x66\75\x22" . site_url("\x73\x74\165\x64\145\x6e\164\x73\x2f\x70\x61\x72\143\157\165\x72\x73\x3f\x69\x64\75" . $s->id) . "\42\x3e\126\x6f\151\x72\40\154\x65\40\160\x61\x72\143\x6f\165\162\163\74\57\x61\76\15\12\11\11\11\11\x9\11\40\x20\x20\40\74\x61\x20\x63\154\141\x73\x73\x3d\x22\144\162\x6f\x70\x64\x6f\x77\156\x2d\x69\x74\x65\155\x22\40\150\x72\x65\146\x3d\42" . site_url("\x73\x74\165\144\145\x6e\164\x73\57\160\x72\x6f\146\x69\x6c\x65\x3f\151\x64\75" . $s->id) . "\42\76\x43\x6f\x6d\160\x6c\303\251\164\x65\162\x20\154\145\163\x20\x69\156\146\x6f\163\74\57\141\x3e\15\xa\x9\11\11\11\x9\x9\40\x20\x20\x20\74\141\40\x63\154\141\163\x73\75\42\x64\x72\157\x70\144\157\167\x6e\x2d\151\164\145\155\42\x20\150\x72\145\146\x3d\42" . site_url("\163\164\x75\x64\145\x6e\x74\163\57\x66\x69\x63\150\145\x3f\151\144\75" . $s->id) . "\42\x3e\x46\x69\143\x68\145\40\144\145\x20\x6c\47\xc3\251\154\303\xa8\166\145\74\x2f\141\x3e\xd\12\x9\x9\11\11\x9\x9\x20\40\74\x2f\x64\151\x76\x3e\15\xa\x9\11\x9\x9\x9\x9\74\57\144\x69\166\x3e")); } } } goto bi6bB; BhJHs: } public function transfert_std() { goto vSahr; vSahr: extract($_POST); goto OrYkI; S0JhQ: echo json_encode($d); goto H5gWE; nZgDz: if (isset($id) && !empty($id) && isset($ids) && !empty($ids)) { goto cZ0rL; RDUqo: if ($done) { $d["\x65\162\x72\x6f\162"] = false; } else { $d["\145\x72\x6d\163\147"] = "\x55\156\145\x20\145\x72\x72\x65\x75\162\40\163\x27\145\x73\164\x20\160\x72\157\144\165\x69\164\145\40\x6c\x6f\162\x73\40\x64\145\x20\x6c\47\145\x6e\x72\145\x67\151\163\x74\162\145\x6d\x65\x6e\x74\40\x64\145\163\x20\144\157\x6e\x6e\xc3\251\145\163"; } goto Je6Zs; cZ0rL: $stds = explode("\54", $ids); goto JCPwB; x230P: $done = $this->mydb->custom_set($sql, $stds); goto RDUqo; y32du: $sql = "\x55\x50\x44\101\x54\105\40\x63\154\141\x73\163\x65\137\x68\x61\163\137\145\x6c\145\x76\x65\40\123\105\124\x20\143\x6c\141\x73\x73\145\x20\75\x20{$id}\40\x57\x48\x45\122\105\x20\x65\x6c\x65\166\x65\x20\111\x4e\40\x28{$params}\x29"; goto x230P; JCPwB: $params = set_params($stds); goto y32du; Je6Zs: } else { $d["\x65\162\155\163\147"] = "\x50\x61\x72\141\155\xc3\250\x74\162\x65\x73\x20\151\x6e\163\165\146\x66\151\163\x61\156\164\163"; } goto S0JhQ; OrYkI: $d["\145\x72\x72\x6f\162"] = true; goto nZgDz; H5gWE: } public function get_class_std() { goto VrkCf; Zh6MV: if (isset($id) && !empty($id)) { $std = $this->std->list_class_std($id); if (!empty($std)) { goto X95_Y; GmR4H: $excluded = $this->get_bulletin_exclude($an, $id, $dec); goto V3C_G; X95_Y: $this->set_bullsession_params($id, $std); goto GmR4H; V3C_G: if (!empty($std)) { goto iE87A; hqjXg: $d["\144\x61\164\141"] = $data; goto QEyak; COFFw: foreach ($std as $s) { if (!in_array($s->id, $excluded)) { array_push($data, $s); } } goto nXtYf; nXtYf: $d["\x65\x72\x72\157\162"] = false; goto hqjXg; iE87A: $data = array(); goto COFFw; QEyak: } else { $d["\145\x72\x6d\163\147"] = "\101\165\x63\165\x6e\x20\303\xa9\154\xc3\250\x76\145\x20\x64\141\156\163\40\154\141\x20\x63\154\141\163\163\x65"; } goto sHRHL; sHRHL: } else { $d["\x65\162\155\163\147"] = "\x43\x65\x74\164\x65\40\143\x6c\141\x73\163\x65\40\156\x65\40\x63\x6f\156\x74\151\145\x6e\x74\x20\160\x61\163\40\x64\x27\xc3\251\154\xc3\250\x76\x65"; } } else { $d["\x65\162\155\x73\147"] = "\120\141\162\141\x6d\303\250\164\x72\145\163\40\x69\x6e\x73\165\x66\146\x69\163\141\156\164\163"; } goto gUpyp; VrkCf: extract($_POST); goto bCdJ_; bCdJ_: $d["\x65\x72\x72\x6f\x72"] = true; goto Zh6MV; gUpyp: $this->output->set_content_type("\x61\160\160\154\x69\x63\141\164\x69\157\x6e\x2f\x6a\163\x6f\156")->set_output(json_encode($d)); goto t7h8I; t7h8I: } public function calcul_moyenne() { goto f2ZbR; OtG6w: $d["\x65\x72\162\157\162"] = true; goto lVqko; lVqko: if (isset($id) && !empty($id) && (isset($an) && !empty($an)) && (isset($dec) && !empty($dec)) && (isset($std) && !empty($std))) { $notes = $this->nts->get_std_bulnotes($std, $id, $an, $dec); if (!empty($notes)) { $d["\145\162\162\x6f\x72"] = false; $d["\144\141\x74\x61"] = $this->calculateNotes($notes, $std, $id, $an, $dec); } else { $d["\x65\162\x6d\163\x67"] = "\x41\165\143\165\x6e\x65\40\x6e\157\164\145\40\x70\x6f\165\162\x20\143\x65\x74\40\303\xa9\x6c\303\250\166\x65"; } } else { $d["\145\x72\155\163\x67"] = "\120\141\162\x61\x6d\303\250\x74\162\145\x73\x20\151\x6e\163\165\x66\x66\151\x73\x61\156\164\163"; } goto wTkSN; f2ZbR: extract($_POST); goto OtG6w; wTkSN: echo json_encode($d); goto unny5; unny5: } public function generate_bulletin_file() { goto y6qRc; qYPnl: if (isset($id, $an, $dec)) { goto MCyso; MCyso: $name = "\147\162\141\144\x65\142\157\157\x6b\x5f" . $id; goto pG7VK; clAXU: if (!empty($gradebook)) { $done = $this->write_file($gradebook, $id, $an, $dec); if ($done) { goto U_oiS; bGK3H: $d["\x65\162\162\x6f\x72"] = false; goto nDiSw; nDiSw: $d["\144\x61\x74\141"] = $done; goto x1QIe; U_oiS: $this->auth->unset_session_var("\x67\162\x61\x64\x65\x62\x6f\x6f\153\x5f" . $id); goto bGK3H; x1QIe: } else { $d["\x65\162\x6d\163\147"] = "\111\155\160\x6f\163\163\x69\x62\x6c\145\x20\144\145\x20\147\xc3\251\156\303\251\x72\145\162\x20\154\x65\40\146\x69\143\x68\151\145\x72\40\x64\x65\x73\x20\142\x75\x6c\x6c\145\x74\x69\156\x73"; } } else { $d["\x65\x72\155\163\x67"] = "\x41\x75\143\x75\156\x65\x20\144\157\156\x6e\303\251\x65\x20\x74\x72\x6f\165\x76\303\xa9\145"; } goto Hw2fR; pG7VK: $gradebook = $this->auth->get_session_var($name); goto clAXU; Hw2fR: } else { $d["\145\x72\x6d\163\147"] = "\x50\141\162\141\x6d\303\xa8\164\162\x65\163\x20\x69\x6e\163\165\x66\x66\x69\163\141\156\164\x73"; } goto d91tu; d91tu: echo json_encode($d); goto Hw1Jr; y6qRc: extract($_POST); goto hS2CG; hS2CG: $d["\x65\x72\162\x6f\x72"] = true; goto qYPnl; Hw1Jr: } public function set_std_avatar() { goto Cdvrn; gDael: if (isset($id, $img)) { $done = $this->utilitaire->avatar_create_sizes($img); if ($done) { $this->std->set_meta($id, "\141\166\141\164\141\162", $done); $d["\x65\162\162\157\x72"] = false; } else { $d["\145\162\155\x73\147"] = "\125\x6e\145\x20\145\162\x72\x65\165\x72\x20\x65\x73\164\40\163\x75\x72\166\x65\156\165\145\x20\154\157\x72\x73\40\x64\145\40\154\47\145\156\x72\145\x67\151\x73\164\162\145\x6d\x65\x6e\164\40\x64\x65\x20\154\47\x69\155\141\147\x65"; } } else { $d["\145\162\x6d\163\x67"] = "\x50\141\162\141\155\303\xa8\x74\x72\x65\163\40\x69\x6e\x73\x75\146\146\151\163\x61\156\164\163"; } goto Jzgds; Cdvrn: extract($_POST); goto ATr7I; Jzgds: echo json_encode($d); goto nYvR1; ATr7I: $d["\145\162\x72\157\162"] = true; goto gDael; nYvR1: } public function upload_avatar() { goto R4TFC; va3Kx: extract($_GET); goto NrNKl; R4TFC: $d["\x65\162\162\x6f\x72"] = true; goto va3Kx; wtDei: if ($avatar["\145\162\x72\157\x72"] == 0) { goto KyNam; KyNam: $name = $id . "\x2e\x70\156\147"; goto vI2Mp; Nv2YH: $d["\x64\x61\164\141"] = img2base64($name); goto wnUCO; GntWZ: $d["\145\x72\162\157\162"] = false; goto Nv2YH; vI2Mp: move_uploaded_file($avatar["\x74\155\160\x5f\156\141\155\x65"], $_SERVER["\120\x72\157\147\162\x61\x6d\104\141\164\x61"] . "\57\x61\x67\145\57\x73\143\157\154\x2f\151\155\x61\147\145\163\57" . $name); goto GntWZ; wnUCO: } else { $d["\145\162\x6d\163\147"] = "\106\x69\143\150\x69\x65\x72\40\151\156\143\x6f\x72\162\145\x63\x74\x2e\x20\111\155\160\157\163\x73\151\142\x6c\x65\40\144\x27\145\x6e\162\145\x67\x69\x73\164\x72\145\x72\40\x63\x65\40\146\x69\143\x68\151\145\x72"; } goto rt6EP; NrNKl: $avatar = $_FILES["\x61\x76\141\x74\x61\x72"]; goto wtDei; rt6EP: header("\x43\x6f\x6e\164\x65\156\164\55\124\171\x70\145\72\x20\x74\145\170\x74\57\152\x73\157\x6e"); goto rTdM9; rTdM9: echo json_encode($d); goto U8m6u; U8m6u: } public function check_password() { goto G_672; Gtj_S: $this->output->set_content_type("\141\160\160\x6c\x69\143\x61\164\x69\x6f\x6e\x2f\152\x73\x6f\156")->set_output(json_encode($d)); goto yOejQ; G_672: extract($_POST); goto CmnnL; A83Xd: if ($this->auth->is_loggedin()) { if (isset($pass) && !empty($pass)) { $user = $this->users->get($this->id); if ($user["\145\162\162\157\162"] === false) { goto iyCeI; IRQWl: if ($pass === $us->pass) { $d["\x65\x72\162\157\162"] = false; } else { $d["\145\162\x6d\163\147"] = "\115\x6f\x74\40\144\145\x20\x70\x61\163\x73\x65\40\x69\156\x63\x6f\x72\x72\145\143\164"; } goto hXOy9; gI_bx: $us = $user["\x64\141\164\x61"]; goto IRQWl; iyCeI: $pass = hash_password($pass, $this->id); goto gI_bx; hXOy9: } else { $d["\x65\x72\155\163\x67"] = $user["\145\162\x6d\163\x67"]; } } else { $d["\145\162\155\163\x67"] = "\x56\x65\x75\151\x6c\x6c\145\172\40\162\x65\156\163\145\151\147\156\x65\x72\x20\x75\156\40\155\157\164\40\144\145\40\160\x61\x73\x73\145"; } } else { $d["\x65\x72\x6d\163\x67"] = "\126\x6f\165\163\40\x6e\47\xc3\252\164\x65\x73\x20\x70\141\x73\x20\143\157\156\156\145\143\x74\303\xa9"; } goto Gtj_S; CmnnL: $d = array("\x65\162\x72\157\162" => true); goto A83Xd; yOejQ: } public function get_eleve_mlle() { goto EI2Xc; JUxSL: $std = $this->std->liste(); goto ISJGL; EI2Xc: $d = array(); goto JUxSL; M1y_L: $this->output->set_content_type("\x61\160\160\154\151\143\141\x74\151\157\156\x2f\152\163\x6f\x6e")->set_output(json_encode(array("\x64\x61\164\x61" => $d))); goto IHvsp; ISJGL: if (!empty($std)) { $d = $std; } goto M1y_L; IHvsp: } public function get_eleve_list() { goto iXqxu; iXqxu: $d = array(); goto QQ_3U; AeNRO: if (!empty($stds)) { $d = $stds; } goto METl6; METl6: $this->output->set_content_type("\141\160\160\x6c\x69\143\141\x74\x69\157\156\57\152\x73\157\x6e")->set_output(json_encode($d)); goto QYgZ3; QQ_3U: $stds = $this->std->list_ids(); goto AeNRO; QYgZ3: } public function get_decoupages() { goto dgkrm; qpp0O: $d["\x65\162\x72\x6f\162"] = true; goto kWjJI; kWjJI: if (isset($id) && !empty($id)) { $dec = $this->an->get_decoupages(); if (!empty($dec)) { $d["\x65\162\x72\157\x72"] = false; $d["\144\141\x74\141"] = $dec; } else { $d["\145\x72\155\x73\147"] = "\x41\165\x63\x75\156\x20\144\xc3\251\x63\x6f\165\x70\x61\x67\145\40\x64\x69\163\160\x6f\x6e\x69\142\x6c\145"; } } else { $d["\145\x72\x6d\163\147"] = "\120\141\x72\141\155\303\xa8\x74\x72\x65\163\40\x69\x6e\163\x75\146\146\151\163\141\x6e\x74\163"; } goto qzIb9; dgkrm: extract($_POST); goto qpp0O; qzIb9: $this->output->set_content_type("\141\160\160\154\151\143\141\x74\151\157\x6e\x2f\152\163\x6f\x6e")->set_output(json_encode($d)); goto LDOq4; LDOq4: } public function format_mlle() { goto m34_r; m34_r: extract($_POST); goto cDPmZ; cDPmZ: $d["\x65\x72\162\157\x72"] = true; goto k7I_l; k7I_l: if (isset($id) && !empty($id)) { $elv = $this->std->get($id); if (!empty($elv)) { goto iDIdx; xfqxM: $d["\144\x61\164\x61"] = $dates; goto cmGzj; MgsyZ: $d["\145\x72\162\157\x72"] = false; goto xfqxM; LaZcW: $fp = substr($an, 2, 2); goto u4gQQ; uojKn: if ($niv == 1 || $niv == 2) { $l = "\x50"; } else { if ($niv == 3) { $l = "\x43"; } else { $l = "\114"; } } goto LaZcW; u4gQQ: $mlle = $fp . $l . format_mlle($id); goto hHSdv; iDIdx: $dates = explode("\x2d", $elv->created); goto kFCNy; O59e8: $niv = intval($cni); goto uojKn; kFCNy: $an = intval($dates[0]); goto LoiRl; MuQgY: if ($mois < 7) { $can = $an - 1 . "\x2d" . $an; } else { $can = $an . "\55" . ($an + 1); } goto JNcSn; hHSdv: $this->mydb->update("\145\154\145\x76\145", array("\x6d\x6c\154\x65" => $mlle), array("\x69\144" => $id)); goto MgsyZ; LoiRl: $mois = intval($dates[1]); goto MuQgY; JNcSn: $cni = $this->std->get_first_niveau($can, $id); goto O59e8; cmGzj: } else { $d["\145\x72\155\x73\x67"] = "\x55\163\145\x72\72\x20{$id}\x20\75\76\40\x56\151\x64\x65"; } } else { $d["\145\x72\155\x73\147"] = "\x50\141\162\x61\x6d\xc3\250\164\x72\x65\x73\x20\x69\156\163\165\x66\x66\151\163\141\156\164\x73"; } goto XmEip; XmEip: $this->output->set_content_type("\x61\160\160\x6c\151\143\141\164\151\x6f\156\x2f\x6a\163\x6f\x6e")->set_output(json_encode($d)); goto McVLn; McVLn: } public function get_std_mlle() { goto RWInd; CdeUr: $d["\145\x72\x72\157\162"] = true; goto s9LAe; Gxzuf: $this->output->set_content_type("\x61\160\160\154\151\x63\x61\x74\x69\157\156\57\x6a\163\x6f\156")->set_output(json_encode($d)); goto e41OH; RWInd: extract($_POST); goto CdeUr; s9LAe: if (isset($id) && !empty($id)) { $niv = $this->cls->get_classe_niveau($id); if (!empty($niv)) { goto z9qUM; CBGk5: $fp = substr(gmdate("\131"), 2, 2); goto ZVDih; z9qUM: if ($niv == 1 || $niv == 2) { $l = "\120"; } else { if ($niv == 3) { $l = "\x43"; } else { $l = "\114"; } } goto CBGk5; ZVDih: $last = $this->std->get_last_id(); goto k0iWZ; zNZ2U: $d["\x65\162\x72\x6f\x72"] = false; goto KBmFa; k0iWZ: $std_id = intval($last) + 1; goto tDoHi; tDoHi: $mlle = $fp . $l . format_mlle($std_id); goto zNZ2U; KBmFa: $d["\144\x61\x74\141"] = $mlle; goto gTXI1; gTXI1: } else { $d["\145\x72\x6d\x73\x67"] = "\x49\x6d\160\157\163\x73\151\142\154\145\x20\x64\145\40\x74\162\x6f\x75\166\145\x72\x20\154\145\x20\x6e\x69\166\x65\141\165"; } } else { $d["\145\162\155\163\x67"] = "\120\x61\x72\141\x6d\303\250\x74\x72\x65\x73\40\x69\x6e\x73\x75\146\x66\x69\163\x61\156\164\x73"; } goto Gxzuf; e41OH: } public function deactive_std() { goto UvdeY; YJZun: $d["\145\162\162\157\x72"] = true; goto mwvRv; UvdeY: extract($_POST); goto YJZun; rli5N: $this->output->set_content_type("\x61\x70\x70\x6c\151\x63\141\164\x69\157\x6e\x2f\x6a\163\x6f\x6e")->set_output(json_encode($d)); goto X8YJM; mwvRv: if (isset($id, $dec)) { goto HBh80; GqQ4I: $d["\144\141\164\x61"] = $data; goto odsy5; HQsIt: $elv = $this->std->list_class_std($id); goto if3N4; HBh80: $data = 0; goto HQsIt; uz2OU: $d["\145\x72\x72\x6f\162"] = false; goto GqQ4I; if3N4: if (!empty($elv)) { goto WAN0N; Xu0UJ: $to_deactivate = array(); goto YdpB0; mlvm4: foreach ($to_deactivate as $key => $td) { if (count($td) == 0) { goto Uu4e8; UHKaJ: $this->mydb->delete("\156\157\x74\145", $where); goto F9w1J; Uu4e8: $where = array("\141\x6e" => $an, "\x64\145\x63\157\165\160\x61\x67\145" => $dec, "\x65\154\145\166\x65" => $key); goto UHKaJ; F9w1J: $this->mydb->delete("\x62\x75\x6c\154\145\164\151\156", $where); goto Xw5KA; Xw5KA: $this->mydb->delete("\x63\154\141\163\163\145\137\150\x61\x73\x5f\x65\x6c\145\166\145", array("\x61\x6e" => $an, "\143\x6c\141\163\x73\145" => $id, "\x65\x6c\145\x76\145" => $key)); goto Y0RWQ; Y0RWQ: $data += 1; goto wQp6V; wQp6V: } } goto ptV_x; WAN0N: $an = $this->utilitaire->get_an()->id; goto Xu0UJ; YdpB0: foreach ($elv as $s) { $notes = $this->nts->get_std_notes($id, $dec, $s->id); if (!empty($notes)) { foreach ($notes as $nt) { if ($nt->moyenne > 0) { $to_deactivate[$s->id][$nt->nom_court] = $nt->moyenne; } else { $to_deactivate[$s->id] = array(); } } } } goto mlvm4; ptV_x: } goto uz2OU; odsy5: } else { $d["\x65\x72\155\163\147"] = "\x50\x61\162\141\155\xc3\xa8\x74\162\145\163\40\x69\156\163\x75\x66\146\x69\x73\x61\156\164\163"; } goto rli5N; X8YJM: } public function get_eleve_admis() { goto vvMlB; i5pTW: $cls = $this->input->get("\143\x6c\x73", true); goto m2010; xDDfa: if (!empty($cls) & !empty($id)) { $classes = $this->cls->get_prev_cls($cls - 1); $d = $this->std->list_prev_std2($classes, $cls, $id); } goto g3lTC; vvMlB: $d = array(); goto i5pTW; g3lTC: $this->output->set_content_type("\141\x70\x70\154\151\143\141\x74\151\157\x6e\x2f\152\x73\x6f\156")->set_output(json_encode(array("\144\x61\x74\x61" => $d))); goto KSSzq; m2010: $id = $this->input->get("\x69\144", true); goto xDDfa; KSSzq: } public function inscrire_admi() { goto KJaSI; TYstx: $cls = $this->input->post("\151\144", true); goto HbikA; tr81o: if (!empty($cls) && !empty($std)) { $d = $this->std->set_std_classe2($cls, $std, $state); } else { $d["\x65\162\x6d\163\147"] = "\x50\141\x72\141\155\xc3\250\x74\x72\x65\163\x20\151\156\x73\165\x66\146\x69\x73\141\x6e\x74\x73"; } goto bechE; KJaSI: $d["\x65\162\x72\157\162"] = true; goto TYstx; bechE: $this->output->set_content_type("\141\160\160\x6c\151\x63\141\x74\x69\157\x6e\x2f\152\x73\x6f\156")->set_output(json_encode($d)); goto NLlF3; HbikA: $std = $this->input->post("\163\164\x64", true); goto oVoo2; oVoo2: $state = $this->input->post("\x73\x74\x61\x74\145", true); goto tr81o; NLlF3: } private function get_taf($id) { goto sdXai; vDH7D: if (!empty($tafs)) { foreach ($tafs as $t) { goto PhPqW; U7tPN: if ($t->status == 0) { $message = "\74\144\x69\x76\40\x63\154\x61\x73\x73\x3d\x22\141\154\x65\162\x74\x20\141\x6c\x65\x72\164\55\163\x65\143\x6f\156\144\141\162\x79\40\x61\x6c\145\162\164\x2d\x64\151\x73\x6d\151\x73\x73\x69\x62\x6c\x65\x22\76\xd\12\x9\x9\x9\x9\11\x20\40\74\x62\x75\x74\164\157\x6e\40\164\171\x70\x65\x3d\42\142\165\164\164\x6f\156\42\40\x63\x6c\x61\163\163\75\x22\x63\x6c\157\163\145\40\143\154\x6f\x73\145\55\x74\x61\146\x22\x20\x64\141\x74\x61\x2d\x69\144\75\42" . $t->id . "\x22\x3e\x26\164\x69\x6d\x65\x73\x3b\74\57\x62\x75\164\x74\157\156\76\xd\xa\11\x9\x9\x9\11\40\40\74\141\x20\150\x72\x65\146\75\42\152\x61\x76\141\163\143\x72\x69\x70\164\72\x65\144\151\164\x54\x61\146\50\47{$msg}\x27\x2c\x20{$t->id}\51\42\76" . $t->message . "\x3c\57\x61\76\xd\12\x9\x9\11\x9\11\74\57\x64\x69\166\x3e"; } else { $message = "\74\144\151\x76\40\143\154\x61\x73\163\75\42\x61\x6c\x65\x72\x74\40\x61\154\145\x72\x74\x2d\x6c\151\147\x68\x74\40\x61\x6c\x65\162\164\x2d\144\x69\x73\x6d\151\163\x73\151\x62\154\145\42\76\15\xa\x9\x9\x9\x9\11\40\x20\74\x61\40\150\x72\145\146\75\42\152\x61\x76\x61\163\143\x72\x69\160\x74\x3a\x65\x64\151\164\124\x61\x66\x28\47{$msg}\x27\54\40{$t->id}\51\x22\x3e\x3c\144\x65\x6c\40\143\x6c\141\163\163\75\42\164\145\170\x74\x2d\x73\145\x63\157\x6e\x64\141\162\171\x22\x3e" . $t->message . "\74\57\144\145\x6c\x3e\74\x2f\141\x3e\15\xa\11\x9\11\11\11\x3c\x2f\x64\151\166\x3e"; } goto lgY1x; lgY1x: array_push($d, $message); goto UwVj2; PhPqW: $msg = str_replace("\47", "\x5c\x27", $t->message); goto U7tPN; UwVj2: } } goto mCyYh; sdXai: $d = array(); goto vXvr4; mCyYh: return $d; goto okM46; vXvr4: $tafs = $this->mydb->gets("\164\x61\146", '', array("\165\x73\x65\x72" => $id, "\x6d\157\x64\x69\146\x69\x65\144" => array("\114\x49\x4b\105" => "\x25" . gmdate("\x59\55\x6d\55\144") . "\x25")), '', array("\155\157\144\151\x66\x69\x65\x64" => "\101\123\103")); goto vDH7D; okM46: } private function calculateNotes($notes, $id, $cls, $an, $dec) { goto JGgVn; eNoUC: if (!empty($notes)) { goto nlb2f; DJJfB: $lt = array(); goto NPv3t; K1rYt: $nit = 0; goto Bc_lQ; FNJFC: $nts[$id]["\x69\164"] = $it; goto TFaue; d4EPS: $cit = 0; goto Wzrv9; jv862: foreach ($notes as $n) { goto yrGMY; yrGMY: if ($n->nom_court != $aps) { if (!in_array($n->subject_id, $mats)) { $ttn += $n->moyenne * $n->coef; $ttc += $n->coef; } } goto A2IbT; C3mHw: $prof = ucfirst($n->civilite) . "\x20" . ucfirst($n->nom); goto yT2qL; Y7Mjd: if (isset($npmo[$n->subject_id])) { if (!in_array($nnt, $npmo[$n->subject_id])) { $npmo[$n->subject_id][] = $nnt; } } else { $npmo[$n->subject_id][] = $nnt; } goto C3mHw; BKAjh: $nnt = round($totp, 2); goto Y7Mjd; fquTg: $totp = $n->moyenne * $n->coef / $n->coef; goto BKAjh; yT2qL: if ($n->nature == 1 && $n->type == 1) { if (!in_array($n->subject_id, $mats)) { goto jEY3w; jEY3w: $nsc += $n->moyenne * $n->coef; goto EfWBH; naubo: array_push($sc, array("\151\x64" => $n->id, "\163\x69\144" => $n->subject_id, "\x73\x75\142\x6a\x65\x63\164" => $matiere, "\x6e\x63\61" => $n->nc1, "\x6e\143\x32" => $n->nc2, "\x63\154\163\137\155\x6f\171" => $n->moyen_cls, "\143\157\155\160\x6f" => $n->compo, "\x6d\157\x79" => $n->moyenne, "\x63\x6f\145\x66" => $n->coef, "\160\x72\x6f\146" => $prof, "\141\x70\160\162\145\143\x69\x61\x74\x69\x6f\156" => $n->appreciation)); goto O_VI9; EfWBH: $csc += $n->coef; goto naubo; O_VI9: } else { array_push($sc, array("\x69\144" => $n->id, "\x73\x69\144" => $n->subject_id, "\x73\165\x62\x6a\x65\143\164" => $matiere, "\x6e\143\x31" => "\55", "\156\x63\x32" => "\55", "\x63\x6c\x73\137\155\x6f\x79" => "\x2d", "\x63\x6f\155\160\x6f" => "\55", "\x6d\157\x79" => "\55", "\x63\x6f\x65\x66" => "\55", "\160\x72\157\x66" => $prof, "\x61\160\160\162\145\143\151\x61\x74\151\157\x6e" => "\x2d")); } } else { if ($n->nature == 2 && $n->type == 1) { if (!in_array($n->subject_id, $mats)) { goto y6ZT2; lQaL9: array_push($lt, array("\x69\144" => $n->id, "\163\x69\144" => $n->subject_id, "\x73\x75\x62\152\145\x63\164" => $matiere, "\156\143\61" => $n->nc1, "\x6e\143\62" => $n->nc2, "\x63\154\x73\x5f\x6d\x6f\x79" => $n->moyen_cls, "\143\x6f\155\x70\157" => $n->compo, "\155\157\171" => $n->moyenne, "\x63\x6f\x65\x66" => $n->coef, "\x70\162\x6f\146" => $prof, "\x61\160\160\x72\145\143\151\x61\164\x69\157\x6e" => $n->appreciation)); goto kjYiP; eBGuP: $clt += $n->coef; goto lQaL9; y6ZT2: $nlt += $n->moyenne * $n->coef; goto eBGuP; kjYiP: } else { array_push($lt, array("\151\x64" => $n->id, "\x73\x69\144" => $n->subject_id, "\x73\x75\x62\x6a\145\x63\x74" => $matiere, "\156\x63\x31" => "\x2d", "\156\x63\62" => "\x2d", "\143\154\163\137\x6d\x6f\171" => "\x2d", "\143\x6f\x6d\x70\157" => "\x2d", "\x6d\x6f\x79" => "\x2d", "\x63\x6f\x65\146" => "\x2d", "\160\x72\x6f\146" => $prof, "\141\160\160\x72\x65\x63\x69\x61\x74\x69\157\156" => "\x2d")); } } else { if ($n->nature == 3 && $n->type == 1) { if (!in_array($n->subject_id, $mats)) { goto VPd9T; faB2h: $ccm += $n->coef; goto l90wd; VPd9T: $ncm += $n->moyenne * $n->coef; goto faB2h; l90wd: array_push($cm, array("\x69\x64" => $n->id, "\163\151\x64" => $n->subject_id, "\x73\165\x62\x6a\145\143\x74" => $matiere, "\156\x63\x31" => $n->nc1, "\x6e\143\62" => $n->nc2, "\143\x6c\x73\x5f\155\157\x79" => $n->moyen_cls, "\x63\x6f\155\160\157" => $n->compo, "\x6d\x6f\x79" => $n->moyenne, "\x63\x6f\145\146" => $n->coef, "\160\162\157\x66" => $prof, "\141\x70\x70\x72\145\143\x69\141\164\x69\x6f\156" => $n->appreciation)); goto FTei6; FTei6: } else { array_push($cm, array("\151\144" => $n->id, "\x73\151\x64" => $n->subject_id, "\x73\x75\x62\152\x65\143\x74" => $matiere, "\156\x63\x31" => "\x2d", "\156\143\x32" => "\55", "\143\154\x73\x5f\x6d\157\171" => "\x2d", "\143\157\155\x70\157" => "\x2d", "\155\x6f\171" => "\x2d", "\x63\157\x65\x66" => "\55", "\x70\162\x6f\146" => $prof, "\141\x70\x70\162\145\143\151\141\x74\151\157\x6e" => "\55")); } } else { if ($n->nature == 4 && $n->type == 1) { if (!in_array($n->subject_id, $mats)) { goto h7x1Y; BG7H_: $cit += $n->coef; goto j7_9n; h7x1Y: $nit += $n->moyenne * $n->coef; goto BG7H_; j7_9n: array_push($it, array("\151\x64" => $n->id, "\x73\x69\144" => $n->subject_id, "\163\165\x62\152\145\x63\164" => $matiere, "\156\143\x31" => $n->nc1, "\x6e\143\x32" => $n->nc2, "\x63\x6c\163\x5f\155\157\171" => $n->moyen_cls, "\x63\x6f\x6d\x70\157" => $n->compo, "\x6d\x6f\x79" => $n->moyenne, "\143\157\x65\146" => $n->coef, "\160\x72\x6f\146" => $prof, "\141\x70\x70\162\x65\x63\x69\141\164\x69\x6f\x6e" => $n->appreciation)); goto o8VO2; o8VO2: } else { array_push($it, array("\x69\x64" => $n->id, "\163\x69\144" => $n->subject_id, "\x73\165\142\152\145\x63\164" => $matiere, "\x6e\143\61" => "\x2d", "\156\143\62" => "\55", "\143\154\163\137\155\157\x79" => "\x2d", "\x63\x6f\x6d\x70\x6f" => "\55", "\155\157\171" => "\x2d", "\143\x6f\145\146" => "\x2d", "\160\x72\x6f\x66" => $prof, "\x61\x70\x70\x72\x65\143\x69\141\164\151\157\156" => "\55")); } } else { if ($n->type == 2) { if ($n->nom_court != $aps) { goto f9UfV; pMD5C: array_push($fc, array("\151\x64" => $n->id, "\x73\x69\x64" => $n->subject_id, "\163\165\x62\152\145\x63\164" => $matiere, "\156\143\x31" => $n->nc1, "\x6e\x63\x32" => $n->nc2, "\143\154\x73\137\155\157\171" => $n->moyen_cls, "\x63\157\155\160\157" => $n->compo, "\x6d\x6f\171" => $n->moyenne, "\143\x6f\145\146" => $n->coef, "\x70\x72\x6f\x66" => $prof, "\141\x70\x70\162\x65\143\151\x61\x74\151\x6f\x6e" => $n->appreciation)); goto yc0QJ; f9UfV: $nfc += $n->moyenne * $n->coef; goto Gcw1z; Gcw1z: $cfc += $n->coef; goto pMD5C; yc0QJ: } else { array_push($fc, array("\x69\144" => $n->id, "\x73\x69\144" => $n->subject_id, "\163\x75\142\152\x65\143\164" => $matiere, "\x6e\x63\61" => "\55", "\156\143\62" => "\55", "\143\154\x73\137\155\157\171" => "\55", "\143\x6f\155\160\x6f" => "\x2d", "\155\157\x79" => "\x2d", "\x63\x6f\x65\x66" => "\x2d", "\x70\x72\x6f\x66" => $prof, "\x61\160\x70\162\145\143\151\141\164\x69\157\x6e" => "\x2d")); } } } } } } goto CaO4B; A2IbT: if (strlen($n->nom_court) < 3) { $matiere = $n->nom_long; } else { $matiere = $n->nom_court; } goto fquTg; CaO4B: } goto nnmFw; T6zOn: $ttc = 0; goto TMnk3; yIfQT: if (!empty($moy)) { goto FQ35U; RMm8r: if (!empty($decs)) { foreach ($decs as $dc) { goto E4stt; e1qrd: if (!empty($pm)) { $dcm = $pm->moyenne; } else { $dcm = ''; } goto y4NMn; y4NMn: $periods[$id][$dc->nom] = $dcm; goto uraqp; E4stt: $pm = $this->mydb->get("\x62\x75\154\x6c\145\x74\151\156", array("\155\x6f\x79\145\156\x6e\145"), array("\x61\x6e" => $an, "\143\154\141\x73\163\x65" => $cls, "\144\x65\143\x6f\165\x70\141\147\145" => $dc->id, "\145\x6c\145\x76\145" => $id)); goto e1qrd; uraqp: } if ($dec_name == "\124\x72\x6f\x69\163\x69\303\250\x6d\145\40\x74\162\151\x6d\x65\x73\x74\162\145") { goto Woxkn; a82x2: $values = array_values($periods[$id]); goto BeFrG; Woxkn: $vt = 0; goto a82x2; f9BZe: $periods[$id]["\x61\x6e\156\165\x61\x6c"] = round($vt / 3, 2); goto D3mmZ; BeFrG: foreach ($values as $key => $value) { $vt += $value; } goto f9BZe; D3mmZ: } } goto pe2Ir; o_KEX: if (!empty($mit)) { goto MKRTu; S6LJk: $data["\155\x69\164"] = $gmit; goto ON88M; ON88M: $data["\155\151\164\x6f"] = $gmito; goto r9WUl; TndMw: $gmito = isset($data["\155\x69\164\157"]) && !empty($data["\x6d\151\x74\x6f"]) ? $data["\x6d\x69\x74\x6f"] : array(); goto k7hFZ; MKRTu: $mit = round($mit, 2); goto fSc_0; fSc_0: $gmit = isset($data["\155\151\164"]) && !empty($data["\x6d\151\x74"]) ? $data["\155\151\164"] : array(); goto ARB54; ARB54: $gmit[$id] = $mit; goto TndMw; k7hFZ: if (!in_array($mit, $gmito)) { array_push($gmito, $mit); } goto S6LJk; r9WUl: } goto nnLMu; qL6yN: if (count($periods[$id]) >= 3) { goto nvpjF; wdyOn: if (!in_array($ma, $gmgoa)) { array_push($gmgoa, $ma); } goto xLQ32; MeZBD: $gma[$id] = $this->nts->get_appreciation_message($ma); goto wdyOn; gCuQO: $gmgla[$id] = nel($ma); goto MeZBD; iaNTS: $gmga[$id] = $ma; goto gCuQO; nvpjF: $ma = end($periods[$id]); goto iaNTS; xLQ32: } goto ZoAJz; ofdqd: if ($dec_name == "\124\162\157\x69\163\151\303\xa8\x6d\x65\x20\164\162\x69\x6d\145\163\164\162\x65") { goto vp0PR; vp0PR: $data["\x6d\157\171\145\x6e\x6e\145\163\x5f\141"] = $gmga; goto S33qN; fhEAM: $data["\155\157\171\x65\x6e\156\145\163\137\x6f\162\144\162\x65\137\141"] = $gmgoa; goto JVtD2; JVtD2: $data["\155\x65\156\x74\x69\x6f\156\x5f\x61"] = $gma; goto gkgC7; S33qN: $data["\155\x6f\171\x65\156\156\x65\163\137\154\145\164\164\162\x65\x5f\x61"] = $gmgla; goto fhEAM; gkgC7: } goto nsM8u; xUrLB: $d = $this->nts->set_moyenne($id, $cls, $an, $dec, $moyenne); goto JUpeL; NBzmu: $gmgl[$id] = nel($moyenne); goto wA2sC; Djt3i: $gmg = isset($data["\155\x6f\x79\x65\x6e\x6e\145\163"]) && !empty($data["\x6d\157\171\x65\156\156\x65\163"]) ? $data["\155\x6f\x79\x65\156\156\x65\x73"] : array(); goto ToIK8; ToIK8: $gmgl = isset($data["\155\x6f\x79\145\x6e\156\145\163\x5f\154\145\x74\164\x72\145"]) && !empty($data["\155\x6f\171\x65\x6e\x6e\145\x73\137\x6c\x65\164\164\x72\x65"]) ? $data["\155\x6f\x79\145\156\156\x65\x73\x5f\154\x65\x74\164\x72\x65"] : array(); goto tgw7c; wA2sC: $gm[$id] = $this->nts->get_appreciation_message($moyenne); goto u6e5l; nsM8u: $params["\x64\x65\143\x6f\x75\160\x61\x67\145"] = $decoupe->nom; goto F7Pv7; U9dp0: $gmg[$id] = $moyenne; goto NBzmu; nnLMu: if (!empty($mfc)) { goto t0oHY; yE9tC: $gmfc[$id] = $mfc; goto BLkWb; BLkWb: $gmfco = isset($data["\155\x66\143\x6f"]) && !empty($data["\x6d\146\x63\x6f"]) ? $data["\155\146\x63\x6f"] : array(); goto XjN7S; XjN7S: if (!in_array($mfc, $gmfco)) { array_push($gmfco, $mfc); } goto LWdnu; LWdnu: $data["\155\146\143"] = $gmfc; goto gZfOj; SMqxD: $gmfc = isset($data["\155\146\x63"]) && !empty($data["\155\146\x63"]) ? $data["\155\x66\x63"] : array(); goto yE9tC; t0oHY: $mfc = round($mfc, 2); goto SMqxD; gZfOj: $data["\155\x66\143\157"] = $gmfco; goto a5nsM; a5nsM: } goto RoSZO; G7nzr: $gm = isset($data["\155\145\x6e\x74\x69\157\156"]) && !empty($data["\x6d\x65\156\x74\x69\x6f\x6e"]) ? $data["\x6d\x65\x6e\164\151\157\156"] : array(); goto g9tQM; l5377: $dec_name = $decoupe->nom; goto zH4_H; g9tQM: $gmga = isset($data["\x6d\x6f\171\145\x6e\x6e\145\x73\x5f\141"]) && !empty($data["\x6d\x6f\x79\145\x6e\156\x65\x73\137\141"]) ? $data["\x6d\x6f\171\x65\x6e\156\x65\x73\137\141"] : array(); goto m3S1H; m3S1H: $gmgla = isset($data["\155\157\171\x65\x6e\x6e\x65\x73\x5f\x6c\x65\x74\x74\x72\x65\x5f\x61"]) && !empty($data["\155\x6f\171\145\156\x6e\145\x73\x5f\154\145\x74\164\162\x65\137\x61"]) ? $data["\x6d\x6f\x79\x65\156\x6e\145\x73\137\x6c\145\164\x74\x72\145\x5f\x61"] : array(); goto kMYC0; XNMjd: $gma = isset($data["\155\x65\156\x74\151\157\x6e\137\141"]) && !empty($data["\155\x65\x6e\x74\x69\x6f\156\x5f\141"]) ? $data["\x6d\145\156\x74\x69\157\x6e\137\141"] : array(); goto U9dp0; EWwNP: $data["\x6d\145\x74\x61\x73"] = $mts; goto BggyH; d2JY7: $data["\x6d\157\171\145\x6e\156\x65\163\137\x6c\x65\x74\164\162\x65"] = $gmgl; goto uzsDs; kMYC0: $gmgoa = isset($data["\155\x6f\171\x65\x6e\x6e\x65\x73\x5f\157\x72\x64\x72\145\x5f\141"]) && !empty($data["\155\157\171\145\x6e\x6e\145\163\x5f\157\x72\x64\x72\x65\137\x61"]) ? $data["\155\157\171\x65\156\156\x65\x73\137\157\162\144\162\145\137\141"] : array(); goto XNMjd; BggyH: $this->auth->set_session_var("\147\162\141\144\x65\x62\x6f\157\x6b\x5f" . $cls, $data); goto Q3sTO; MneiC: $mts[$id] = $meta; goto MXFgj; tgw7c: $gmgo = isset($data["\x6d\x6f\x79\x65\156\156\145\x73\x5f\157\162\144\162\x65"]) && !empty($data["\155\x6f\171\145\x6e\156\145\x73\137\157\162\144\162\x65"]) ? $data["\155\x6f\x79\145\x6e\156\145\163\x5f\x6f\162\144\162\x65"] : array(); goto G7nzr; uzsDs: $data["\x6d\x6f\x79\x65\156\156\x65\163\x5f\x6f\x72\x64\x72\145"] = $gmgo; goto DBoDR; lIIYI: if (!empty($mcm)) { goto sUpbZ; e1TXG: $data["\x6d\143\x6d"] = $gmcm; goto PFmUr; sUpbZ: $mcm = round($mcm, 2); goto sXd1a; DXlxe: $gmcmo = isset($data["\155\143\x6d\157"]) && !empty($data["\155\x63\155\157"]) ? $data["\x6d\x63\x6d\157"] : array(); goto QsT4G; sXd1a: $gmcm = isset($data["\x6d\143\x6d"]) && !empty($data["\x6d\143\155"]) ? $data["\x6d\143\155"] : array(); goto tFOAL; PFmUr: $data["\155\143\155\157"] = $gmcmo; goto YG4AM; tFOAL: $gmcm[$id] = $mcm; goto DXlxe; QsT4G: if (!in_array($mcm, $gmcmo)) { array_push($gmcmo, $mcm); } goto e1TXG; YG4AM: } goto o_KEX; fYO2k: if (!empty($mlt)) { goto J_4II; JLvJS: $data["\155\x6c\x74\x6f"] = $gmlto; goto d2w3H; aS1Nf: $gmlto = isset($data["\155\x6c\x74\x6f"]) && !empty($data["\x6d\154\164\157"]) ? $data["\x6d\154\x74\x6f"] : array(); goto K0tQO; K0tQO: if (!in_array($mlt, $gmlto)) { array_push($gmlto, $mlt); } goto BW3La; BW3La: $data["\155\154\164"] = $gmlt; goto JLvJS; J_4II: $mlt = round($mlt, 2); goto j9XCy; j9XCy: $gmlt = isset($data["\x6d\154\x74"]) && !empty($data["\155\x6c\164"]) ? $data["\155\154\164"] : array(); goto FVux_; FVux_: $gmlt[$id] = $mlt; goto aS1Nf; d2w3H: } goto lIIYI; zH4_H: if (!empty($msc)) { goto ez0WA; IHO4l: $gmsco = isset($data["\x6d\163\x63\x6f"]) && !empty($data["\155\x73\143\157"]) ? $data["\155\x73\143\157"] : array(); goto hg1FF; l7kxE: if (!in_array($msc, $gmsco)) { array_push($gmsco, $msc); } goto zi7Wj; qzo_r: $data["\x6d\163\143\x6f"] = $gmsco; goto RW6y1; ez0WA: $msc = round($msc, 2); goto GnaHJ; GnaHJ: $gmsc = isset($data["\155\x73\143"]) && !empty($data["\x6d\x73\143"]) ? $data["\x6d\163\143"] : array(); goto IHO4l; zi7Wj: $data["\x6d\x73\x63"] = $gmsc; goto qzo_r; hg1FF: $gmsc[$id] = $msc; goto l7kxE; RW6y1: } goto fYO2k; u6e5l: if (!in_array($moyenne, $gmgo)) { array_push($gmgo, $moyenne); } goto qL6yN; RoSZO: $moyenne = round($moy, 2); goto xUrLB; ywJF6: $data["\x61\165\x74\x72\x65\x73\137\155\x6f\x79\x65\156\x6e\145"] = $periods; goto EWwNP; JUpeL: $decs = $this->an->get_class_decoupage($cls); goto RMm8r; DBoDR: $data["\155\145\156\x74\x69\x6f\x6e"] = $gm; goto ofdqd; F7Pv7: $data["\160\141\x72\x61\x6d\x73"] = $params; goto ywJF6; MXFgj: $data["\x6d\157\171\x65\156\x6e\x65\x73"] = $gmg; goto d2JY7; pe2Ir: $params = isset($data["\160\x61\162\141\x6d\x73"]) && !empty($data["\x70\141\x72\x61\155\163"]) ? $data["\160\141\x72\x61\x6d\x73"] : array(); goto Djt3i; FQ35U: $decoupe = $this->an->get_decoupage($dec); goto l5377; ZoAJz: $mts = isset($data["\155\145\x74\x61\163"]) && !empty($data["\155\145\164\x61\x73"]) ? $data["\155\145\164\141\163"] : array(); goto MneiC; Q3sTO: } goto UqvNZ; coJ0h: $cm = array(); goto e9Y1m; tfLQ4: $nlt = 0; goto LPR65; VsxLA: $data["\x6e\157\x74\145\163"] = $nts; goto wntA7; yZhwN: $clt = 0; goto O20SM; BGJuc: $vars = $this->auth->get_session_var("\147\162\x61\x64\x65\142\x6f\x6f\x6b\137" . $cls); goto dAmFI; mKnaG: $ttn = 0; goto T6zOn; nlb2f: $meta = $this->std->get_meta($id); goto Gr9nY; O20SM: $cfc = 0; goto UqZO8; iLnd0: if (!empty($meta)) { if (isset($meta->aps) && $meta->aps == "\156\157\156") { $aps = "\x45\x2e\x50\56\123"; } if (isset($meta->mats) && !empty($meta->mats)) { $mats = $meta->mats; } } goto BGJuc; nnmFw: $nts[$id]["\163\x63"] = $sc; goto Le45l; xLzHT: $moy = $ttc > 0 ? $ttn / $ttc : 0; goto QKZh1; r5Sd0: $mfc = $cfc > 0 ? $nfc / $cfc : 0; goto yIfQT; dAmFI: $data = !empty($vars) ? $vars : array(); goto mKnaG; QKZh1: $msc = $csc > 0 ? $nsc / $csc : 0; goto pAUpU; pAUpU: $mlt = $clt > 0 ? $nlt / $clt : 0; goto mbtSI; B_omS: $ncm = 0; goto K1rYt; Wzrv9: $sc = array(); goto DJJfB; Le45l: $nts[$id]["\x6c\164"] = $lt; goto g7cj1; TFaue: $nts[$id]["\146\x63"] = $fc; goto VsxLA; G6yhw: $mit = $cit > 0 ? $nit / $cit : 0; goto r5Sd0; e9Y1m: $it = array(); goto cQTQt; OhW0k: $nts = isset($data["\x6e\157\x74\x65\x73"]) && !empty($data["\156\157\x74\145\x73"]) ? $data["\156\157\x74\145\163"] : array(); goto gb46C; LPR65: $nfc = 0; goto B_omS; n6Gmo: $mats = array(); goto iLnd0; P8X2O: $periods = isset($data["\141\165\164\162\145\163\x5f\155\157\171\145\156\x6e\145"]) && !empty($data["\141\x75\164\162\x65\x73\x5f\155\x6f\x79\x65\156\x6e\x65"]) ? $data["\141\165\x74\x72\145\163\137\155\157\x79\145\156\x6e\x65"] : array(); goto jv862; gb46C: $npmo = isset($data["\x6e\x70\155\x6f"]) && !empty($data["\x6e\x70\x6d\157"]) ? $data["\x6e\x70\x6d\157"] : array(); goto P8X2O; cQTQt: $tt = array(); goto OhW0k; Bc_lQ: $csc = 0; goto yZhwN; g7cj1: $nts[$id]["\x63\x6d"] = $cm; goto FNJFC; TMnk3: $nsc = 0; goto tfLQ4; Gr9nY: $aps = ''; goto n6Gmo; mbtSI: $mcm = $ccm > 0 ? $ncm / $ccm : 0; goto G6yhw; wntA7: $data["\x6e\x70\155\157"] = $npmo; goto xLzHT; UqZO8: $ccm = 0; goto d4EPS; NPv3t: $fc = array(); goto coJ0h; UqvNZ: } goto GDKuh; JGgVn: $d = false; goto eNoUC; GDKuh: return $d; goto R3iEy; R3iEy: } private function set_bullsession_params($id, $data) { $an = $this->utilitaire->get_an(); if (!empty($an)) { goto ht6rG; jqVid: $gradebook = array("\160\141\x72\x61\155\x73" => $params, "\x65\x6c\x65\166\x65\163" => $elvs); goto S0dd0; rANGd: $params["\143\154\141\x73\163\145"] = ucfirst($cname); goto nxCgn; wRsNb: if (!empty($cls_params)) { goto yyaTq; DyMd2: $params["\164\x69\164\x75\154\x61\151\x72\x65"] = $name; goto nOc8A; TzGvL: if (!empty($titulaire)) { $name = ucfirst($titulaire->civilite) . "\40" . ucfirst($titulaire->nom) . "\x20" . ucfirst($titulaire->prenoms); } else { $name = "\111\x6e\x63\157\156\x6e\x75"; } goto DyMd2; yyaTq: $titulaire = $this->perso->get($cls_params->titulaire); goto TzGvL; nOc8A: } goto pvCgi; nxCgn: $params["\x65\x66\146\x65\143\x74\x69\146"] = count($data); goto V88ta; fwcVK: if (!empty($clsname)) { $cname = $clsname->nom; } else { $cname = "\x49\x6e\x63\x6f\156\x6e\165"; } goto rANGd; ra4Oy: if (!$sysvars["\x65\162\162\x6f\162"]) { goto YKnEL; f_M6w: if (!isset($params["\x61\x76\141\164\141\162"])) { $params["\x61\x76\x61\x74\141\x72"] = 0; } goto Oun3D; YKnEL: foreach ($sysvars["\144\x61\164\x61"] as $key => $sys) { $params[$key] = $sys; } goto f_M6w; Oun3D: if (!isset($params["\x6d\151\x6e\151\x73\x74\x65\x72\145"])) { $params["\155\151\156\151\163\x74\145\162\145"] = "\x4d\x69\156\151\x73\164\303\250\162\145\x20\144\x65\x73\x20\145\156\x73\x65\x69\x67\156\x65\155\145\156\x74\x73\40\x70\162\151\x6d\x61\151\162\145\40\145\x74\40\163\145\143\157\156\x64\141\x69\162\x65"; } goto qcUS3; qcUS3: } goto TkbrL; TkbrL: $clsname = $this->cls->get($id); goto fwcVK; pvCgi: $sysvars = $this->auth->get_sys_vars(); goto ra4Oy; O9903: $cls_params = $this->cls->get_class_params($id); goto wRsNb; V88ta: if (!empty($data)) { foreach ($data as $d) { goto GmxIL; GmxIL: $state = $this->std->get_std_state($d->id, $id, $an->id); goto B_c6U; TmAzG: $elvs[$d->id] = array("\156\x6f\155" => ucfirst($d->nom), "\160\x72\x65\x6e\157\155\x73" => ucfirst($d->prenoms), "\x73\145\170\145" => ucfirst($d->sexe), "\x6d\x6c\154\x65" => ucfirst($d->mlle), "\163\x74\141\x74\x75\163" => $status); goto Q965u; B_c6U: if ($state == 0) { if ($d->sexe == "\x4d") { $status = "\x4e\157\165\166\x65\141\x75"; } else { $status = "\x4e\157\x75\166\145\x6c\154\145"; } } else { if ($d->sexe == "\115") { $status = "\104\x6f\x75\x62\154\x61\x6e\164"; } else { $status = "\104\x6f\x75\x62\x6c\141\156\x74\x65"; } } goto TmAzG; Q965u: } } goto jqVid; ht6rG: $params = array("\141\x6e" => $an->designation); goto R0SWF; S0dd0: $this->auth->set_session_var("\147\x72\141\144\145\x62\x6f\157\153\x5f" . $id, $gradebook); goto TQjEM; R0SWF: $elvs = array(); goto O9903; TQjEM: } } private function write_file($data, $id, $an, $dec) { goto jhqJ_; Zh6RN: $d = $this->gradebook->body(); goto KcHps; KcHps: return $d; goto uG1eb; jhqJ_: $this->load->library("\147\x72\141\x64\145\x62\x6f\x6f\x6b", $data); goto Zh6RN; uG1eb: } private function get_bulletin_exclude($an, $classe, $decoupage) { goto AkuJA; ZkAog: $eleves = $this->mydb->gets("\142\x75\154\x6c\145\x74\151\156\137\x65\170\x63\x6c\165\144\x65", array("\145\x6c\x65\x76\145"), array("\x61\156" => $an, "\x63\154\x61\x73\163\x65" => $classe, "\144\x65\x63\x6f\x75\160\141\147\x65" => $decoupage)); goto Y7raT; aN1Ix: return $d; goto k9P3g; AkuJA: $d = array(); goto ZkAog; Y7raT: if (!empty($eleves)) { foreach ($eleves as $e) { array_push($d, $e->eleve); } } goto aN1Ix; k9P3g: } }
