<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:17              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\x41\x53\x45\x50\x41\124\110") or exit("\116\157\40\144\x69\x72\145\143\164\40\163\x63\x72\151\160\164\x20\141\143\x63\145\x73\x73\x20\141\x6c\x6c\157\167\x65\x64"); class Bulletin extends CI_Controller { public function __construct() { goto KEcd5; VGi1K: $this->form_validation->set_error_delimiters("\x3c\144\x69\x76\40\143\154\x61\163\x73\75\42\141\154\x65\x72\164\x20\141\154\x65\x72\164\x2d\144\x61\x6e\147\x65\x72\42\x3e\x3c\x62\x75\164\x74\157\x6e\x20\x74\171\160\x65\75\42\142\x75\x74\x74\157\x6e\x22\40\143\154\141\x73\x73\75\42\x63\154\157\x73\x65\42\x20\x64\x61\x74\x61\55\144\151\x73\155\x69\163\163\75\x22\141\x6c\x65\x72\x74\42\40\x61\x72\151\x61\x2d\x68\x69\144\x64\x65\x6e\75\x22\164\162\165\x65\42\76\46\164\x69\x6d\145\163\x3b\x3c\x2f\x62\165\x74\164\157\156\76\x3c\163\160\141\156\x20\x63\x6c\141\163\163\x3d\x22\147\x6c\171\160\x68\151\143\x6f\156\40\147\x6c\x79\x70\x68\x69\x63\x6f\156\x2d\167\x61\162\156\x69\x6e\147\x2d\163\151\x67\156\x22\x3e\x3c\x2f\x73\160\x61\156\x3e\x20", "\74\x2f\144\x69\x76\x3e"); goto V0hai; KmBid: if (!$this->auth->is_loggedin()) { redirect("\141\x63\x63\x6f\165\x6e\x74"); } goto VGi1K; KEcd5: parent::__construct(); goto KmBid; V0hai: } public function index() { goto tKsj4; YFegP: $data["\x63\154\163"] = $cls; goto SU5XP; GYQIc: if (empty($cls)) { redirect(); } goto YFegP; bTbVt: $data["\164\x65\163\x74"] = $this->auth->get_session_var("\147\x72\x61\x64\145\x62\157\157\153\x5f" . $id); goto l6_cP; pnjmw: $cls = $this->cls->get($id); goto GYQIc; XDSBx: $data["\x65\156\x63\157\x75\162\163"] = "\142\165\154\x6c\145\x74\151\156"; goto oQC3B; tKsj4: extract($_GET); goto Y1wWN; sF8Hx: $this->utilitaire->log_activity($title); goto QvptJ; H9gDs: $this->layout->set_titre($title); goto sF8Hx; s_2x1: $data["\x64\x65\143\157\165\160\141\x67\145\x73"] = $this->an->get_class_decoupage($id); goto YwS6b; QvptJ: $data["\164\151\164\x6c\x65"] = $title; goto XDSBx; jjUSu: $data["\151\144"] = $id; goto pnjmw; YwS6b: $data["\141\156"] = $this->utilitaire->get_an(); goto bTbVt; Y1wWN: if (!isset($id) || empty($id)) { redirect(); } goto jjUSu; SU5XP: $title = "\x47\303\xa9\156\xc3\251\162\145\162\x20\x6c\145\163\x20\x62\x75\x6c\x6c\x65\x74\x69\x6e\x73\x20\160\157\165\162\40\x6c\x61\x20\143\x6c\141\163\163\x65\x20\x64\x65\40" . $cls->nom; goto H9gDs; oQC3B: $data["\x73\165\142\155\145\156\165"] = "\147\x65\156\x65\x72\141\164\x65"; goto s_2x1; l6_cP: $this->layout->view("\x62\x75\154\x6c\x65\x74\151\156\x2f\151\x6e\x64\x65\x78", $data); goto IdJzG; IdJzG: } public function generate() { goto zl26z; tZIcZ: header("\103\157\x6e\164\x65\x6e\x74\x2d\144\151\163\x70\x6f\x73\151\164\151\x6f\156\x3a\x20\x61\164\164\141\x63\x68\x6d\x65\156\x74\x3b\40\x66\x69\154\145\156\x61\155\x65\75" . $pdfname); goto R3w5M; jAAoe: if ($done["\x65\x72\x72\x6f\x72"] == false) { $data = json_decode($done["\144\x61\164\141"]); if (isset($data->error)) { if ($data->error == false) { $url = $data->data; } else { $this->fmsg->warning($data->ermsg, $_SERVER["\110\x54\x54\120\x5f\122\x45\106\x45\122\x45\122"]); } } else { $this->fmsg->warning("\x55\156\145\x20\x65\x72\x72\145\x75\162\40\x73\x27\x65\x73\x74\x20\160\x72\157\x64\165\x69\164\x65\x20\x6c\x6f\x72\x73\x20\x64\145\x20\x6c\x61\x20\x67\303\xa9\x6e\xc3\251\162\x61\164\x69\x6f\x6e\x20\x64\x75\x20\x62\x75\154\154\145\164\151\156", $_SERVER["\x48\124\x54\120\x5f\122\x45\106\105\x52\105\122"]); } } else { $this->fmsg->warning($done["\145\162\155\x73\147"], $_SERVER["\x48\x54\x54\x50\137\x52\x45\x46\x45\122\105\x52"]); } goto NjXDt; c4gvv: if (empty($cls)) { redirect(); } goto seSV5; u6MJb: if (!isset($id) || empty($id)) { redirect(); } goto CqP2W; l7_eP: header("\x43\157\x6e\x74\145\156\x74\55\x54\x79\160\145\72\40\141\x70\160\154\x69\143\x61\164\151\x6f\156\x2f\160\x64\146"); goto nIKAr; zl26z: extract($_GET); goto u6MJb; JiK2m: $done = $this->http->index("\107\x45\x54", "\x68\x74\164\x70\72\57\x2f\154\157\x63\x61\x6c\150\157\163\x74\x3a\x35\x31\x34\61\x31\57\147\x72\x61\x64\x65\x62\157\157\x6b\x3f\141\156\x3d{$an}\46\x63\x6c\163\75{$id}\46\x64\x65\x63\x6f\x75\160\x61\x67\145\75{$dec}"); goto jAAoe; pavrc: $pdfname = basename($url); goto l7_eP; NjXDt: $path = addslashes(utf8_decode($url)); goto pavrc; CqP2W: $data["\x69\x64"] = $id; goto x0CZR; x0CZR: $cls = $this->cls->get($id); goto c4gvv; R3w5M: readfile($path); goto L2jFr; Sq6sm: $dc = $this->an->get_decoupage($dec); goto JwUyh; nIKAr: header("\x43\x6f\156\164\145\156\x74\x2d\124\162\141\x6e\x73\146\145\x72\x2d\105\x6e\x63\x6f\x64\151\x6e\147\x3a\x20\x42\x69\x6e\141\x72\171"); goto tZIcZ; JwUyh: if (empty($dc)) { redirect("\x62\165\x6c\154\x65\x74\x69\156\77\151\x64\x3d" . $id); } goto JiK2m; seSV5: if (!isset($dec) || empty($dec)) { redirect("\142\x75\154\x6c\x65\164\151\x6e\77\x69\x64\x3d" . $id); } goto Sq6sm; L2jFr: } public function test() { goto dJuwB; dJuwB: extract($_GET); goto t7KEY; t7KEY: $clsparams = $this->cls->get_class_params($id); goto IUmTj; IUmTj: $ntsparams = $this->nts->get_note_params($id); goto X7nqu; X7nqu: $this->pdf->bulletin($id); goto rwp_1; rwp_1: } public function show() { goto pHo1G; aVcL6: if (!isset($id) || empty($id)) { redirect(); } goto VcLCU; sr4H1: $this->layout->set_titre($title); goto Zc288; DNwFv: $data["\145\x6e\143\157\165\162\163"] = "\142\165\x6c\x6c\x65\x74\151\x6e"; goto U3pEJ; OiuWx: $data["\x63\x6c\163"] = $cls; goto K5Uw6; Wyxyp: $data["\144\x65\x63\157\165\160\x61\x67\145\x73"] = $this->an->get_class_decoupage($id); goto T2XD0; K5Uw6: $title = "\103\x6f\156\x73\165\154\x74\145\x72\x20\x6c\145\x73\x20\x62\x75\x6c\154\x65\164\151\x6e\40\x70\157\165\162\40\x6c\x61\x20\x63\x6c\141\x73\163\145\x20\x64\145\x20" . $cls->nom; goto sr4H1; Zc288: $data["\x74\151\x74\154\145"] = $title; goto DNwFv; U3pEJ: $data["\x73\165\x62\x6d\145\156\165"] = "\x73\150\x6f\x77\x2d\x62\x75\x6c\x6c\x65\x74\151\x6e\163"; goto Wyxyp; T2XD0: $data["\141\156"] = $this->utilitaire->get_an(); goto NZBjX; Yih_E: if (empty($cls)) { redirect(); } goto OiuWx; pHo1G: extract($_GET); goto aVcL6; NZBjX: $this->layout->view("\x62\165\154\154\x65\164\151\156\57\x73\150\x6f\167", $data); goto vs9Zx; VcLCU: $data["\x69\x64"] = $id; goto jbZSE; jbZSE: $cls = $this->cls->get($id); goto Yih_E; vs9Zx: } public function consulter() { goto L0WUi; sChTY: $this->layout->set_titre($title); goto j8x2M; A_TQ6: $data["\x62\165\154\154\145\164\151\156\x73"] = $bulletins; goto FGvoM; qMFhS: $bulletins = array(); goto tXAQm; L3tbn: $title = "\x43\157\156\x73\165\x6c\x74\145\162\x20\x6c\145\163\40\142\x75\x6c\154\145\x74\x69\156\40\147\303\251\x6e\303\251\x72\303\xa9\163\x20"; goto sChTY; Ogoq5: $an = $this->utilitaire->get_an(); goto Rfu1d; wsuQP: $data["\163\x75\x62\155\145\x6e\x75"] = "\163\x68\x6f\x77\x2d\142\165\154\x6c\x65\x74\x69\x6e\x73"; goto Ogoq5; FGvoM: $this->layout->view("\x62\165\x6c\154\145\x74\151\156\57\x63\157\156\x73\x75\154\164\145\x72", $data); goto l53rJ; j8x2M: $data["\164\x69\x74\x6c\x65"] = $title; goto RXjv7; RXjv7: $data["\145\x6e\143\x6f\165\x72\x73"] = "\142\165\154\x6c\145\164\151\x6e"; goto wsuQP; L0WUi: extract($_GET); goto L3tbn; tXAQm: $buls = glob($_SERVER["\120\162\x6f\x67\162\x61\x6d\x44\141\164\141"] . "\57\x61\147\145\x2f\x73\143\157\x6c\57\142\165\x6c\154\x65\164\x69\x6e\163\x2f\52\56\x70\x64\146"); goto hMW6Q; hMW6Q: if (!empty($buls)) { foreach ($buls as $b) { $name = explode("\x5f", $b); if ($name[2] == $an->designation) { $dcp = explode("\x2e", $name[3]); array_push($bulletins, array("\x63\154\x61\163\x73\145" => utf8_encode($name[1]), "\141\156\x6e\x65\x65" => $name[2], "\x64\145\143\157\165\160\141\147\145" => $dcp[0], "\156\141\155\x65" => utf8_encode($b))); } } } goto A_TQ6; Rfu1d: $data["\x61\156"] = $an; goto qMFhS; l53rJ: } public function decoupage() { goto F9b6u; T8bLw: $title = "\120\303\251\x72\x69\x6f\144\x65\163\40\144\145\40\x6c\47\141\x6e\x6e\303\xa9\x65"; goto MZ43y; m9YeW: if (!isset($id) || empty($id)) { redirect(); } goto WkC76; PrqFL: $data["\143\154\163"] = $cls; goto T8bLw; P4lsD: $data["\x61\x6e"] = $this->utilitaire->get_an(); goto O9y2k; UJd1B: $data["\x74\x69\164\x6c\145"] = $title; goto eJJ_U; MZ43y: $this->layout->set_titre($title); goto UJd1B; eJJ_U: $data["\145\156\x63\x6f\x75\x72\x73"] = "\x62\x75\x6c\x6c\x65\x74\x69\x6e"; goto sixAd; O9y2k: $this->layout->view("\142\x75\x6c\154\145\x74\x69\x6e\57\144\x65\143\x6f\165\160\x61\x67\x65", $data); goto rs4eA; WkC76: $data["\x69\x64"] = $id; goto dk0r4; F9b6u: extract($_GET); goto m9YeW; XElLz: $data["\144\x65\143\157\165\x70\x61\x67\x65\x73"] = $this->an->get_class_decoupage($id); goto P4lsD; a7I6n: if (empty($cls)) { redirect(); } goto PrqFL; sixAd: $data["\163\x75\142\x6d\x65\x6e\165"] = "\x64\x65\x63\157\165\160\141\147\145\x2d\142\165\154\x6c\x65\164\x69\156\x73"; goto XElLz; dk0r4: $cls = $this->cls->get($id); goto a7I6n; rs4eA: } public function rang() { goto aAah4; aAah4: extract($_GET); goto yfez8; pDaXJ: $data["\164\151\x74\154\x65"] = $title; goto WTLi4; EZ2_9: $data["\141\x6e"] = $this->utilitaire->get_an(); goto CtbpK; WTLi4: $data["\145\156\x63\x6f\165\x72\163"] = "\x62\165\154\154\145\x74\151\x6e"; goto FF07W; NnoFx: $title = "\x43\154\141\x73\163\x65\x6d\145\x6e\x74\x20\144\x65\x73\40\x6d\157\171\145\x6e\x6e\145\163\x20\145\x6e\x20\143\154\141\x73\163\x65\40\x64\145\40\x26\x6c\141\x71\x75\x6f\x3b" . $cls->nom . "\46\x72\141\161\165\x6f\73\x20\x70\157\165\x72\40\154\x65\40\x26\154\141\x71\x75\157\x3b{$decoupage}\x26\162\x61\161\x75\157\73"; goto mcbiT; CtbpK: $bul = $this->mydb->gets("\x62\165\x6c\154\145\x74\x69\156", array(array("\x65\154\145\x76\145\56\x6e\157\x6d" => "\156\157\x6d"), array("\145\154\145\x76\x65\x2e\160\x72\x65\x6e\157\x6d\163" => "\160\x72\x65\156\157\x6d\x73"), array("\145\154\145\x76\145\x2e\x73\x65\170\x65" => "\x73\145\170\145"), array("\142\165\x6c\154\145\x74\151\x6e\56\x6d\x6f\x79\145\x6e\156\145" => "\155\x6f\171\x65\156\x6e\x65"), array("\x61\160\160\x72\x65\143\x69\141\x74\151\157\156\56\155\x65\x73\x73\x61\147\x65" => "\x61\x70\160\162\145\x63\151\141\x74\x69\157\x6e")), array("\x62\x75\x6c\154\x65\164\x69\156\56\x61\156" => $anid, "\x62\165\x6c\x6c\145\164\x69\x6e\x2e\x64\145\x63\157\165\160\x61\x67\x65" => $dec, "\x62\165\154\x6c\x65\164\151\156\56\143\154\141\163\x73\145" => $id), array("\145\x6c\145\166\x65" => array("\151\x6e\156\x65\162" => array("\x65\154\145\x76\x65", "\x69\144")), "\x61\x70\x70\162\145\143\151\141\x74\x69\157\156" => array("\x69\156\156\145\162" => array("\x61\160\x70\162\x65\x63\x69\x61\164\151\157\x6e", "\x69\144"))), array("\x62\x75\154\x6c\145\x74\x69\156\x2e\x6d\157\x79\x65\156\156\x65" => "\x44\105\123\103")); goto XGjpL; suCwh: $cls = $this->cls->get($id); goto PdfG4; EHp23: $data["\x6d\157\171\x73"] = $moys; goto aSDkF; J03ks: if (!empty($bul)) { foreach ($bul as $b) { array_push($classement, $b); if (!in_array($b->moyenne, $moys)) { array_push($moys, $b->moyenne); } } } goto ghPHs; PdfG4: if (empty($cls)) { redirect(); } goto yvnL7; ghPHs: $data["\143\154\x61\x73\163\145\x6d\x65\156\x74"] = $classement; goto EHp23; yvnL7: $data["\143\154\163"] = $cls; goto NnoFx; gR846: $data["\144\x65\x63"] = $dec; goto BFqi5; BFqi5: $data["\144\x65\143\x6f\x75\x70\141\147\x65"] = $decoupage; goto suCwh; M2b_a: $data["\x61\x6e"] = $an; goto FUm5g; C0Di_: $moys = array(); goto J03ks; FF07W: $data["\163\x75\142\x6d\145\156\165"] = "\x64\x65\143\x6f\x75\160\141\x67\145\x2d\142\x75\x6c\x6c\145\164\151\156\x73"; goto jewWA; FUm5g: $data["\141\x6e\151\x64"] = $anid; goto gR846; ZRyZn: $data["\x69\x64"] = $id; goto M2b_a; mcbiT: $this->layout->set_titre($title); goto pDaXJ; jewWA: $data["\x64\x65\x63\157\x75\160\x61\147\145\x73"] = $this->an->get_class_decoupage($id); goto EZ2_9; aSDkF: $this->layout->view("\142\x75\x6c\x6c\145\164\151\x6e\x2f\x72\141\156\x67", $data); goto ElZAP; XGjpL: $classement = array(); goto C0Di_; yfez8: if (!isset($id) || empty($id) || !isset($anid) || empty($an) || !isset($dec) || empty($decoupage)) { redirect(); } goto ZRyZn; ElZAP: } public function show_bulletin() { extract($_GET); if (isset($an, $anid, $id, $dec, $decoupage)) { $cls = $this->cls->get($id); if (!empty($cls)) { goto w9bXF; jMgLe: $ds = DIRECTORY_SEPARATOR; goto tDmpm; tDmpm: $path = addslashes($_SERVER["\125\123\x45\x52\x50\122\x4f\106\x49\114\105"] . $ds . "\141\147\145" . $ds . "\x73\143\x6f\154" . $ds . "\x62\165\154\x6c\145\x74\x69\156\163" . $ds . $name); goto tRyK6; tRyK6: if (file_exists($path)) { $d["\143\x6f\x6e\164\145\x6e\164"] = readfile($path); } else { $this->fmsg->warning("\x4c\145\x20\142\165\x6c\154\145\x74\151\156\40\x64\x65\x20\x6c\x61\x20\x63\x6c\x61\x73\163\145\x20\x64\145\x20\x3c\x73\x74\162\157\x6e\147\x3e" . $cls->nom . "\74\57\x73\164\162\x6f\156\147\76\40\x70\157\x75\x72\40\154\145\40\74\163\164\x72\x6f\156\x67\x3e" . $decoupage . "\x3c\57\163\x74\162\x6f\x6e\147\x3e\x20\x6e\47\145\x73\164\40\160\x61\163\40\x65\x6e\143\157\x72\x65\40\x67\xc3\xa9\x6e\xc3\251\162\303\251", $_SERVER["\x48\x54\x54\120\137\x52\105\106\105\122\105\x52"]); } goto qp3Ua; w9bXF: $name = trim($cls->nom) . "\x5f" . $an . "\137" . $decoupage . "\56\x70\x64\146"; goto jMgLe; qp3Ua: } else { $this->fmsg->warning("\114\141\x20\x63\154\x61\163\x73\x65\40\156\x27\x65\163\164\40\x70\141\x73\40\144\xc3\xa9\x66\151\156\x69\145", $_SERVER["\110\124\124\120\x5f\122\x45\x46\x45\122\x45\x52"]); } } else { $this->fmsg->warning("\120\141\162\x61\155\303\xa8\x74\x72\x65\x73\x20\151\x6e\x73\x75\146\146\x69\163\x61\x6e\x74\163", $_SERVER["\110\124\x54\x50\137\122\105\106\x45\122\105\x52"]); } } public function show_file() { goto CTwBB; aOm0J: $f = false; goto nu3dj; A1R9z: if (file_exists($file)) { header("\x43\x6f\x6e\164\145\156\x74\x2d\124\x79\160\x65\x3a\40\x61\160\160\x6c\151\143\x61\x74\x69\x6f\x6e\57\160\x64\x66"); $f = readfile($file); } goto zBMWn; CTwBB: extract($_GET); goto aOm0J; zBMWn: return $f; goto S1BMn; nu3dj: $file = utf8_decode($file); goto A1R9z; S1BMn: } public function params() { goto iEQw1; KP4mh: $this->layout->set_titre($title); goto q1yLO; iEQw1: extract($_GET); goto h3wZa; aRtMb: $data["\x63\154\x73"] = $cls; goto caUax; dfuvR: if (empty($cls)) { redirect(); } goto aRtMb; caUax: $title = "\x50\141\x72\141\x6d\xc3\xa8\x74\162\x65\163\x20\x64\145\40\142\x75\154\x6c\145\x74\x69\156\163\x20\160\157\x75\x72\x20\x6c\141\40\143\x6c\141\x73\x73\x65\x20\x64\x65\x20" . $cls->nom; goto KP4mh; nmInZ: $cls = $this->cls->get($id); goto dfuvR; h3wZa: if (!isset($id) || empty($id)) { redirect(); } goto OJz16; hKycq: $data["\144\x65\x63\157\165\160\141\x67\145\163"] = $this->an->get_class_decoupage($id); goto JzzFJ; OJz16: $data["\x69\x64"] = $id; goto nmInZ; oTTTj: $data["\145\x6e\x63\x6f\165\x72\x73"] = "\142\165\154\154\x65\x74\x69\x6e"; goto f4rvj; JzzFJ: $data["\141\x6e"] = $this->utilitaire->get_an(); goto tfvkm; x9il9: $data["\164\151\x74\x6c\x65"] = $title; goto oTTTj; q1yLO: $this->utilitaire->log_activity($title); goto x9il9; tfvkm: $this->layout->view("\142\165\154\x6c\x65\x74\x69\156\57\x70\141\162\141\x6d\163", $data); goto asVUc; f4rvj: $data["\x73\165\142\155\145\x6e\165"] = "\142\165\x6c\154\x65\164\x69\x6e\55\160\x61\x72\x61\155\x73"; goto hKycq; asVUc: } public function exclude() { goto jzooG; IZL0v: $title = "\105\170\143\x6c\165\x72\145\x20\x64\165\40\142\165\x6c\x6c\145\x74\151\x6e\40\x64\145\x20\x6c\x61\40\143\154\x61\163\x73\145\40\144\145\x20" . $cls->nom . "\40\x70\157\x75\162\40" . $dec->nom; goto vDCYz; gHZka: $data["\143\x6c\x73"] = $cls; goto IZL0v; Li4u9: if (empty($cls)) { redirect(); } goto ZTN_u; eMFBw: $data["\x64\145\x63\x6f\165\160\145"] = $dec; goto e5AnE; D73MM: if (empty($dec)) { redirect(); } goto N7KMy; N7KMy: $an = $this->utilitaire->get_an(); goto gHZka; cmri6: $this->layout->view("\x62\165\x6c\x6c\x65\164\x69\156\57\x65\170\x63\154\165\x64\145", $data); goto XEdbs; vvHea: if (!isset($cls_id) || empty($cls_id) || !isset($decoupe) || empty($decoupe)) { redirect(); } goto QpYu8; vDCYz: $this->layout->set_titre($title); goto rgBKl; CUkUI: if (isset($_POST["\145\x78\143\154\x75\144\145"])) { goto y4sU4; KICzK: if (isset($ex) && !empty($ex)) { goto z1OMz; Kcm7C: $to_remove = array_diff($eleves, $ex); goto qv0YI; z1OMz: $eleves = $this->get_params($an->id, $cls_id, $dec->id); goto pxgC1; qv0YI: if (!empty($to_remove)) { goto vUt8m; z17Zv: $this->mydb->custom_set($sql, $to_remove); goto k8rLe; vUt8m: $params = set_params($to_remove); goto GAnkO; GAnkO: $sql = "\x44\105\x4c\105\x54\x45\40\x46\122\x4f\115\x20\142\165\154\x6c\145\x74\151\156\137\x65\x78\x63\x6c\x75\x64\x65\x20\x57\110\105\122\105\x20\x65\x6c\145\x76\145\40\x49\116\x20\x28{$params}\x29"; goto z17Zv; k8rLe: } goto ar7kF; pxgC1: $to_add = array_diff($ex, $eleves); goto ZJ3AG; ZJ3AG: if (!empty($to_add)) { foreach ($to_add as $t) { $this->mydb->set("\142\x75\154\x6c\145\x74\x69\x6e\137\x65\x78\x63\x6c\x75\x64\x65", array("\x61\x6e" => $an->id, "\x63\x6c\x61\163\x73\x65" => $cls_id, "\x64\x65\x63\x6f\165\160\x61\147\x65" => $decoupe, "\x65\x6c\145\x76\145" => $t)); } } goto Kcm7C; ar7kF: } else { $this->mydb->delete("\142\165\154\x6c\x65\x74\x69\156\137\x65\170\x63\x6c\x75\x64\145", array("\x61\x6e" => $an->id, "\143\x6c\x61\x73\x73\145" => $cls_id, "\x64\x65\143\x6f\x75\160\x61\x67\x65" => $decoupe)); } goto UPPA2; y4sU4: extract($_POST); goto KICzK; UPPA2: $this->fmsg->success("\x50\141\162\141\155\303\xa8\164\162\145\x73\x20\145\x6e\x72\145\147\151\163\164\162\xc3\251\40\141\x76\x65\x63\40\x73\165\143\x63\303\250\163", site_url("\x62\x75\x6c\x6c\145\164\x69\x6e\x2f\x65\170\143\154\165\144\145\77\x63\x6c\163\x5f\x69\x64\x3d" . $cls_id . "\46\144\x65\x63\157\165\x70\x65\75" . $dec->id)); goto p0a1w; p0a1w: } goto cmri6; Bkx0Y: $data["\145\x6e\143\157\165\162\x73"] = "\x62\x75\x6c\154\x65\x74\x69\x6e"; goto Pifhn; e5AnE: $elvs = $this->std->get_class_std($cls_id); goto ESqpx; MI45Z: $data["\x74\x69\164\154\x65"] = $title; goto Bkx0Y; Rsdp5: $cls = $this->cls->get($cls_id); goto Li4u9; ESqpx: if (!empty($elvs)) { foreach ($elvs as $key => $s) { $data[$key] = $s; } } goto rO62e; ZTN_u: $dec = $this->an->get_decoupage($decoupe); goto D73MM; QpYu8: $data["\x69\x64"] = $cls_id; goto Rsdp5; jzooG: extract($_GET); goto vvHea; Pifhn: $data["\163\x75\x62\155\x65\156\165"] = "\x62\x75\x6c\x6c\x65\x74\x69\156\x2d\x70\x61\162\x61\155\x73"; goto cEl_q; cEl_q: $data["\141\156"] = $an; goto eMFBw; rgBKl: $this->utilitaire->log_activity($title); goto MI45Z; rO62e: $data["\x65\170\143\x6c\x75\x64\x65\144"] = $this->get_params($an->id, $cls_id, $dec->id); goto CUkUI; XEdbs: } public function stats() { goto MaYtB; MaYtB: extract($_GET); goto nx1eS; nx1eS: if (!isset($id) || empty($id)) { redirect(); } goto N7KAl; L8mOI: $data["\163\165\142\155\x65\156\x75"] = "\x62\x75\x6c\154\x65\x74\x69\x6e\x2d\x73\x74\141\x74\x73"; goto H9WPA; fHodL: $cls = $this->cls->get($id); goto GFFh6; i_Keh: $data["\164\x69\x74\x6c\x65"] = $title; goto wO2CS; RzbDW: $data["\163\x74\x61\x74\163"] = $this->get_statas($an->id, $id); goto S8agu; GFFh6: if (empty($cls)) { redirect(); } goto SxiTG; H9WPA: $data["\x61\156"] = $an; goto RzbDW; R2g0T: $data["\143\x6c\x73"] = $cls; goto q_vNS; q_vNS: $title = "\x53\164\141\x74\x69\164\x69\161\x75\145\163\x20\144\x65\40\x6c\x61\40\x63\154\x61\163\x73\145\40\x64\145\40" . $cls->nom; goto vTWEW; wO2CS: $data["\x65\156\143\x6f\165\x72\x73"] = "\142\165\x6c\x6c\145\164\151\x6e"; goto L8mOI; N7KAl: $data["\x69\x64"] = $id; goto fHodL; SxiTG: $an = $this->utilitaire->get_an(); goto R2g0T; vTWEW: $this->layout->set_titre($title); goto cSbQn; S8agu: $this->layout->view("\x62\165\154\x6c\x65\x74\x69\x6e\57\163\x74\x61\164\163", $data); goto J_8RQ; cSbQn: $this->utilitaire->log_activity($title); goto i_Keh; J_8RQ: } public function stats_mat() { goto jJycX; Ng0GG: $this->layout->set_titre($title); goto NdFk8; ZI715: if (empty($dec)) { redirect(); } goto EIISJ; ADH3w: if (!isset($id) || empty($id)) { redirect(); } goto yrBdm; NbIbk: $data["\141\156"] = $an; goto L_BX1; Mtf75: $title = "\x53\164\141\164\x69\x73\164\151\161\x75\x65\163\40\160\141\x72\40\143\154\x61\163\163\145\x20\145\x74\40\160\x61\x72\40\x6d\141\164\x69\303\xa8\x72\145\x20\144\165\x20" . strtolower($dec->nom); goto Ng0GG; L_BX1: $data["\164\151\164\154\145"] = $title; goto xr2w5; NdFk8: $this->utilitaire->log_activity($title); goto Nh271; jJycX: extract($_GET); goto ADH3w; DQfuq: $data["\163\164\141\164\x73"] = $this->stats->get_per_mats($an->id, $id); goto oS1y3; xr2w5: $data["\x64\145\143\157\x75\x70\141\147\x65"] = $dec; goto KGdyu; Nh271: $data["\x69\x64"] = $id; goto NbIbk; KGdyu: $data["\145\156\143\x6f\165\x72\x73"] = "\x62\165\154\x6c\x65\x74\x69\x6e"; goto HIDwW; oS1y3: $this->layout->view("\142\165\x6c\154\145\x74\x69\156\x2f\163\164\141\164\163\x2d\155\x61\x74", $data); goto Hc03i; EIISJ: $an = $this->utilitaire->get_an(); goto Mtf75; yrBdm: $dec = $this->an->get_decoupage($id); goto ZI715; HIDwW: $data["\x73\165\142\155\x65\156\x75"] = "\142\x75\x6c\x6c\145\164\x69\x6e\55\163\164\x61\x74\163\55\x6d\141\164"; goto DQfuq; Hc03i: } public function export_stat() { goto xJIGL; xJIGL: extract($_GET); goto JL1p0; JL1p0: if (!isset($dec) || empty($dec)) { redirect(); } goto vGkVy; laOaj: $vars = $this->auth->get_sys_vars(); goto yAUfd; vGkVy: $an = $this->utilitaire->get_an(); goto laOaj; yAUfd: if (!$vars["\x65\x72\162\x6f\162"] && isset($title) && !empty($an)) { goto VeKle; tCUj0: $vars["\144\x61\164\141"]["\141\156"] = $an->designation; goto p7lR3; K5e21: $this->load->library("\x45\170\x70\x6f\x72\164\123\164\141\x74\x73", $vars["\x64\x61\164\x61"]); goto vrfqW; p7lR3: $notes = $this->stats->get_per_mats($an->id, $dec); goto K5e21; vrfqW: $this->exportstats->body($notes); goto O7FJO; VeKle: $vars["\144\141\x74\x61"]["\164\151\164\154\145"] = $title; goto tCUj0; O7FJO: } goto lGTFD; lGTFD: } private function get_params($an, $classe, $decoupage) { goto u6q7c; u6q7c: $d = array(); goto qMN9o; zKBIG: if (!empty($eleves)) { foreach ($eleves as $e) { array_push($d, $e->eleve); } } goto xNa_r; xNa_r: return $d; goto Xu3rW; qMN9o: $eleves = $this->mydb->gets("\142\x75\x6c\x6c\145\164\151\156\137\x65\170\143\154\x75\144\x65", array("\145\154\x65\166\x65"), array("\x61\156" => $an, "\x63\154\141\163\163\x65" => $classe, "\x64\145\x63\157\x75\160\x61\x67\x65" => $decoupage)); goto zKBIG; Xu3rW: } private function get_statas($an, $id) { goto pI0n6; pI0n6: $d = array(); goto K1xv1; FB_hg: if (!empty($stats)) { goto FA9KJ; k583_: foreach ($stats as $stat) { $eff[$stat->an][$stat->decoupage][] = $stat->eleve; if ($stat->moyenne >= 10) { if (isset($data[$stat->an][$stat->decoupage][$stat->sexe]->nb)) { $data[$stat->an][$stat->decoupage][$stat->sexe]->nb += 1; } else { goto ckIZv; OwUN7: $data[$stat->an][$stat->decoupage][$stat->sexe] = $s; goto w1GSG; ckIZv: $s = new stdClass(); goto j_rCG; j_rCG: $s->nb = 1; goto OwUN7; w1GSG: } } } goto N_fty; FA9KJ: $data = array(); goto eYN1l; eYN1l: $eff = array(); goto k583_; N_fty: $d["\162\x65\165\x73\163\151"] = $data; goto Apn_5; Apn_5: $d["\x65\146\146"] = $eff; goto yu2ar; yu2ar: } goto yHXtc; yHXtc: return $d; goto JGefJ; K1xv1: $stats = $this->mydb->gets("\142\x75\154\154\x65\x74\151\x6e", array(array("\142\165\154\154\145\164\x69\x6e\56\151\x64" => "\x69\144"), array("\142\165\154\x6c\x65\x74\x69\156\x2e\x65\154\145\x76\145" => "\x65\x6c\x65\x76\145"), array("\x62\165\154\x6c\145\x74\x69\x6e\x2e\x63\x6c\x61\163\x73\145" => "\143\154\x61\163\163\x65"), array("\142\165\154\x6c\145\x74\151\156\x2e\155\157\171\145\156\156\x65" => "\155\x6f\x79\145\156\156\145"), array("\141\156\56\x64\145\163\x69\147\156\x61\x74\x69\157\156" => "\141\x6e"), array("\x65\x6c\x65\166\x65\56\156\x6f\155" => "\156\157\155"), array("\x65\154\x65\166\x65\x2e\160\162\x65\x6e\157\x6d\x73" => "\x70\162\x65\156\x6f\x6d\x73"), array("\x65\x6c\145\166\145\56\x73\x65\x78\x65" => "\163\x65\x78\145"), array("\x64\145\143\157\x75\160\x61\x67\x65\56\156\x6f\155" => "\144\145\143\x6f\165\160\141\x67\x65"), array("\x61\x70\160\x72\x65\x63\151\x61\164\x69\x6f\x6e\x2e\155\x65\163\163\141\147\145" => "\141\160\x70\x72\x65\x63\151\141\x74\x69\x6f\x6e")), array("\142\165\x6c\154\x65\x74\151\x6e\x2e\x61\x6e" => $an, "\x62\165\154\x6c\145\x74\151\x6e\x2e\x63\154\141\x73\163\x65" => $id), array("\141\156" => array("\x69\x6e\x6e\x65\x72" => array("\141\156", "\x69\x64")), "\x65\154\145\166\145" => array("\x69\156\156\x65\x72" => array("\x65\x6c\x65\166\x65", "\x69\x64")), "\144\145\143\157\165\x70\x61\147\145" => array("\x69\156\x6e\145\x72" => array("\x64\x65\143\157\x75\x70\141\147\x65", "\151\x64")), "\x61\160\160\162\x65\x63\x69\141\164\x69\x6f\156" => array("\x69\156\156\x65\x72" => array("\x61\160\160\x72\x65\143\151\141\164\x69\x6f\156", "\151\144")))); goto FB_hg; JGefJ: } }
