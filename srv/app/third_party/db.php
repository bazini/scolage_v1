<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:12:09              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 include "\x5f\160\x64\x6f\x2e\x70\x68\160"; class Db { public function __construct() { $file = __DIR__ . "\57\143\157\x6e\x66\x69\x67\x2e\152\x73\157\156"; if (file_exists($file)) { $con = json_decode(file_get_contents($file)); if (isset($con->host, $con->user, $con->pass, $con->dbname)) { PDO_Connect("\x6d\x79\163\x71\154\72\150\157\163\164\75" . $con->host . "\x3b\x64\x62\156\141\155\x65\x3d" . $con->dbname . '', $con->user, $con->pass); } else { die("\x44\145\163\40\144\157\156\x6e\xc3\251\145\x73\40\151\155\160\x6f\x72\x74\141\x6e\x74\x65\163\40\163\157\x6e\164\x20\151\156\x74\162\157\x75\x76\x61\x62\154\x65\x73\x20\144\141\x6e\163\40\x6c\145\40\x66\x69\143\150\x69\x65\x72\x20\x64\x27\x69\156\x69\x74\151\141\154\x69\163\x61\x74\151\157\156"); } } else { die("\x56\157\164\x72\145\x20\x73\x65\x72\166\145\x75\162\40\x65\x73\164\40\155\x61\154\40\x63\x6f\x6e\146\x69\x67\165\x72\xc3\xa9"); } } public function gets($table, $req = array(), $where = array(), $join = array(), $orderby = array(), $limit = array()) { goto ubMa7; Bwg3M: $params = $wh[1]; goto CgHnt; ubMa7: $sql = "\x53\x45\x4c\105\x43\124\x20"; goto QP1bX; M9z91: $sql .= $this->join($join, $table); goto uoTGi; CgHnt: $sql .= $wh[0]; goto MgJml; uoTGi: $wh = $this->where($where); goto Bwg3M; QP1bX: $params = array(); goto dhzms; dhzms: $sql .= $this->req($req); goto Z4A_P; aoAYX: return $res; goto F79Pd; Z4A_P: $sql .= "\40\x46\x52\x4f\115\40" . $table . "\40"; goto M9z91; kd0ei: $res = @PDO_FetchAll($sql, $params); goto aoAYX; MgJml: $sql .= $this->orderby($orderby); goto W7Nyi; W7Nyi: $sql .= $this->limit($limit); goto kd0ei; F79Pd: } public function get($table, $req = array(), $where = array(), $join = array(), $orderby = array()) { goto Kp_i8; h4irY: $data = $this->gets($table, $req, $where, $join, $orderby, array(1)); goto zcy2X; Ef_k0: return $d; goto zxKYY; Kp_i8: $d = false; goto h4irY; zcy2X: if (!empty($data)) { $d = $data[0]; } goto Ef_k0; zxKYY: } public function count($table, $where, $join = array()) { $d = $this->gets($table, '', $where, $join); return count($d); } public function count_all($table, $join = array()) { $d = $this->gets($table, '', '', $join); return count($d); } public function set($table, $req) { if (is_array($req) && !empty($req)) { goto C_X0J; Kp3CI: foreach ($req as $key => $r) { if ($sl == '') { $sl .= "\x3f"; } else { $sl .= "\54\x3f"; } array_push($params, $r); } goto PHi4W; C_X0J: $sl = ''; goto NHkun; Ynzzn: @PDO_Execute($sql, $params); goto GulZ8; GulZ8: return PDO_LastInsertId(); goto cK1cL; PHi4W: $sql = "\111\x4e\x53\105\122\124\40\111\116\x54\117\40{$table}\x20\126\x41\x4c\x55\x45\123\x28{$sl}\x29"; goto Ynzzn; NHkun: $params = array(); goto Kp3CI; cK1cL: } } public function update($table, $req = array(), $where = array()) { goto StzUX; V25zu: $params = array(); goto CWQpZ; Yc6Ky: if (is_array($where) && !empty($where)) { goto Z13lB; UgAtI: foreach ($where as $key => $w) { if (empty($rw)) { $rw .= "\40\x57\x48\x45\122\x45\40" . $key . "\x20\x3d\x20\x3f"; array_push($params, $w); } else { $rw .= "\40\101\x4e\104\40" . $key . "\40\75\x20\x3f"; array_push($params, $w); } } goto Llv7i; Llv7i: $sql .= $rw; goto JG0F5; Z13lB: $rw = ''; goto UgAtI; JG0F5: } goto mOgIa; CWQpZ: if (is_array($req) && !empty($req)) { goto Qw7VK; czPD7: foreach ($req as $key => $r) { if (empty($rq)) { $rq .= $key . "\40\75\x20\x3f"; array_push($params, $r); } else { $rq .= "\54\x20" . $key . "\x20\75\x20\x3f"; array_push($params, $r); } } goto NPgAB; NPgAB: $sql .= $rq; goto T_2xi; Qw7VK: $rq = ''; goto czPD7; T_2xi: } goto Yc6Ky; StzUX: $sql = "\125\120\x44\101\x54\x45\x20" . $table . "\40\x53\x45\124\40"; goto V25zu; mOgIa: @PDO_Execute($sql, $params); goto tTqRH; tTqRH: } public function delete($table, $req) { if (is_array($req) && !empty($req)) { goto D5BLs; D5BLs: $sl = ''; goto CkAei; CkAei: $params = array(); goto bSr_l; bSr_l: foreach ($req as $key => $r) { if ($sl == '') { $sl .= "{$key}\x20\75\x20\77"; } else { $sl .= "\40\x41\116\x44\x20{$key}\40\75\40\x3f"; } array_push($params, $r); } goto LwxVz; w9JSZ: @PDO_Execute($sql, $params); goto Puouw; LwxVz: $sql = "\104\x45\x4c\105\124\x45\40\x46\x52\x4f\x4d\40{$table}\x20\x57\110\x45\x52\x45\40{$sl}"; goto w9JSZ; Puouw: } } private function req($req) { if (is_array($req) && !empty($req)) { $r = ''; for ($i = 0; $i < count($req); $i++) { if (empty($r)) { if (is_array($req[$i])) { foreach ($req[$i] as $key => $value) { $r .= $key . "\40\101\x53\40" . $value; } } else { $r .= $req[$i]; } } else { if (is_array($req[$i])) { foreach ($req[$i] as $key => $value) { $r .= "\54\x20" . $key . "\x20\101\123\40" . $value; } } else { $r .= "\x2c\x20" . $req[$i]; } } } } else { $r = "\x20\x2a\x20"; } return $r; } private function join($join, $table) { goto TErVj; BdnzU: return $sql; goto mX2wU; WEeEb: if (is_array($join) && !empty($join)) { goto gfUQB; gfUQB: $rj = ''; goto LjHEf; i0G3o: $sql .= $rj . "\40"; goto qNCMX; LjHEf: foreach ($join as $key => $j) { if (is_array($j)) { foreach ($j as $k => $it) { if (empty($rj)) { if (is_array($it)) { $st = explode("\56", $it[0]); if (isset($st[1])) { $rj .= strtoupper($k) . "\40\112\117\111\116\x20" . $key . "\x20\x4f\x4e\x20" . $it[0] . "\40\75\40" . $key . "\56" . $it[1]; } else { $rj .= strtoupper($k) . "\x20\112\x4f\x49\x4e\40" . $key . "\40\117\116\40" . $table . "\x2e" . $it[0] . "\x20\x3d\x20" . $key . "\x2e" . $it[1]; } } else { $rj .= strtoupper($k) . "\x20\112\x4f\x49\116\40" . $key . "\40\x4f\116\x20" . $table . "\56" . $it . "\40\75\x20" . $key . "\x2e" . $it; } } else { if (is_array($it)) { $st = explode("\x2e", $it[0]); if (isset($st[1])) { $rj .= "\40" . strtoupper($k) . "\x20\x4a\x4f\x49\116\40" . $key . "\40\117\x4e\40" . $it[0] . "\x20\x3d\40" . $key . "\x2e" . $it[1]; } else { $rj .= "\x20" . strtoupper($k) . "\40\112\117\111\x4e\x20" . $key . "\x20\x4f\116\40" . $table . "\x2e" . $it[0] . "\40\75\x20" . $key . "\56" . $it[1]; } } else { $rj .= "\x20" . strtoupper($k) . "\x20\x4a\x4f\111\116\x20" . $key . "\x20\117\116\x20" . $table . "\56" . $it . "\x20\x3d\x20" . $key . "\56" . $it; } } } } } goto i0G3o; qNCMX: } goto BdnzU; TErVj: $sql = ''; goto WEeEb; mX2wU: } private function where($where) { goto U7s4i; XepNE: if (is_array($where) && !empty($where)) { goto aWUuY; aWUuY: $rw = ''; goto T350l; T350l: foreach ($where as $key => $w) { if (!is_array($w)) { array_push($params, $w); if (empty($rw)) { $rw .= "\127\x48\105\x52\x45\40" . $key . "\40\75\40\77"; } else { $rw .= "\40\x41\116\104\40" . $key . "\40\75\40\x3f"; } } else { foreach ($w as $k => $wo) { array_push($params, $wo); if (empty($rw)) { $rw .= "\127\x48\105\x52\105\40" . $key . "\40" . $k . "\40\x3f"; } else { $rw .= "\x20\x41\x4e\x44\40" . $key . "\40" . $k . "\x20\x3f"; } } } } goto CDYR2; CDYR2: $sql .= $rw; goto rkwWD; rkwWD: } goto OOD2x; U7s4i: $sql = ''; goto S6jwP; RNUHF: return $d; goto ulAVI; S6jwP: $params = array(); goto XepNE; OOD2x: $d[] = $sql; goto zkjMX; zkjMX: $d[] = $params; goto RNUHF; ulAVI: } private function orderby($orderby) { goto j7QVe; w1sg6: return $sql; goto g7ujg; D9Lqe: if (is_array($orderby) && !empty($orderby)) { goto wR0gR; mOpW6: foreach ($orderby as $key => $o) { if (is_numeric($key)) { $ro .= $o . "\x20\101\x53\103"; } else { $ro .= $key . "\x20" . strtoupper($o); } } goto f9QpB; f9QpB: $sql .= $ro; goto gto2m; wR0gR: $ro = "\40\x4f\x52\104\105\x52\40\102\x59\40"; goto mOpW6; gto2m: } goto w1sg6; j7QVe: $sql = ''; goto D9Lqe; g7ujg: } private function limit($limit) { goto iYhqj; TUCgY: if (is_array($limit) && !empty($limit)) { goto BBI2i; zhKqS: if (count($limit) >= 2) { $limit = array_slice($limit, 0, 2); $rl .= $limit[0] . "\x2c" . $limit[1]; } else { $rl .= $limit[0]; } goto y070l; y070l: $sql .= $rl; goto xCZO3; BBI2i: $rl = "\40\x4c\111\x4d\x49\124\40"; goto zhKqS; xCZO3: } goto cx2LB; iYhqj: $sql = ''; goto TUCgY; cx2LB: return $sql; goto y3dUV; y3dUV: } }
