<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:18              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 class TCPDF_FONTS { protected static $cache_uniord = array(); public static function addTTFfont($fontfile, $fonttype = '', $enc = '', $flags = 32, $outpath = '', $platid = 3, $encid = 1, $addcbbox = false, $link = false) { goto kXWKT; EiF0v: $font_name = strtolower($font_path_parts["\x66\151\x6c\x65\156\141\155\145"]); goto Y9MrV; x4V2X: $pfile .= "\47\x4d\x69\x73\x73\x69\x6e\x67\x57\x69\x64\x74\x68\x27\75\76" . $fmetric["\115\151\163\x73\x69\x6e\x67\127\151\x64\164\150"] . ''; goto cwOY4; ro01a: fwrite($fp, $pfile); goto Kihkt; BJqm8: if (!empty($fmetric["\143\x62\142\157\x78"])) { $pfile .= "\44\x63\142\142\157\170\75\141\162\x72\x61\171\x28" . substr($fmetric["\x63\142\142\x6f\x78"], 1) . "\51\x3b" . "\xa"; } goto ROtBu; cwczh: $pfile .= "\44\x6e\141\155\x65\x3d\x27" . $fmetric["\x6e\x61\155\x65"] . "\47\x3b" . "\xa"; goto JlNA2; kXWKT: if (!TCPDF_STATIC::file_exists($fontfile)) { return false; } goto VWAtJ; ecGLN: $fp = TCPDF_STATIC::fopenLocal($outpath . $font_name . "\56\x70\x68\160", "\x77"); goto ro01a; bTs46: $pfile .= "\57\x2f\x20\x2d\x2d\55\x20\x45\x4f\106\x20\x2d\55\x2d" . "\xa"; goto ecGLN; Z7pgV: $search = array("\142\x6f\154\x64", "\157\142\154\x69\161\x75\x65", "\151\164\141\x6c\x69\x63", "\x72\x65\x67\x75\x6c\141\x72"); goto yjUoY; nBoUt: $pfile .= "\x27\x41\166\x67\127\x69\144\x74\x68\x27\75\x3e" . $fmetric["\101\x76\147\x57\151\144\x74\150"] . "\x2c"; goto YhwgR; tZ6Of: $pfile .= "\47\123\x74\x65\155\126\x27\75\x3e" . $fmetric["\123\x74\x65\x6d\x56"] . "\x2c"; goto DJ8v4; ROtBu: $pfile .= "\44\143\167\75\141\x72\x72\x61\171\50" . substr($fmetric["\143\x77"], 1) . "\51\x3b" . "\12"; goto bTs46; c7fb8: $fmetric["\144\x69\x66\146"] = ''; goto CdKeE; mgpKe: if (empty($fonttype)) { if (TCPDF_STATIC::_getULONG($font, 0) == 0x10000) { $fonttype = "\x54\162\165\145\x54\x79\x70\x65\125\x6e\151\143\x6f\x64\145"; } elseif (substr($font, 0, 4) == "\117\x54\x54\117") { return false; } else { $fonttype = "\x54\171\160\x65\x31"; } } goto ydGL9; TagMG: $pfile .= "\47\x41\163\143\145\x6e\x74\47\x3d\x3e" . $fmetric["\x41\x73\x63\145\156\x74"] . "\x2c"; goto tZvQA; C4kkg: $pfile .= "\47\106\154\x61\147\163\x27\75\76" . $fmetric["\106\154\141\147\x73"] . "\54"; goto EUp7t; VWAtJ: $fmetric = array(); goto KXXMZ; c2aGK: $pfile .= "\x24\x64\151\x66\x66\x3d\47" . $fmetric["\x64\x69\x66\146"] . "\47\x3b" . "\xa"; goto X83Ee; YhwgR: $pfile .= "\47\115\x61\170\x57\x69\144\164\x68\x27\75\76" . $fmetric["\115\x61\x78\x57\151\144\164\x68"] . "\x2c"; goto x4V2X; exBUw: return $font_name; goto fnWA2; FXDB6: $pfile .= "\47\x43\141\160\x48\x65\151\x67\x68\164\x27\75\x3e" . $fmetric["\103\x61\x70\110\x65\151\147\150\164"] . "\x2c"; goto Vk8KH; TM8i9: $fmetric["\146\151\154\145"] = $font_name; goto opXps; EUp7t: $pfile .= "\x27\106\157\x6e\164\x42\102\x6f\x78\47\x3d\76\47\133" . $fmetric["\142\x62\157\170"] . "\135\47\x2c"; goto upIDX; Kihkt: fclose($fp); goto exBUw; DJ8v4: $pfile .= "\47\x53\x74\x65\x6d\110\47\x3d\x3e" . $fmetric["\x53\x74\145\x6d\x48"] . "\x2c"; goto nBoUt; jZU1z: if (!isset($font_path_parts["\x66\x69\x6c\145\156\141\155\145"])) { $font_path_parts["\x66\151\x6c\x65\156\x61\x6d\145"] = substr($font_path_parts["\x62\141\x73\145\x6e\x61\155\x65"], 0, -(strlen($font_path_parts["\145\170\x74\x65\x6e\163\x69\x6f\x6e"]) + 1)); } goto EiF0v; cwOY4: $pfile .= "\x29\x3b" . "\12"; goto BJqm8; NmIim: $fmetric["\145\156\x63"] = preg_replace("\57\133\136\101\55\x5a\141\55\x7a\x30\55\71\137\134\55\135\57", '', $enc); goto c7fb8; Y9MrV: $font_name = preg_replace("\57\x5b\x5e\x61\55\172\x30\55\71\x5f\x5d\57", '', $font_name); goto Z7pgV; KXXMZ: $font_path_parts = pathinfo($fontfile); goto jZU1z; hxDS0: $pfile = "\x3c" . "\x3f" . "\160\x68\x70" . "\xa"; goto jvEFy; CdKeE: if ($fmetric["\164\171\x70\145"] == "\124\162\x75\145\x54\x79\160\x65" or $fmetric["\x74\171\x70\145"] == "\124\171\160\145\61") { if (!empty($enc) and $enc != "\x63\160\61\x32\x35\62" and isset(TCPDF_FONT_DATA::$encmap[$enc])) { goto w73GJ; kY0vK: $enc_target = TCPDF_FONT_DATA::$encmap[$enc]; goto Ss1M3; Y3KBy: for ($i = 32; $i <= 255; ++$i) { if ($enc_target[$i] != $enc_ref[$i]) { goto V2YbW; mRQOE: $fmetric["\144\x69\x66\x66"] .= "\x2f" . $enc_target[$i] . "\x20"; goto bcDW3; V2YbW: if ($i != $last + 1) { $fmetric["\144\151\146\x66"] .= $i . "\x20"; } goto efYhm; efYhm: $last = $i; goto mRQOE; bcDW3: } } goto vgwV0; Ss1M3: $last = 0; goto Y3KBy; w73GJ: $enc_ref = TCPDF_FONT_DATA::$encmap["\143\160\61\x32\65\62"]; goto kY0vK; vgwV0: } } goto p0o90; J0Sma: if ($fmetric["\164\171\160\x65"] == "\x54\x72\x75\145\x54\x79\160\x65\125\x6e\x69\143\x6f\x64\x65" and count($ctg) == 256) { $fmetric["\x74\x79\x70\145"] = "\x54\x72\165\145\124\171\160\x65"; } goto hxDS0; m5CcY: $font_name = str_replace($search, $replace, $font_name); goto yi50H; qWGUW: $font = file_get_contents($fontfile); goto kwZy4; JlNA2: $pfile .= "\44\165\x70\75" . $fmetric["\x75\156\x64\x65\162\x6c\x69\x6e\x65\x50\x6f\163\151\x74\151\157\156"] . "\73" . "\xa"; goto VFQDg; p0o90: if ($fmetric["\164\x79\x70\x65"] == "\x54\171\x70\x65\61") { goto ckNqd; uau7C: if (preg_match("\43\x2f\x42\x6c\x75\145\126\141\x6c\165\x65\x73\133\x5c\x73\x5d\52\x5c\x5b\50\133\136\x5c\135\x5d\x2a\51\43", $eplain, $matches) > 0) { $bv = explode("\x20", $matches[1]); if (count($bv) >= 6) { goto uIEod; hBeGu: $v2 = intval($bv[4]); goto EZdjG; EZdjG: if ($v1 <= $v2) { $fmetric["\130\110\145\151\147\x68\164"] = $v1; $fmetric["\x43\141\160\x48\145\x69\x67\150\x74"] = $v2; } else { $fmetric["\x58\x48\145\151\147\x68\164"] = $v2; $fmetric["\x43\x61\160\110\145\151\x67\150\164"] = $v1; } goto ZQ6jX; uIEod: $v1 = intval($bv[2]); goto hBeGu; ZQ6jX: } else { $fmetric["\130\x48\145\x69\x67\x68\164"] = 450; $fmetric["\103\x61\x70\x48\x65\x69\147\x68\164"] = 700; } } else { $fmetric["\130\x48\x65\x69\x67\150\164"] = 450; $fmetric["\103\141\160\x48\145\x69\x67\150\164"] = 700; } goto ht70I; X2d8U: $fmetric["\x41\163\x63\x65\x6e\164"] = intval($bv[3]); goto OqSPz; JvvkK: if (preg_match("\43\x2f\123\x74\144\110\127\133\134\x73\x5d\x2a\x5c\133\50\133\136\134\135\135\x2a\51\43", $eplain, $matches) > 0) { $fmetric["\123\x74\x65\155\110"] = intval($matches[1]); } else { $fmetric["\123\x74\x65\x6d\110"] = 30; } goto uau7C; Plsvs: $eplain = substr($eplain, strpos($eplain, "\x2f\103\150\x61\x72\123\164\162\x69\156\x67\x73") + 1); goto rUYU2; iePHF: preg_match("\x23\57\x69\x73\x46\x69\170\145\x64\120\x69\164\143\x68\x5b\134\x73\x5d\52\50\133\x5e\x5c\x73\135\x2a\x29\43", $font, $matches); goto bqwL8; AswoH: $cwidths = array(); goto z02o4; Vxnv2: $fmetric["\151\164\x61\154\x69\x63\101\156\x67\x6c\x65"] = intval($matches[1]); goto YQ_fS; G9ezl: $fmetric["\163\151\172\145\61"] = $a["\163\x69\x7a\145"]; goto j8hzD; ijfUO: $fmetric["\101\166\147\127\151\144\164\150"] = 0; goto wDSzd; cFSQC: for ($i = 0; $i < $elen; ++$i) { $chr = ord($encrypted[$i]); $eplain .= chr($chr ^ $r >> 8); $r = (($chr + $r) * $c1 + $c2) % 65536; } goto PIje7; Qs6Fd: $imap = array(); goto XFhUg; kQVTN: preg_match("\x23\x2f\106\x75\x6c\154\x4e\x61\155\145\x5b\x5c\163\x5d\52\134\x28\x28\133\x5e\134\51\x5d\x2a\51\x23", $font, $matches); goto VctkR; j8hzD: $data = substr($font, 6, $fmetric["\163\151\x7a\145\61"]); goto HfOXI; jZqMJ: preg_match("\x23\57\106\157\156\164\x42\102\x6f\x78\x5b\x5c\x73\x5d\x2a\173\x28\x5b\136\x7d\x5d\x2a\x29\43", $font, $matches); goto Dn01y; rUYU2: preg_match_all("\43\x2f\x28\x5b\x41\55\132\x61\x2d\172\x30\x2d\x39\134\56\x5d\52\51\133\134\163\x5d\133\x30\x2d\71\135\x2b\x5b\x5c\163\x5d\x52\x44\x5b\x5c\163\135\x28\x2e\52\51\x5b\134\x73\x5d\116\x44\x23\163\125", $eplain, $matches, PREG_SET_ORDER); goto ec4G5; yDe3i: preg_match("\43\x2f\x49\x74\141\154\x69\x63\101\x6e\x67\154\145\x5b\134\x73\x5d\x2a\x28\133\x30\55\71\134\x2b\x5c\x2d\x5d\52\51\x23", $font, $matches); goto Vxnv2; XkhBu: if (preg_match("\43\x2f\123\164\144\x56\127\x5b\134\x73\x5d\52\134\133\50\133\136\x5c\x5d\135\52\51\43", $eplain, $matches) > 0) { $fmetric["\123\164\x65\155\126"] = intval($matches[1]); } else { $fmetric["\x53\x74\145\155\126"] = 70; } goto JvvkK; z02o4: foreach ($matches as $k => $v) { goto qboRF; uiRVM: $c1 = 52845; goto uH_Nt; qboRF: $cid = 0; goto n2Egi; BeHQO: $ccom = array(); goto eb3ml; eb3ml: for ($i = 0; $i < $clen; ++$i) { $chr = ord($cd[$i]); $ccom[] = $chr ^ $r >> 8; $r = (($chr + $r) * $c1 + $c2) % 65536; } goto j1oIi; CS2s1: $i = $lenIV; goto RvdRa; X8MO0: $clen = strlen($cd); goto BeHQO; j1oIi: $cdec = array(); goto OS_sA; n2Egi: if (isset($imap[$v[1]])) { $cid = $imap[$v[1]]; } elseif ($enc_map !== false) { $cid = array_search($v[1], $enc_map); if ($cid === false) { $cid = 0; } elseif ($cid > 1000) { $cid -= 1000; } } goto YmJry; RvdRa: while ($i < $clen) { if ($ccom[$i] < 32) { goto rVbN8; rVbN8: $cdec[$ck] = $ccom[$i]; goto gLHue; i10gJ: ++$i; goto ZA667; gLHue: if ($ck > 0 and $cdec[$ck] == 13) { $cwidths[$cid] = $cdec[$ck - 1]; } goto i10gJ; ZA667: } elseif ($ccom[$i] >= 32 and $ccom[$i] <= 246) { $cdec[$ck] = $ccom[$i] - 139; ++$i; } elseif ($ccom[$i] >= 247 and $ccom[$i] <= 250) { $cdec[$ck] = ($ccom[$i] - 247) * 256 + $ccom[$i + 1] + 108; $i += 2; } elseif ($ccom[$i] >= 251 and $ccom[$i] <= 254) { $cdec[$ck] = -($ccom[$i] - 251) * 256 - $ccom[$i + 1] - 108; $i += 2; } elseif ($ccom[$i] == 255) { goto stVd1; Skfvq: $i += 5; goto Lhq44; IinJ6: $vsval = unpack("\x6c\151", $sval); goto I0MId; I0MId: $cdec[$ck] = $vsval["\x69"]; goto Skfvq; stVd1: $sval = chr($ccom[$i + 1]) . chr($ccom[$i + 2]) . chr($ccom[$i + 3]) . chr($ccom[$i + 4]); goto IinJ6; Lhq44: } ++$ck; } goto yg3hW; YmJry: $r = 4330; goto uiRVM; TTtRr: $cd = $v[2]; goto X8MO0; uH_Nt: $c2 = 22719; goto TTtRr; OS_sA: $ck = 0; goto CS2s1; yg3hW: } goto J1va1; rcbvs: $fmetric["\x4d\141\x78\127\x69\144\x74\150"] = 0; goto AswoH; Y26aA: preg_match("\x23\57\x55\x6e\144\145\162\x6c\151\x6e\145\x50\157\x73\x69\x74\151\x6f\x6e\x5b\134\x73\135\x2a\x28\133\x30\55\x39\134\53\134\x2d\135\52\51\43", $font, $matches); goto Cuy2c; l5uks: $fmetric["\x4d\141\170\127\151\x64\164\x68"] = $fmetric["\115\151\x73\163\151\x6e\x67\x57\151\x64\x74\150"]; goto ijfUO; tUb9d: $fmetric["\x63\167"] = ''; goto rcbvs; MD5GS: $fmetric["\x4c\x65\141\144\151\156\147"] = 0; goto Plsvs; PIje7: if (preg_match("\43\57\x46\x6f\x72\x63\x65\102\x6f\154\144\x5b\134\163\135\52\x28\x5b\x5e\x5c\163\x5d\x2a\x29\43", $eplain, $matches) > 0) { if ($matches[1] == "\x74\x72\165\145") { $fmetric["\106\x6c\x61\147\163"] |= 0x40000; } } goto XkhBu; u1Gqx: $elen = strlen($encrypted); goto CXk0p; YdNSV: $c1 = 52845; goto eYp9f; mWI1q: $fp = TCPDF_STATIC::fopenLocal($outpath . $fmetric["\146\x69\x6c\145"], "\167\142"); goto NPAkq; g9M8K: fclose($fp); goto PdfXA; NPAkq: fwrite($fp, gzcompress($data)); goto g9M8K; W96MO: $fmetric["\163\x69\172\x65\x32"] = $a["\163\x69\x7a\x65"]; goto B11aQ; Cuy2c: $fmetric["\x75\156\x64\145\x72\154\151\156\145\x50\157\x73\151\x74\x69\157\156"] = intval($matches[1]); goto vUmg7; Dn01y: $fmetric["\x62\x62\x6f\x78"] = trim($matches[1]); goto QHNEq; J1va1: $fmetric["\x4d\x69\163\x73\151\156\x67\x57\151\144\164\150"] = $cwidths[0]; goto l5uks; qzSir: if ($a["\155\x61\162\x6b\145\162"] != 128) { return false; } goto W96MO; HfOXI: $a = unpack("\x43\x6d\141\162\x6b\145\x72\x2f\x43\164\x79\160\x65\57\126\x73\151\172\x65", substr($font, 6 + $fmetric["\x73\x69\x7a\145\x31"], 6)); goto qzSir; ec4G5: if (!empty($enc) and isset(TCPDF_FONT_DATA::$encmap[$enc])) { $enc_map = TCPDF_FONT_DATA::$encmap[$enc]; } else { $enc_map = false; } goto tUb9d; YQ_fS: if ($fmetric["\x69\x74\x61\x6c\x69\x63\101\156\x67\x6c\x65"] != 0) { $fmetric["\x46\154\x61\147\163"] |= 64; } goto Y26aA; Hfdop: $fmetric["\101\166\147\127\x69\144\x74\x68"] = round($fmetric["\x41\166\x67\127\151\144\164\150"] / count($cwidths)); goto B3ei1; WoLi8: $fmetric["\165\x6e\144\x65\x72\x6c\151\156\145\124\x68\x69\x63\x6b\156\145\163\163"] = intval($matches[1]); goto iePHF; wDSzd: for ($cid = 0; $cid <= 255; ++$cid) { if (isset($cwidths[$cid])) { goto ssEvT; B1w2n: $fmetric["\101\166\x67\x57\x69\144\164\150"] += $cwidths[$cid]; goto RF_mc; RF_mc: $fmetric["\x63\167"] .= "\54" . $cid . "\x3d\x3e" . $cwidths[$cid]; goto MjOqY; ssEvT: if ($cwidths[$cid] > $fmetric["\x4d\141\x78\127\151\x64\x74\x68"]) { $fmetric["\115\141\x78\x57\151\144\x74\150"] = $cwidths[$cid]; } goto B1w2n; MjOqY: } else { $fmetric["\x63\167"] .= "\54" . $cid . "\x3d\76" . $fmetric["\x4d\x69\x73\163\151\156\x67\127\x69\x64\164\x68"]; } } goto Hfdop; gTVn4: $fmetric["\146\x69\x6c\x65"] .= "\x2e\x7a"; goto mWI1q; CXk0p: $eplain = ''; goto cFSQC; QHNEq: $bv = explode("\x20", $fmetric["\142\x62\x6f\170"]); goto X2d8U; eYp9f: $c2 = 22719; goto u1Gqx; GwdsK: $r = 55665; goto YdNSV; bqwL8: if ($matches[1] == "\164\x72\x75\x65") { $fmetric["\106\x6c\141\x67\x73"] |= 1; } goto Qs6Fd; XFhUg: if (preg_match_all("\43\144\x75\x70\133\134\x73\135\x28\x5b\60\x2d\71\135\53\51\133\134\x73\135\x2a\57\50\133\136\134\163\x5d\52\x29\x5b\x5c\163\135\160\165\164\43\163\x55", $font, $fmap, PREG_SET_ORDER) > 0) { foreach ($fmap as $v) { $imap[$v[2]] = $v[1]; } } goto GwdsK; OqSPz: $fmetric["\104\x65\163\143\145\156\164"] = intval($bv[1]); goto yDe3i; vUmg7: preg_match("\x23\57\x55\x6e\144\x65\162\154\x69\x6e\x65\124\x68\x69\143\x6b\x6e\145\x73\x73\x5b\x5c\163\x5d\52\50\x5b\60\55\x39\134\53\134\55\x5d\x2a\x29\43", $font, $matches); goto WoLi8; p83vz: if ($a["\x6d\141\x72\153\145\162"] != 128) { return false; } goto G9ezl; B11aQ: $encrypted = substr($font, 12 + $fmetric["\x73\151\172\145\61"], $fmetric["\x73\151\172\x65\x32"]); goto gxIQK; PdfXA: $fmetric["\x46\154\x61\147\163"] = $flags; goto kQVTN; VctkR: $fmetric["\x6e\141\x6d\x65"] = preg_replace("\x2f\133\x5e\x61\x2d\x7a\101\x2d\132\60\x2d\71\x5f\x5c\x2d\135\57", '', $matches[1]); goto jZqMJ; ckNqd: $a = unpack("\x43\x6d\x61\162\153\x65\x72\x2f\103\164\x79\x70\145\57\x56\x73\151\x7a\145", substr($font, 0, 6)); goto p83vz; ht70I: if (preg_match("\x23\x2f\154\145\156\111\x56\133\x5c\x73\x5d\52\50\133\60\x2d\x39\135\x2a\51\43", $eplain, $matches) > 0) { $lenIV = intval($matches[1]); } else { $lenIV = 4; } goto MD5GS; gxIQK: $data .= $encrypted; goto gTVn4; B3ei1: } else { goto u8bIL; uJyfm: $xMax = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto eDSc5; EVU3O: $yMax = TCPDF_STATIC::_getFWORD($font, $offset); goto mvGBq; MVrRO: $offset += 2; goto o21JE; lHJux: if (!isset($ctg[0])) { $ctg[0] = 0; } goto Fw34q; UdSEL: $numGlyphs = TCPDF_STATIC::_getUSHORT($font, $offset); goto ua82l; Qf0ta: $fmetric["\x4c\145\x61\144\151\156\147"] = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto jGluF; f0Tmm: $offset += 2; goto NyW44; vjmLI: $numEncodingTables = TCPDF_STATIC::_getUSHORT($font, $offset); goto kXYa8; TJuhZ: if (TCPDF_STATIC::_getULONG($font, $offset) != 0x5f0f3cf5) { return false; } goto Vl1vR; vw0XE: $fmetric["\104\x65\163\x63\145\x6e\x74"] = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto ZVYDJ; HXQBk: $offset += 22; goto mJG6g; NyW44: $urk = 1000 / $fmetric["\x75\156\151\164\x73\x50\x65\x72\105\x6d"]; goto bOjpO; E8axv: $offset += 2; goto jc1Pv; ZVYDJ: $offset += 2; goto Qf0ta; cvHpu: for ($i = 0; $i < $numNameRecords; ++$i) { $offset += 6; $nameID = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; if ($nameID == 6) { goto HVdb8; kjZr4: $stringOffset = TCPDF_STATIC::_getUSHORT($font, $offset); goto tEPVd; tEPVd: $offset += 2; goto CXvtv; wcnBE: break; goto V4gB7; DWf2j: $fmetric["\x6e\x61\155\x65"] = preg_replace("\57\133\136\141\55\172\x41\55\132\60\x2d\71\x5f\134\x2d\135\57", '', $fmetric["\x6e\x61\x6d\x65"]); goto wcnBE; HVdb8: $stringLength = TCPDF_STATIC::_getUSHORT($font, $offset); goto MEqcB; MEqcB: $offset += 2; goto kjZr4; AGtNG: $fmetric["\156\141\x6d\x65"] = substr($font, $offset, $stringLength); goto DWf2j; CXvtv: $offset = $table["\156\x61\155\x65"]["\157\x66\x66\163\x65\164"] + $stringStorageOffset + $stringOffset; goto AGtNG; V4gB7: } else { $offset += 4; } } goto bfibP; zDsgx: $yMax = TCPDF_STATIC::_getFWORD($font, $offset); goto PRIZB; u8bIL: $offset = 0; goto AYVRj; Sj9fI: $offset = $table["\117\123\x2f\x32"]["\x6f\146\146\x73\x65\164"]; goto WTBnc; Roc0w: $offset = $table["\x68\x65\141\x64"]["\157\x66\x66\x73\x65\164"] + 50; goto G245Y; TnhJG: $fmetric["\165\x6e\x64\x65\162\x6c\x69\156\x65\124\150\x69\x63\x6b\156\x65\163\163"] = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto dfJdN; HD5kE: $offset += 2; goto HXQBk; JqFlR: if ($fmetric["\164\x79\160\145"] != "\x63\x69\x64\146\157\156\x74\60") { if ($link) { symlink($fontfile, $outpath . $fmetric["\146\151\x6c\145"]); } else { goto b5Fz7; csJZq: fwrite($fp, gzcompress($font)); goto NPLnF; tUitt: $fp = TCPDF_STATIC::fopenLocal($outpath . $fmetric["\x66\151\x6c\x65"], "\167\142"); goto csJZq; b5Fz7: $fmetric["\x66\x69\154\145"] .= "\x2e\x7a"; goto tUitt; NPLnF: fclose($fp); goto RhSUC; RhSUC: } } goto zuvtq; wDO6Q: $offset = $table["\x68\150\145\141"]["\157\146\146\163\x65\164"]; goto SEW8J; KBV5I: $indexToLoc = array(); goto LYUz0; PoRDm: $offset = $table["\x68\155\x74\170"]["\157\146\x66\163\145\164"]; goto KkPJp; alyga: $fmetric["\165\x6e\x69\x74\x73\120\145\x72\x45\155"] = TCPDF_STATIC::_getUSHORT($font, $offset); goto f0Tmm; wwd1N: for ($i = 0; $i < $numTables; ++$i) { $tag = substr($font, $offset, 4); $offset += 4; $table[$tag] = array(); $table[$tag]["\x63\150\145\143\x6b\123\165\155"] = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $table[$tag]["\157\x66\x66\x73\145\164"] = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $table[$tag]["\x6c\x65\x6e\147\x74\150"] = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; } goto h27wS; ismlN: $offset += 4; goto EVU3O; Vl1vR: $offset += 4; goto ep9__; PRIZB: $offset += 2; goto cxbiU; nfbK3: $offset += 2; goto bbE6X; LwAWF: $offset += 2; goto AjHKS; B4YMA: $offset = $table["\155\141\x78\x70"]["\x6f\x66\x66\163\x65\164"]; goto j6Vah; bOjpO: $offset += 16; goto agvmQ; tJds4: $fmetric["\143\x62\x62\157\170"] = ''; goto Wjvei; BxpVM: $fmetric["\x6e\x61\x6d\145"] = ''; goto NEhXS; YCTjQ: $offset += 2; goto oSiSV; YDkVy: $offset = $table["\x70\x6f\163\x74"]["\157\x66\146\x73\x65\x74"]; goto D09Zn; SEW8J: $offset += 4; goto I0tlG; AYVRj: if (TCPDF_STATIC::_getULONG($font, $offset) != 0x10000) { return false; } goto JqFlR; hWTL2: $offset += 2; goto cvHpu; h27wS: $offset = $table["\150\145\141\x64"]["\x6f\x66\x66\163\145\164"] + 12; goto TJuhZ; Wjvei: for ($cid = 0; $cid <= 65535; ++$cid) { if (isset($ctg[$cid])) { if (isset($cw[$ctg[$cid]])) { $fmetric["\143\167"] .= "\x2c" . $cid . "\x3d\76" . $cw[$ctg[$cid]]; } if ($addcbbox and isset($indexToLoc[$ctg[$cid]])) { goto tEHud; lieBa: $xMax = round(TCPDF_STATIC::_getFWORD($font, $offset + 6) * $urk); goto Y6V4T; pMsSu: $xMin = round(TCPDF_STATIC::_getFWORD($font, $offset + 2) * $urk); goto lZkTA; HYIBG: $fmetric["\x63\x62\x62\x6f\x78"] .= "\x2c" . $cid . "\75\x3e\x61\x72\162\x61\x79\x28" . $xMin . "\x2c" . $yMin . "\x2c" . $xMax . "\x2c" . $yMax . "\51"; goto FfMZo; tEHud: $offset = $table["\147\154\171\146"]["\157\x66\146\163\145\x74"] + $indexToLoc[$ctg[$cid]]; goto pMsSu; Y6V4T: $yMax = round(TCPDF_STATIC::_getFWORD($font, $offset + 8) * $urk); goto HYIBG; lZkTA: $yMin = round(TCPDF_STATIC::_getFWORD($font, $offset + 4) * $urk); goto lieBa; FfMZo: } } } goto vubQS; uglrf: $offset += 2; goto AbpAW; eDSc5: $offset += 2; goto Qk4S8; o21JE: $numNameRecords = TCPDF_STATIC::_getUSHORT($font, $offset); goto E8axv; muUr7: if ($short_offset) { $tot_num_glyphs = floor($table["\x6c\x6f\143\141"]["\154\145\156\x67\x74\150"] / 2); for ($i = 0; $i < $tot_num_glyphs; ++$i) { $indexToLoc[$i] = TCPDF_STATIC::_getUSHORT($font, $offset) * 2; if (isset($indexToLoc[$i - 1]) && $indexToLoc[$i] == $indexToLoc[$i - 1]) { unset($indexToLoc[$i - 1]); } $offset += 2; } } else { $tot_num_glyphs = floor($table["\x6c\x6f\x63\141"]["\x6c\145\156\x67\164\x68"] / 4); for ($i = 0; $i < $tot_num_glyphs; ++$i) { $indexToLoc[$i] = TCPDF_STATIC::_getULONG($font, $offset); if (isset($indexToLoc[$i - 1]) && $indexToLoc[$i] == $indexToLoc[$i - 1]) { unset($indexToLoc[$i - 1]); } $offset += 4; } } goto eNxIg; WTBnc: $offset += 2; goto DZoP_; j6Vah: $offset += 4; goto UdSEL; zuvtq: $offset += 4; goto S547D; fXUyn: $fmetric["\x75\x6e\x64\x65\x72\154\x69\x6e\145\x50\157\x73\151\x74\x69\x6f\156"] = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto rZBr7; oSiSV: if ($isFixedPitch) { $fmetric["\x46\154\141\147\163"] |= 1; } goto wDO6Q; tG2Ap: $fmetric["\123\x74\145\155\x56"] = round(70 * $usWeightClass / 400); goto cKS9K; mvGBq: $offset += 2; goto nUq62; agvmQ: $xMin = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto nfbK3; nUq62: $fmetric["\130\110\145\151\147\x68\x74"] = round(($yMax - $yMin) * $urk); goto ox8ue; AbpAW: $offset += 2; goto PuFdq; Qk4S8: $yMax = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto oGDp7; mJG6g: $numberOfHMetrics = TCPDF_STATIC::_getUSHORT($font, $offset); goto B4YMA; DZoP_: $fmetric["\101\166\x67\x57\151\x64\164\150"] = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto ryf1o; oGDp7: $offset += 2; goto QNjD6; hhQDt: $offset += 4; goto fXUyn; JiNdv: $offset += 2; goto vw0XE; otK2h: $isFixedPitch = TCPDF_STATIC::_getULONG($font, $offset) == 0 ? false : true; goto YCTjQ; bbE6X: $yMin = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto Xd23h; MGX6w: $fmetric["\x69\164\x61\154\x69\143\101\156\x67\154\x65"] = TCPDF_STATIC::_getFIXED($font, $offset); goto hhQDt; Kx_NM: $offset += 2; goto KBV5I; Na2m3: $offset += 6; goto CeQCR; jc1Pv: $stringStorageOffset = TCPDF_STATIC::_getUSHORT($font, $offset); goto hWTL2; TP7GA: $fmetric["\115\151\163\163\151\x6e\147\x57\151\144\164\x68"] = $cw[0]; goto HNJr7; eNxIg: $offset = $table["\x63\x6d\141\x70"]["\x6f\146\146\163\x65\x74"] + 2; goto vjmLI; LVlQd: if (($macStyle & 2) == 2) { $fmetric["\x46\x6c\x61\x67\163"] |= 64; } goto Roc0w; AjHKS: $fmetric["\x46\154\141\x67\163"] = $flags; goto LVlQd; rZBr7: $offset += 2; goto TnhJG; KkPJp: for ($i = 0; $i < $numberOfHMetrics; ++$i) { $cw[$i] = round(TCPDF_STATIC::_getUFWORD($font, $offset) * $urk); $offset += 4; } goto OV1wC; QNjD6: $fmetric["\142\142\157\170"] = '' . $xMin . "\x20" . $yMin . "\40" . $xMax . "\x20" . $yMax . ''; goto xbOTO; VaGkg: $offset += 2; goto D6lhh; dsDDv: $yMin = TCPDF_STATIC::_getFWORD($font, $offset); goto c5zMi; Tt_A0: foreach ($encodingTables as $enctable) { if ($enctable["\160\x6c\141\x74\146\x6f\x72\x6d\x49\104"] == $platid and $enctable["\x65\156\143\x6f\144\x69\x6e\x67\x49\x44"] == $encid) { goto IWSsX; qvhpK: switch ($format) { case 0: goto sw5m9; qJMdr: for ($c = 0; $c < 256; ++$c) { $g = TCPDF_STATIC::_getBYTE($font, $offset); $ctg[$c] = $g; ++$offset; } goto KTGF7; sw5m9: $offset += 4; goto qJMdr; KTGF7: break; goto UWYfJ; UWYfJ: case 2: goto J0nwU; CsjJ0: for ($k = 0; $k < $numGlyphIndexArray; ++$k) { $glyphIndexArray[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto X_Grb; WGNex: for ($k = 0; $k < $numSubHeaders; ++$k) { $subHeaders[$k]["\146\x69\x72\163\x74\103\x6f\144\x65"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $subHeaders[$k]["\x65\156\164\x72\x79\x43\157\x75\156\164"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $subHeaders[$k]["\x69\x64\104\x65\x6c\x74\141"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $subHeaders[$k]["\x69\x64\x52\x61\x6e\147\x65\x4f\146\146\x73\145\x74"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $subHeaders[$k]["\151\144\x52\141\156\147\145\117\x66\146\x73\x65\164"] -= 2 + ($numSubHeaders - $k - 1) * 8; $subHeaders[$k]["\151\144\x52\x61\156\x67\x65\117\146\146\x73\x65\x74"] /= 2; $numGlyphIndexArray += $subHeaders[$k]["\145\x6e\164\162\171\103\157\x75\x6e\164"]; } goto CsjJ0; J0nwU: $offset += 4; goto AennV; IheHt: $subHeaders = array(); goto CSHna; X_Grb: for ($i = 0; $i < 256; ++$i) { $k = $subHeaderKeys[$i]; if ($k == 0) { goto NTQ1S; O3T8m: $g = $glyphIndexArray[0]; goto edarb; edarb: $ctg[$c] = $g; goto lw7QD; NTQ1S: $c = $i; goto O3T8m; lw7QD: } else { goto bLzcE; bLzcE: $start_byte = $subHeaders[$k]["\146\x69\x72\x73\x74\103\x6f\144\145"]; goto frt8p; jVj1B: for ($j = $start_byte; $j < $end_byte; ++$j) { $c = ($i << 8) + $j; $idRangeOffset = $subHeaders[$k]["\x69\144\x52\141\156\x67\x65\117\146\x66\x73\x65\164"] + $j - $subHeaders[$k]["\x66\x69\x72\x73\x74\103\x6f\x64\x65"]; $g = ($glyphIndexArray[$idRangeOffset] + $subHeaders[$k]["\x69\x64\x44\x65\154\164\141"]) % 65536; if ($g < 0) { $g = 0; } $ctg[$c] = $g; } goto PznZD; frt8p: $end_byte = $start_byte + $subHeaders[$k]["\x65\x6e\x74\162\x79\x43\x6f\x75\156\x74"]; goto jVj1B; PznZD: } } goto bX1P3; zqmRc: ++$numSubHeaders; goto IheHt; AennV: $numSubHeaders = 0; goto EHFU6; EHFU6: for ($i = 0; $i < 256; ++$i) { $subHeaderKeys[$i] = TCPDF_STATIC::_getUSHORT($font, $offset) / 8; $offset += 2; if ($numSubHeaders < $subHeaderKeys[$i]) { $numSubHeaders = $subHeaderKeys[$i]; } } goto zqmRc; CSHna: $numGlyphIndexArray = 0; goto WGNex; bX1P3: break; goto vVHVx; vVHVx: case 4: goto hppLR; xIEGx: break; goto dFaLG; hppLR: $length = TCPDF_STATIC::_getUSHORT($font, $offset); goto A1sPh; Jz0Pt: for ($k = 0; $k < $segCount - 1; ++$k) { for ($c = $startCount[$k]; $c <= $endCount[$k]; ++$c) { if ($idRangeOffset[$k] == 0) { $g = ($idDelta[$k] + $c) % 65536; } else { $gid = floor($idRangeOffset[$k] / 2) + ($c - $startCount[$k]) - ($segCount - $k); $g = ($glyphIdArray[$gid] + $idDelta[$k]) % 65536; } if ($g < 0) { $g = 0; } $ctg[$c] = $g; } } goto xIEGx; kyh8q: $idRangeOffset = array(); goto rxSkP; zrero: $offset += 2; goto LhUKK; k3SQo: $idDelta = array(); goto Rk3KX; rxSkP: for ($k = 0; $k < $segCount; ++$k) { $idRangeOffset[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto Nn5zE; Us48r: for ($k = 0; $k < $segCount; ++$k) { $endCount[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto cYrTu; cYrTu: $offset += 2; goto aNx2J; sgVL6: $segCount = floor(TCPDF_STATIC::_getUSHORT($font, $offset) / 2); goto zrero; Nn5zE: $gidlen = floor($length / 2) - 8 - 4 * $segCount; goto YQRgB; aNx2J: $startCount = array(); goto PkOSe; KhMJi: for ($k = 0; $k < $gidlen; ++$k) { $glyphIdArray[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto Jz0Pt; PkOSe: for ($k = 0; $k < $segCount; ++$k) { $startCount[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto k3SQo; Rk3KX: for ($k = 0; $k < $segCount; ++$k) { $idDelta[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto kyh8q; I7Tsq: $offset += 2; goto sgVL6; LhUKK: $offset += 6; goto ii07F; A1sPh: $offset += 2; goto I7Tsq; YQRgB: $glyphIdArray = array(); goto KhMJi; ii07F: $endCount = array(); goto Us48r; dFaLG: case 6: goto MUzn2; d5Qfo: $offset += 2; goto qJe8X; f64MT: $offset += 2; goto JEi5A; XnCt2: break; goto VA3Xf; JEi5A: $entryCount = TCPDF_STATIC::_getUSHORT($font, $offset); goto d5Qfo; cY8D1: $firstCode = TCPDF_STATIC::_getUSHORT($font, $offset); goto f64MT; MUzn2: $offset += 4; goto cY8D1; qJe8X: for ($k = 0; $k < $entryCount; ++$k) { $c = $k + $firstCode; $g = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $ctg[$c] = $g; } goto XnCt2; VA3Xf: case 8: goto wqRXQ; Mo2pB: for ($i = 0; $i < $nGroups; ++$i) { $startCharCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $endCharCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $startGlyphID = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; for ($k = $startCharCode; $k <= $endCharCode; ++$k) { $is32idx = floor($c / 8); if (isset($is32[$is32idx]) and ($is32[$is32idx] & 1 << 7 - $c % 8) == 0) { $c = $k; } else { $c = (55232 + ($k >> 10) << 10) + (0xdc00 + ($k & 0x3ff)) - 56613888; } $ctg[$c] = 0; ++$startGlyphID; } } goto l4udw; pn46o: $offset += 4; goto Mo2pB; l4udw: break; goto BvrN1; ptemZ: $nGroups = TCPDF_STATIC::_getULONG($font, $offset); goto pn46o; svOkp: for ($k = 0; $k < 8192; ++$k) { $is32[$k] = TCPDF_STATIC::_getBYTE($font, $offset); ++$offset; } goto ptemZ; wqRXQ: $offset += 10; goto svOkp; BvrN1: case 10: goto zmLBT; drzaL: $startCharCode = TCPDF_STATIC::_getULONG($font, $offset); goto tYlX5; RYnMc: $numChars = TCPDF_STATIC::_getULONG($font, $offset); goto ipcA1; ex0ly: for ($k = 0; $k < $numChars; ++$k) { $c = $k + $startCharCode; $g = TCPDF_STATIC::_getUSHORT($font, $offset); $ctg[$c] = $g; $offset += 2; } goto kJLxP; kJLxP: break; goto qebza; zmLBT: $offset += 10; goto drzaL; ipcA1: $offset += 4; goto ex0ly; tYlX5: $offset += 4; goto RYnMc; qebza: case 12: goto CuIiX; CuIiX: $offset += 10; goto jtbHN; mAbDe: for ($k = 0; $k < $nGroups; ++$k) { $startCharCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $endCharCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $startGlyphCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; for ($c = $startCharCode; $c <= $endCharCode; ++$c) { $ctg[$c] = $startGlyphCode; ++$startGlyphCode; } } goto B6lTv; B6lTv: break; goto RjZCW; jtbHN: $nGroups = TCPDF_STATIC::_getULONG($font, $offset); goto lM3_L; lM3_L: $offset += 4; goto mAbDe; RjZCW: case 13: break; case 14: break; } goto Hmdxv; tVcc7: $format = TCPDF_STATIC::_getUSHORT($font, $offset); goto mVjVK; mVjVK: $offset += 2; goto qvhpK; IWSsX: $offset = $table["\143\155\x61\160"]["\157\146\146\x73\145\164"] + $enctable["\x6f\146\x66\163\x65\x74"]; goto tVcc7; Hmdxv: } } goto lHJux; CeQCR: $table = array(); goto wwd1N; cxbiU: $fmetric["\x43\141\x70\x48\145\151\x67\x68\x74"] = round(($yMax - $yMin) * $urk); goto HEVn2; NEhXS: $offset = $table["\x6e\x61\x6d\x65"]["\x6f\146\x66\x73\145\164"]; goto MVrRO; Fw34q: $offset = $table["\x67\154\171\146"]["\x6f\x66\146\x73\145\x74"] + $indexToLoc[$ctg[120]] + 4; goto aWJAd; LYUz0: $offset = $table["\x6c\x6f\143\x61"]["\x6f\x66\146\x73\145\164"]; goto muUr7; ua82l: $ctg = array(); goto Tt_A0; D6lhh: if ($fsType == 2) { return false; } goto BxpVM; JifV1: for ($i = 0; $i < $numEncodingTables; ++$i) { $encodingTables[$i]["\x70\x6c\141\x74\146\157\x72\x6d\111\104"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $encodingTables[$i]["\x65\x6e\x63\157\x64\x69\x6e\147\x49\x44"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $encodingTables[$i]["\x6f\146\146\163\145\x74"] = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; } goto Sj9fI; xbOTO: $macStyle = TCPDF_STATIC::_getUSHORT($font, $offset); goto LwAWF; mNzbf: $encodingTables = array(); goto JifV1; QmAmp: $offset += 2; goto Na2m3; PuFdq: $fsType = TCPDF_STATIC::_getSHORT($font, $offset); goto VaGkg; Xd23h: $offset += 2; goto uJyfm; ep9__: $offset += 2; goto alyga; kXYa8: $offset += 2; goto mNzbf; OV1wC: if ($numberOfHMetrics < $numGlyphs) { $cw = array_pad($cw, $numGlyphs, $cw[$numberOfHMetrics - 1]); } goto TP7GA; aWJAd: $yMin = TCPDF_STATIC::_getFWORD($font, $offset); goto ismlN; D09Zn: $offset += 4; goto MGX6w; cKS9K: $fmetric["\123\x74\145\x6d\x48"] = round(30 * $usWeightClass / 400); goto uglrf; bfibP: if (empty($fmetric["\156\x61\x6d\x65"])) { $fmetric["\156\141\155\145"] = $font_name; } goto YDkVy; c5zMi: $offset += 4; goto zDsgx; G245Y: $short_offset = TCPDF_STATIC::_getSHORT($font, $offset) == 0; goto Kx_NM; ox8ue: $offset = $table["\x67\154\x79\146"]["\x6f\x66\146\x73\145\164"] + $indexToLoc[$ctg[72]] + 4; goto dsDDv; dfJdN: $offset += 2; goto otK2h; I0tlG: $fmetric["\101\163\143\145\156\164"] = round(TCPDF_STATIC::_getFWORD($font, $offset) * $urk); goto JiNdv; HNJr7: $fmetric["\x63\x77"] = ''; goto tJds4; jGluF: $offset += 2; goto G1shp; ryf1o: $offset += 2; goto LdLnL; S547D: $numTables = TCPDF_STATIC::_getUSHORT($font, $offset); goto QmAmp; LdLnL: $usWeightClass = round(TCPDF_STATIC::_getUFWORD($font, $offset) * $urk); goto tG2Ap; G1shp: $fmetric["\115\141\x78\127\x69\x64\164\150"] = round(TCPDF_STATIC::_getUFWORD($font, $offset) * $urk); goto HD5kE; HEVn2: $cw = array(); goto PoRDm; vubQS: } goto J0Sma; vm0kQ: $pfile .= "\47\114\x65\x61\144\x69\156\x67\x27\75\x3e" . $fmetric["\x4c\x65\x61\x64\x69\x6e\x67"] . "\x2c"; goto FXDB6; JW7Yg: if ($fmetric["\x4d\x69\163\163\151\x6e\x67\127\151\x64\164\150"] > 0) { $pfile .= "\x24\144\x77\75" . $fmetric["\115\x69\x73\x73\151\x6e\x67\127\151\x64\x74\x68"] . "\x3b" . "\12"; } else { $pfile .= "\x24\144\x77\75" . $fmetric["\101\x76\x67\x57\x69\144\x74\150"] . "\73" . "\12"; } goto c2aGK; kwZy4: $fmetric["\x6f\162\x69\147\x69\x6e\x61\x6c\x73\151\x7a\145"] = strlen($font); goto mgpKe; a6woe: $pfile .= "\44\x64\x65\163\143\x3d\141\x72\x72\141\x79\x28"; goto C4kkg; C7dek: if (@TCPDF_STATIC::file_exists($outpath . $font_name . "\56\x70\150\160")) { return $font_name; } goto TM8i9; yjUoY: $replace = array("\x62", "\x69", "\151", ''); goto m5CcY; X83Ee: if ($fmetric["\164\171\160\145"] == "\124\171\160\x65\x31") { goto bfKqM; V4kWY: $pfile .= "\x24\146\151\x6c\145\75\x27" . $fmetric["\x66\151\x6c\x65"] . "\47\x3b" . "\xa"; goto EpDKt; bfKqM: $pfile .= "\x24\145\x6e\x63\75\x27" . $fmetric["\145\156\143"] . "\x27\x3b" . "\12"; goto V4kWY; EpDKt: $pfile .= "\44\x73\x69\172\x65\61\75" . $fmetric["\163\151\172\145\x31"] . "\x3b" . "\xa"; goto sjIs8; sjIs8: $pfile .= "\44\163\x69\172\x65\x32\x3d" . $fmetric["\x73\x69\x7a\x65\62"] . "\73" . "\12"; goto GmpS0; GmpS0: } else { $pfile .= "\44\157\162\151\147\x69\x6e\141\154\163\151\172\x65\x3d" . $fmetric["\x6f\162\151\147\151\x6e\141\x6c\x73\151\172\x65"] . "\x3b" . "\12"; if ($fmetric["\164\x79\x70\145"] == "\x63\x69\144\146\x6f\156\164\x30") { switch ($fonttype) { case "\x43\x49\104\60\112\x50": goto jMx81; qKLn1: $pfile .= "\151\x6e\143\x6c\x75\x64\x65\x28\144\x69\162\x6e\x61\x6d\145\x28\137\x5f\106\x49\x4c\105\137\x5f\x29\56\47\x2f\x75\156\151\62\143\151\144\137\141\152\x31\66\56\x70\150\160\47\x29\x3b" . "\12"; goto ELW4H; jMx81: $pfile .= "\x2f\x2f\40\112\141\x70\x61\156\x65\163\145" . "\12"; goto SbRf7; bKT1I: $pfile .= "\x24\143\x69\x64\x69\x6e\x66\157\x3d\x61\x72\x72\141\x79\x28\x27\122\145\147\151\x73\164\162\x79\x27\75\76\x27\x41\x64\x6f\x62\x65\47\x2c\x20\47\x4f\x72\x64\145\162\151\156\x67\x27\75\x3e\x27\112\141\x70\141\x6e\x31\47\x2c\47\x53\165\x70\160\x6c\x65\155\145\156\164\x27\x3d\76\x35\x29\73" . "\12"; goto qKLn1; ELW4H: break; goto k8f7F; SbRf7: $pfile .= "\44\145\x6e\x63\x3d\47\125\x6e\151\112\111\123\x2d\x55\124\x46\61\x36\x2d\110\x27\x3b" . "\xa"; goto bKT1I; k8f7F: case "\103\111\x44\x30\113\122": goto KPxFw; kpQRZ: break; goto Y0DPb; ZrBia: $pfile .= "\x24\145\x6e\143\x3d\47\125\156\151\113\x53\55\x55\x54\x46\61\x36\55\110\x27\73" . "\12"; goto JiCN9; R4Kd5: $pfile .= "\x69\x6e\x63\154\165\144\x65\x28\144\151\x72\156\x61\155\x65\50\137\x5f\106\111\x4c\105\x5f\137\51\56\x27\57\x75\x6e\151\62\143\151\144\x5f\x61\153\61\x32\x2e\160\150\160\x27\51\73" . "\xa"; goto kpQRZ; JiCN9: $pfile .= "\44\143\x69\144\151\x6e\x66\157\75\x61\x72\162\x61\x79\x28\x27\122\145\x67\x69\163\164\162\x79\x27\x3d\76\x27\x41\144\157\142\145\x27\54\40\47\x4f\x72\144\x65\x72\x69\156\147\47\x3d\76\47\113\x6f\x72\145\141\x31\47\54\47\x53\165\x70\160\x6c\x65\x6d\x65\156\164\x27\x3d\x3e\x30\51\73" . "\xa"; goto R4Kd5; KPxFw: $pfile .= "\57\x2f\40\x4b\x6f\x72\x65\x61\x6e" . "\xa"; goto ZrBia; Y0DPb: case "\x43\x49\104\x30\103\123": goto roMBC; Vn1ga: $pfile .= "\x69\x6e\x63\x6c\x75\144\x65\x28\144\x69\x72\156\141\x6d\145\50\x5f\x5f\x46\111\x4c\x45\x5f\137\51\56\x27\57\165\156\151\62\x63\151\x64\x5f\141\x67\x31\65\56\x70\x68\x70\x27\51\x3b" . "\xa"; goto lUWVl; roMBC: $pfile .= "\57\57\x20\103\150\x69\156\x65\x73\145\x20\123\151\x6d\x70\x6c\151\x66\151\x65\144" . "\xa"; goto z06SV; z06SV: $pfile .= "\44\145\x6e\x63\75\x27\x55\156\151\x47\102\55\x55\x54\106\61\x36\55\x48\47\x3b" . "\xa"; goto kOrK_; lUWVl: break; goto ev0Wi; kOrK_: $pfile .= "\44\143\151\144\151\x6e\x66\157\75\x61\x72\x72\141\171\50\47\x52\x65\x67\151\163\x74\x72\171\x27\75\x3e\47\101\x64\x6f\x62\x65\x27\54\40\x27\x4f\x72\144\x65\x72\151\x6e\147\47\75\x3e\47\x47\102\x31\x27\54\x27\123\165\x70\x70\x6c\145\x6d\x65\x6e\x74\47\x3d\76\x32\51\x3b" . "\12"; goto Vn1ga; ev0Wi: case "\103\x49\x44\60\103\x54": default: goto Uv5U3; bYUsh: $pfile .= "\x24\143\151\144\151\x6e\146\x6f\x3d\141\x72\x72\141\171\x28\47\x52\x65\x67\x69\x73\x74\x72\x79\x27\75\x3e\47\101\x64\157\142\145\47\54\40\x27\117\x72\144\x65\x72\x69\156\147\x27\75\x3e\x27\x43\116\x53\61\47\54\47\x53\x75\x70\x70\x6c\145\155\x65\156\164\47\75\x3e\x30\x29\73" . "\12"; goto Mwsm8; Mwsm8: $pfile .= "\151\156\x63\154\x75\144\145\50\x64\151\162\156\141\155\145\50\137\137\106\x49\114\x45\137\x5f\x29\x2e\47\57\x75\156\151\62\143\x69\144\137\x61\152\61\66\56\160\150\160\x27\x29\73" . "\12"; goto rsak6; rsak6: break; goto IKGqe; aXoTd: $pfile .= "\x24\145\156\x63\75\47\125\156\x69\x43\116\123\x2d\125\124\x46\61\66\55\x48\47\73" . "\12"; goto bYUsh; Uv5U3: $pfile .= "\x2f\x2f\x20\x43\150\151\x6e\145\x73\145\x20\124\x72\141\x64\x69\x74\x69\157\156\x61\x6c" . "\xa"; goto aXoTd; IKGqe: } } else { goto kj227; HhVE0: foreach ($ctg as $cid => $gid) { $cidtogidmap = self::updateCIDtoGIDmap($cidtogidmap, $cid, $ctg[$cid]); } goto viFdU; KVHVk: fwrite($fp, gzcompress($cidtogidmap)); goto qO51E; viFdU: $fp = TCPDF_STATIC::fopenLocal($outpath . $fmetric["\x63\164\147"], "\167\x62"); goto KVHVk; JseLR: $pfile .= "\44\143\x74\147\75\47" . $fmetric["\x63\164\x67"] . "\x27\73" . "\12"; goto y_ipB; iJa8q: $pfile .= "\44\146\151\154\145\x3d\47" . $fmetric["\146\151\x6c\x65"] . "\x27\73" . "\xa"; goto JseLR; kj227: $pfile .= "\44\x65\156\x63\75\47" . $fmetric["\145\x6e\143"] . "\x27\x3b" . "\12"; goto iJa8q; qO51E: fclose($fp); goto vLmAW; y_ipB: $cidtogidmap = str_pad('', 131072, "\0"); goto HhVE0; vLmAW: } } goto a6woe; upIDX: $pfile .= "\47\111\x74\141\154\x69\x63\101\156\x67\154\145\47\x3d\76" . $fmetric["\151\164\141\154\x69\x63\x41\156\147\x6c\145"] . "\54"; goto TagMG; N1B8O: if (empty($outpath)) { $outpath = self::_getfontpath(); } goto C7dek; ydGL9: switch ($fonttype) { case "\x43\x49\x44\60\103\124": case "\x43\x49\104\x30\x43\123": case "\103\111\x44\60\x4b\x52": case "\103\x49\x44\60\112\x50": $fmetric["\164\x79\x70\145"] = "\143\151\144\146\157\156\164\x30"; break; case "\124\x79\x70\145\x31": goto ioSat; zz3q4: if (empty($enc) and ($flags & 4) == 0) { $enc = "\143\160\x31\x32\x35\62"; } goto gp2v0; gp2v0: break; goto DDmk2; ioSat: $fmetric["\x74\171\x70\x65"] = "\x54\x79\160\145\x31"; goto zz3q4; DDmk2: case "\x54\x72\165\x65\x54\171\160\x65": $fmetric["\164\171\160\x65"] = "\124\x72\x75\x65\x54\x79\x70\145"; break; case "\124\x72\x75\145\124\x79\160\x65\x55\156\x69\x63\157\x64\145": default: $fmetric["\164\x79\x70\145"] = "\x54\162\165\145\x54\171\160\145\x55\156\x69\143\x6f\x64\145"; break; } goto NmIim; tZvQA: $pfile .= "\47\x44\145\x73\x63\x65\156\x74\47\x3d\76" . $fmetric["\x44\x65\x73\x63\x65\x6e\164"] . "\x2c"; goto vm0kQ; jvEFy: $pfile .= "\57\x2f\40\124\x43\x50\x44\106\x20\x46\117\x4e\x54\x20\x46\x49\114\x45\x20\104\105\x53\103\122\x49\x50\x54\111\117\116" . "\12"; goto aVefc; aVefc: $pfile .= "\x24\164\171\x70\145\75\x27" . $fmetric["\x74\171\x70\x65"] . "\x27\73" . "\12"; goto cwczh; VFQDg: $pfile .= "\44\165\164\75" . $fmetric["\165\156\x64\x65\x72\154\x69\156\145\124\150\x69\x63\x6b\x6e\x65\x73\x73"] . "\x3b" . "\xa"; goto JW7Yg; Vk8KH: $pfile .= "\x27\130\x48\x65\x69\147\150\164\x27\x3d\76" . $fmetric["\130\110\145\x69\147\150\x74"] . "\54"; goto tZ6Of; opXps: $fmetric["\x63\x74\147"] = $font_name . "\56\x63\x74\x67\56\172"; goto qWGUW; yi50H: if (empty($font_name)) { $font_name = "\164\x63\x70\x64\x66\x66\157\x6e\164"; } goto N1B8O; fnWA2: } public static function _getTTFtableChecksum($table, $length) { goto yMoch; uziHP: $tlen = $length / 4; goto pS62R; pS62R: $offset = 0; goto m0Pv3; Lrg3t: return $sum["\151"]; goto Nasfu; yqlyN: $sum = unpack("\116\151", pack("\x4e", $sum)); goto Lrg3t; m0Pv3: for ($i = 0; $i < $tlen; ++$i) { $v = unpack("\x4e\x69", substr($table, $offset, 4)); $sum += $v["\x69"]; $offset += 4; } goto yqlyN; yMoch: $sum = 0; goto uziHP; Nasfu: } public static function _getTrueTypeFontSubset($font, $subsetchars) { goto KLekp; w52L4: $offset = $table["\x68\x65\141\144"]["\157\x66\146\x73\x65\164"] + 12; goto dTwGt; u1kSG: $pad = 4 - $table["\147\x6c\171\146"]["\x6c\x65\x6e\147\164\150"] % 4; goto XIS0M; V1_26: $glyf_offset = $table["\147\x6c\x79\x66"]["\157\x66\146\163\145\164"]; goto whUqb; nR7yz: $table["\154\x6f\143\x61"]["\x63\150\x65\x63\153\123\x75\155"] = self::_getTTFtableChecksum($table["\154\157\143\141"]["\144\x61\164\x61"], $table["\x6c\x6f\143\141"]["\x6c\x65\156\147\164\150"]); goto qHgn3; whUqb: for ($i = 0; $i < $tot_num_glyphs; ++$i) { if (isset($subsetglyphs[$i])) { $length = $indexToLoc[$i + 1] - $indexToLoc[$i]; $glyf .= substr($font, $glyf_offset + $indexToLoc[$i], $length); } else { $length = 0; } if ($short_offset) { $loca .= pack("\x6e", floor($offset / 2)); } else { $loca .= pack("\116", $offset); } $offset += $length; } goto dDxI5; TZ_21: while (!empty($new_sga)) { $sga = $new_sga; $new_sga = array(); foreach ($sga as $key => $val) { if (isset($indexToLoc[$key])) { goto ErTwL; N0udL: if ($numberOfContours < 0) { $offset += 8; do { $flags = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $glyphIndex = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; if (!isset($subsetglyphs[$glyphIndex])) { $new_sga[$glyphIndex] = true; } if ($flags & 1) { $offset += 4; } else { $offset += 2; } if ($flags & 8) { $offset += 2; } elseif ($flags & 64) { $offset += 4; } elseif ($flags & 128) { $offset += 8; } } while ($flags & 32); } goto PzPfR; FR0Lc: $offset += 2; goto N0udL; ErTwL: $offset = $table["\147\154\x79\146"]["\x6f\146\146\163\145\164"] + $indexToLoc[$key]; goto z_u3P; z_u3P: $numberOfContours = TCPDF_STATIC::_getSHORT($font, $offset); goto FR0Lc; PzPfR: } } $subsetglyphs += $new_sga; } goto CpwYN; aaqf2: $numTables = TCPDF_STATIC::_getUSHORT($font, $offset); goto riGF_; r2JfF: $table["\154\157\x63\x61"]["\x6c\x65\156\x67\x74\x68"] = strlen($loca); goto OCd3Q; cozdZ: foreach ($table as $tag => $val) { if (in_array($tag, $table_names)) { goto Gpld_; reNsK: $offset += $table[$tag]["\154\x65\x6e\147\164\x68"]; goto Pxf7z; PxJP9: $table[$tag]["\157\x66\x66\163\145\x74"] = $offset; goto reNsK; KoLga: if ($pad != 4) { $table[$tag]["\154\x65\156\x67\x74\x68"] += $pad; $table[$tag]["\x64\x61\164\x61"] .= str_repeat("\x0", $pad); } goto PxJP9; Gpld_: $table[$tag]["\x64\141\x74\141"] = substr($font, $table[$tag]["\157\x66\146\163\145\x74"], $table[$tag]["\x6c\145\x6e\x67\x74\150"]); goto IDFD0; lsaU2: $pad = 4 - $table[$tag]["\154\145\156\147\164\150"] % 4; goto KoLga; IDFD0: if ($tag == "\x68\x65\x61\144") { $table[$tag]["\144\141\164\141"] = substr($table[$tag]["\x64\x61\164\x61"], 0, 8) . "\x0\x0\x0\x0" . substr($table[$tag]["\x64\141\x74\141"], 12); } goto lsaU2; Pxf7z: } else { unset($table[$tag]); } } goto ZWCdx; j6wPY: foreach ($table as $tag => $data) { goto DMeT3; Qp28G: $font .= pack("\x4e", $data["\154\145\156\x67\164\150"]); goto LiICc; Kx_iC: $font .= pack("\116", $data["\157\x66\146\x73\x65\x74"] + $offset); goto Qp28G; DMeT3: $font .= $tag; goto fqBCw; fqBCw: $font .= pack("\116", $data["\143\x68\145\143\153\x53\165\x6d"]); goto Kx_iC; LiICc: } goto NEkFG; MiKaH: $short_offset = TCPDF_STATIC::_getSHORT($font, $offset) == 0; goto uZBNs; d2bmK: $table["\x67\x6c\171\146"]["\144\x61\164\141"] = $glyf; goto mNqkZ; WfKJr: $numEncodingTables = TCPDF_STATIC::_getUSHORT($font, $offset); goto b3qhu; CpwYN: ksort($subsetglyphs); goto K3bg_; JzwQq: $offset = $numTables * 16; goto j6wPY; VMbLI: $table["\147\154\x79\x66"]["\143\150\145\x63\153\x53\x75\155"] = self::_getTTFtableChecksum($table["\147\x6c\171\146"]["\x64\x61\x74\x61"], $table["\147\154\171\x66"]["\x6c\x65\x6e\x67\164\x68"]); goto pI2TY; m8gXj: $table["\x6c\x6f\x63\141"]["\157\x66\x66\x73\145\x74"] = $offset; goto nR7yz; pgkA3: $font .= pack("\116", 0x10000); goto pg3oq; pI2TY: $font = ''; goto pgkA3; y4phR: $offset += 4; goto aaqf2; ZWCdx: $table["\x6c\157\x63\141"]["\x64\x61\x74\x61"] = $loca; goto r2JfF; ct5vA: $offset = 0; goto AFcr2; K3bg_: $glyf = ''; goto io_Nk; T36eS: $table["\147\x6c\171\146"]["\157\146\x66\x73\x65\x74"] = $offset; goto VMbLI; NEkFG: foreach ($table as $data) { $font .= $data["\144\x61\164\x61"]; } goto hzLal; iQAZ7: $offset += 4; goto huZ_b; DwgSm: $entrySelector = floor(log($numTables, 2)); goto ycDWz; b1FNx: $font .= pack("\156", $numTables); goto DwgSm; mNqkZ: $table["\147\x6c\x79\146"]["\154\145\156\x67\x74\150"] = strlen($glyf); goto u1kSG; pg3oq: $numTables = count($table); goto b1FNx; riGF_: $offset += 2; goto MAwsp; OCd3Q: $pad = 4 - $table["\154\157\143\141"]["\154\x65\x6e\x67\164\x68"] % 4; goto s0YFO; I4QW2: for ($i = 0; $i < $numEncodingTables; ++$i) { $encodingTables[$i]["\160\154\x61\164\146\x6f\x72\155\x49\104"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $encodingTables[$i]["\145\156\143\157\144\151\156\147\x49\x44"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $encodingTables[$i]["\x6f\x66\x66\163\x65\x74"] = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; } goto HvCDC; H3DUZ: $encodingTables = array(); goto I4QW2; A355o: $offset = 0; goto V1_26; cttnz: $offset = $table["\154\157\143\x61"]["\x6f\x66\146\163\x65\164"]; goto Qngv1; dTwGt: if (TCPDF_STATIC::_getULONG($font, $offset) != 0x5f0f3cf5) { return $font; } goto iQAZ7; KLekp: ksort($subsetchars); goto ct5vA; RuQXJ: $rangeShift = $numTables * 16 - $searchRange; goto GcUwn; fnwgk: for ($i = 0; $i < $numTables; ++$i) { $tag = substr($font, $offset, 4); $offset += 4; $table[$tag] = array(); $table[$tag]["\143\x68\x65\143\153\123\x75\155"] = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $table[$tag]["\157\146\x66\x73\x65\164"] = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $table[$tag]["\x6c\145\156\147\164\x68"] = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; } goto w52L4; N65gs: $subsetglyphs[0] = true; goto FUETo; huZ_b: $offset = $table["\150\145\x61\x64"]["\157\x66\x66\x73\x65\x74"] + 50; goto MiKaH; tAlU2: $table = array(); goto fnwgk; s0YFO: if ($pad != 4) { $table["\154\157\x63\141"]["\154\x65\x6e\x67\164\150"] += $pad; $table["\154\x6f\143\141"]["\x64\x61\164\141"] .= str_repeat("\x0", $pad); } goto m8gXj; VQsNo: $font = substr($font, 0, $table["\150\x65\141\x64"]["\157\x66\x66\163\145\x74"] + 8) . pack("\x4e", $checkSumAdjustment) . substr($font, $table["\x68\x65\141\x64"]["\157\146\146\x73\145\x74"] + 12); goto P7UUe; uZBNs: $offset += 2; goto j_jSG; vw0Co: $subsetglyphs = array(); goto N65gs; FUETo: $offset = $table["\x63\x6d\141\160"]["\157\146\x66\163\x65\164"] + 2; goto WfKJr; Z7WMe: $offset = 12; goto cozdZ; hzLal: $checkSumAdjustment = 0xb1b0afba - self::_getTTFtableChecksum($font, strlen($font)); goto VQsNo; XIS0M: if ($pad != 4) { $table["\x67\x6c\171\x66"]["\154\x65\x6e\147\x74\150"] += $pad; $table["\147\x6c\171\146"]["\144\141\x74\141"] .= str_repeat("\x0", $pad); } goto T36eS; b3qhu: $offset += 2; goto H3DUZ; Qngv1: if ($short_offset) { $tot_num_glyphs = floor($table["\x6c\157\x63\141"]["\154\145\x6e\147\x74\x68"] / 2); for ($i = 0; $i < $tot_num_glyphs; ++$i) { $indexToLoc[$i] = TCPDF_STATIC::_getUSHORT($font, $offset) * 2; $offset += 2; } } else { $tot_num_glyphs = $table["\154\x6f\x63\141"]["\x6c\x65\156\x67\164\150"] / 4; for ($i = 0; $i < $tot_num_glyphs; ++$i) { $indexToLoc[$i] = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; } } goto vw0Co; AFcr2: if (TCPDF_STATIC::_getULONG($font, $offset) != 0x10000) { return $font; } goto y4phR; tk0Hd: $new_sga = $subsetglyphs; goto TZ_21; HvCDC: foreach ($encodingTables as $enctable) { goto hfLLs; hfLLs: $offset = $table["\x63\x6d\141\160"]["\157\x66\146\163\x65\x74"] + $enctable["\157\x66\146\163\x65\x74"]; goto dMbJV; ExUbG: $offset += 2; goto h3b_u; h3b_u: switch ($format) { case 0: goto YSSuo; YSSuo: $offset += 4; goto UPS58; UPS58: for ($c = 0; $c < 256; ++$c) { if (isset($subsetchars[$c])) { $g = TCPDF_STATIC::_getBYTE($font, $offset); $subsetglyphs[$g] = true; } ++$offset; } goto j3VqX; j3VqX: break; goto E7wvW; E7wvW: case 2: goto y1kS9; BqRfu: for ($i = 0; $i < 256; ++$i) { $k = $subHeaderKeys[$i]; if ($k == 0) { $c = $i; if (isset($subsetchars[$c])) { $g = $glyphIndexArray[0]; $subsetglyphs[$g] = true; } } else { goto Dvjqd; XEgSc: $end_byte = $start_byte + $subHeaders[$k]["\x65\x6e\x74\162\171\103\x6f\x75\x6e\x74"]; goto b3GUW; b3GUW: for ($j = $start_byte; $j < $end_byte; ++$j) { $c = ($i << 8) + $j; if (isset($subsetchars[$c])) { goto NZXAt; srbF7: $subsetglyphs[$g] = true; goto Lnvig; NZXAt: $idRangeOffset = $subHeaders[$k]["\151\144\122\x61\156\x67\x65\117\146\x66\x73\x65\x74"] + $j - $subHeaders[$k]["\146\151\162\163\164\103\x6f\144\x65"]; goto IYnaE; I2v0G: if ($g < 0) { $g = 0; } goto srbF7; IYnaE: $g = ($glyphIndexArray[$idRangeOffset] + $subHeaders[$k]["\151\x64\x44\x65\154\x74\141"]) % 65536; goto I2v0G; Lnvig: } } goto d7AjY; Dvjqd: $start_byte = $subHeaders[$k]["\146\151\x72\x73\x74\x43\157\x64\x65"]; goto XEgSc; d7AjY: } } goto PjgXZ; riWl_: $numSubHeaders = 0; goto AeBCm; ymeBL: ++$numSubHeaders; goto JmAhH; y1kS9: $offset += 4; goto riWl_; AeBCm: for ($i = 0; $i < 256; ++$i) { $subHeaderKeys[$i] = TCPDF_STATIC::_getUSHORT($font, $offset) / 8; $offset += 2; if ($numSubHeaders < $subHeaderKeys[$i]) { $numSubHeaders = $subHeaderKeys[$i]; } } goto ymeBL; jDKk3: $numGlyphIndexArray = 0; goto P2saJ; aaAWB: for ($k = 0; $k < $numGlyphIndexArray; ++$k) { $glyphIndexArray[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto BqRfu; JmAhH: $subHeaders = array(); goto jDKk3; P2saJ: for ($k = 0; $k < $numSubHeaders; ++$k) { $subHeaders[$k]["\x66\x69\x72\163\x74\x43\x6f\144\x65"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $subHeaders[$k]["\x65\x6e\164\162\x79\x43\x6f\x75\x6e\x74"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $subHeaders[$k]["\x69\144\104\145\x6c\x74\141"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $subHeaders[$k]["\x69\144\x52\x61\156\147\145\x4f\146\x66\x73\145\164"] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; $subHeaders[$k]["\151\x64\122\141\156\x67\145\x4f\146\x66\x73\x65\164"] -= 2 + ($numSubHeaders - $k - 1) * 8; $subHeaders[$k]["\151\144\122\141\156\147\145\117\x66\146\163\145\164"] /= 2; $numGlyphIndexArray += $subHeaders[$k]["\x65\x6e\164\x72\x79\103\x6f\x75\x6e\x74"]; } goto aaAWB; PjgXZ: break; goto ITQtk; ITQtk: case 4: goto qSgPT; yef1O: $idDelta = array(); goto o3BEi; tKyYM: for ($k = 0; $k < $segCount; ++$k) { $startCount[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto yef1O; ZAB0f: $offset += 2; goto FqpcD; Iy3wY: $startCount = array(); goto tKyYM; qSgPT: $length = TCPDF_STATIC::_getUSHORT($font, $offset); goto Z2IRt; Z2IRt: $offset += 2; goto coEgd; txvYA: $segCount = floor(TCPDF_STATIC::_getUSHORT($font, $offset) / 2); goto ZAB0f; M7mTP: for ($k = 0; $k < $segCount; ++$k) { $endCount[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto dxkpq; nOiiG: $glyphIdArray = array(); goto chg1O; FqpcD: $offset += 6; goto DStb0; ZyAds: $gidlen = floor($length / 2) - 8 - 4 * $segCount; goto nOiiG; dxkpq: $offset += 2; goto Iy3wY; tNnSW: $idRangeOffset = array(); goto uFjFY; o3BEi: for ($k = 0; $k < $segCount; ++$k) { $idDelta[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto tNnSW; DStb0: $endCount = array(); goto M7mTP; U_rqJ: for ($k = 0; $k < $segCount; ++$k) { for ($c = $startCount[$k]; $c <= $endCount[$k]; ++$c) { if (isset($subsetchars[$c])) { goto biMbw; IGtiE: if ($g < 0) { $g = 0; } goto v8OdI; v8OdI: $subsetglyphs[$g] = true; goto ciJOI; biMbw: if ($idRangeOffset[$k] == 0) { $g = ($idDelta[$k] + $c) % 65536; } else { $gid = floor($idRangeOffset[$k] / 2) + ($c - $startCount[$k]) - ($segCount - $k); $g = ($glyphIdArray[$gid] + $idDelta[$k]) % 65536; } goto IGtiE; ciJOI: } } } goto Sf4KV; uFjFY: for ($k = 0; $k < $segCount; ++$k) { $idRangeOffset[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto ZyAds; chg1O: for ($k = 0; $k < $gidlen; ++$k) { $glyphIdArray[$k] = TCPDF_STATIC::_getUSHORT($font, $offset); $offset += 2; } goto U_rqJ; coEgd: $offset += 2; goto txvYA; Sf4KV: break; goto Nk13P; Nk13P: case 6: goto JAtH5; Y9ZwS: for ($k = 0; $k < $entryCount; ++$k) { $c = $k + $firstCode; if (isset($subsetchars[$c])) { $g = TCPDF_STATIC::_getUSHORT($font, $offset); $subsetglyphs[$g] = true; } $offset += 2; } goto tpVFs; tpVFs: break; goto KXefM; JAtH5: $offset += 4; goto x1N4l; x1N4l: $firstCode = TCPDF_STATIC::_getUSHORT($font, $offset); goto IdekV; VzdIB: $entryCount = TCPDF_STATIC::_getUSHORT($font, $offset); goto QMDrm; IdekV: $offset += 2; goto VzdIB; QMDrm: $offset += 2; goto Y9ZwS; KXefM: case 8: goto RJjJS; muUHT: break; goto q4cDc; meh5e: $nGroups = TCPDF_STATIC::_getULONG($font, $offset); goto CAVdk; RJjJS: $offset += 10; goto HU8TJ; HU8TJ: for ($k = 0; $k < 8192; ++$k) { $is32[$k] = TCPDF_STATIC::_getBYTE($font, $offset); ++$offset; } goto meh5e; TkCaT: for ($i = 0; $i < $nGroups; ++$i) { $startCharCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $endCharCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $startGlyphID = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; for ($k = $startCharCode; $k <= $endCharCode; ++$k) { $is32idx = floor($c / 8); if (isset($is32[$is32idx]) and ($is32[$is32idx] & 1 << 7 - $c % 8) == 0) { $c = $k; } else { $c = (55232 + ($k >> 10) << 10) + (0xdc00 + ($k & 0x3ff)) - 56613888; } if (isset($subsetchars[$c])) { $subsetglyphs[$startGlyphID] = true; } ++$startGlyphID; } } goto muUHT; CAVdk: $offset += 4; goto TkCaT; q4cDc: case 10: goto ZrZ3R; nG0Pq: $startCharCode = TCPDF_STATIC::_getULONG($font, $offset); goto S03bp; ZrZ3R: $offset += 10; goto nG0Pq; f0WHZ: for ($k = 0; $k < $numChars; ++$k) { $c = $k + $startCharCode; if (isset($subsetchars[$c])) { $g = TCPDF_STATIC::_getUSHORT($font, $offset); $subsetglyphs[$g] = true; } $offset += 2; } goto MJ26b; Dhhho: $offset += 4; goto f0WHZ; b1cy7: $numChars = TCPDF_STATIC::_getULONG($font, $offset); goto Dhhho; S03bp: $offset += 4; goto b1cy7; MJ26b: break; goto a349H; a349H: case 12: goto fpkx9; I1Mau: for ($k = 0; $k < $nGroups; ++$k) { $startCharCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $endCharCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; $startGlyphCode = TCPDF_STATIC::_getULONG($font, $offset); $offset += 4; for ($c = $startCharCode; $c <= $endCharCode; ++$c) { if (isset($subsetchars[$c])) { $subsetglyphs[$startGlyphCode] = true; } ++$startGlyphCode; } } goto hMU2j; fpkx9: $offset += 10; goto IEQKV; ASs8s: $offset += 4; goto I1Mau; hMU2j: break; goto mJrS8; IEQKV: $nGroups = TCPDF_STATIC::_getULONG($font, $offset); goto ASs8s; mJrS8: case 13: break; case 14: break; } goto ZaxRn; dMbJV: $format = TCPDF_STATIC::_getUSHORT($font, $offset); goto ExUbG; ZaxRn: } goto tk0Hd; zQZdJ: $font .= pack("\156", $entrySelector); goto WIglD; io_Nk: $loca = ''; goto A355o; P7UUe: return $font; goto ZtvZf; GcUwn: $font .= pack("\x6e", $searchRange); goto zQZdJ; dDxI5: $table_names = array("\150\x65\141\x64", "\150\150\x65\141", "\150\155\x74\x78", "\155\x61\x78\x70", "\143\x76\x74\40", "\x66\x70\x67\155", "\160\162\x65\160"); goto Z7WMe; MAwsp: $offset += 6; goto tAlU2; qHgn3: $offset += $table["\x6c\x6f\143\141"]["\154\145\156\147\164\150"]; goto d2bmK; j_jSG: $indexToLoc = array(); goto cttnz; WIglD: $font .= pack("\156", $rangeShift); goto JzwQq; ycDWz: $searchRange = pow(2, $entrySelector) * 16; goto RuQXJ; ZtvZf: } public static function _putfontwidths($font, $cidoffset = 0) { goto uIOYQ; uIOYQ: ksort($font["\143\167"]); goto zMS_B; ubVdv: $range = array(); goto m9NBR; d6Ftl: return "\57\127\40\133" . $w . "\40\135"; goto y3zyc; YAXcB: foreach ($font["\143\x77"] as $cid => $width) { goto hX2aC; hX2aC: $cid -= $cidoffset; goto aoV_V; aoV_V: if ($font["\163\x75\x62\x73\x65\x74"] and !isset($font["\x73\165\x62\163\x65\164\143\x68\141\x72\163"][$cid])) { continue; } goto Vec3V; Vec3V: if ($width != $font["\144\x77"]) { goto rHONg; AJYIT: $prevwidth = $width; goto t6Fgq; YMriP: $prevcid = $cid; goto AJYIT; rHONg: if ($cid == $prevcid + 1) { if ($width == $prevwidth) { goto BXdp4; ugH85: $interval = true; goto V8weY; V8weY: $range[$rangeid]["\x69\156\164\145\162\166\x61\x6c"] = true; goto Xfzka; BXdp4: if ($width == $range[$rangeid][0]) { $range[$rangeid][] = $width; } else { goto NvSHf; hQFAT: $range[$rangeid] = array(); goto ePG2f; QvvIm: $range[$rangeid][] = $width; goto kXv7W; zI2cP: $rangeid = $prevcid; goto hQFAT; ePG2f: $range[$rangeid][] = $prevwidth; goto QvvIm; NvSHf: array_pop($range[$rangeid]); goto zI2cP; kXv7W: } goto ugH85; Xfzka: } else { if ($interval) { goto DFwcM; boPbn: $range[$rangeid][] = $width; goto O9jZ9; al2yq: $range[$rangeid] = array(); goto boPbn; DFwcM: $rangeid = $cid; goto al2yq; O9jZ9: } else { $range[$rangeid][] = $width; } $interval = false; } } else { goto er0Zn; wxKIP: $range[$rangeid][] = $width; goto SaB0p; er0Zn: $rangeid = $cid; goto ZEZag; SaB0p: $interval = false; goto o13mQ; ZEZag: $range[$rangeid] = array(); goto wxKIP; o13mQ: } goto YMriP; t6Fgq: } goto nT2HU; nT2HU: } goto RQBJk; Bfqne: foreach ($range as $k => $ws) { goto GLVz1; pvdES: if ($k == $nextk and !$prevint and (!isset($ws["\151\156\x74\145\x72\166\x61\154"]) or $cws < 4)) { goto mIBMS; TpG_F: $range[$prevk] = array_merge($range[$prevk], $range[$k]); goto dX3N5; mIBMS: if (isset($range[$k]["\x69\156\164\x65\162\x76\141\x6c"])) { unset($range[$k]["\151\x6e\x74\x65\162\166\x61\154"]); } goto TpG_F; dX3N5: unset($range[$k]); goto dSMGz; dSMGz: } else { $prevk = $k; } goto V36Gg; s7XYB: if (isset($ws["\x69\156\164\x65\162\x76\141\x6c"])) { goto H5MjA; Rfuws: if (isset($range[$k]["\151\156\164\145\162\166\x61\154"])) { unset($range[$k]["\x69\156\x74\145\x72\166\141\x6c"]); } goto IfJ4v; IfJ4v: --$nextk; goto fI6jA; H5MjA: if ($cws > 3) { $prevint = true; } else { $prevint = false; } goto Rfuws; fI6jA: } else { $prevint = false; } goto oSPRs; V36Gg: $nextk = $k + $cws; goto s7XYB; GLVz1: $cws = count($ws); goto pvdES; oSPRs: } goto QQmLT; RQBJk: $prevk = -1; goto A1iYp; Bo8kd: $prevwidth = -1; goto WQHYu; QQmLT: $w = ''; goto pmq_Y; zMS_B: $rangeid = 0; goto ubVdv; c04lv: $prevint = false; goto Bfqne; pmq_Y: foreach ($range as $k => $ws) { if (count(array_count_values($ws)) == 1) { $w .= "\40" . $k . "\x20" . ($k + count($ws) - 1) . "\40" . $ws[0]; } else { $w .= "\x20" . $k . "\40\133\40" . implode("\x20", $ws) . "\40\135"; } } goto d6Ftl; A1iYp: $nextk = -1; goto c04lv; m9NBR: $prevcid = -2; goto Bo8kd; WQHYu: $interval = false; goto YAXcB; y3zyc: } public static function updateCIDtoGIDmap($map, $cid, $gid) { if ($cid >= 0 and $cid <= 0xffff and $gid >= 0) { goto kgb8j; kMQ3f: $map[$cid * 2] = chr($gid >> 8); goto OCrQC; OCrQC: $map[$cid * 2 + 1] = chr($gid & 0xff); goto Ddp6r; kgb8j: if ($gid > 0xffff) { $gid -= 0x10000; } goto kMQ3f; Ddp6r: } return $map; } public static function _getfontpath() { if (!defined("\x4b\137\x50\x41\x54\x48\x5f\106\x4f\116\124\x53") and is_dir($fdir = realpath(dirname(__FILE__) . "\x2f\56\x2e\57\146\157\156\164\163"))) { if (substr($fdir, -1) != "\57") { $fdir .= "\57"; } define("\113\137\120\101\x54\110\137\106\117\x4e\x54\x53", $fdir); } return defined("\113\x5f\120\101\124\x48\x5f\x46\x4f\x4e\124\x53") ? K_PATH_FONTS : ''; } public static function getFontFullPath($file, $fontdir = false) { goto OCheV; IO4RN: return $fontfile; goto OLI3U; OCheV: $fontfile = ''; goto S31e7; S31e7: if ($fontdir !== false and @TCPDF_STATIC::file_exists($fontdir . $file)) { $fontfile = $fontdir . $file; } elseif (@TCPDF_STATIC::file_exists(self::_getfontpath() . $file)) { $fontfile = self::_getfontpath() . $file; } elseif (@TCPDF_STATIC::file_exists($file)) { $fontfile = $file; } goto IO4RN; OLI3U: } public static function getFontRefSize($size, $refsize = 12) { switch ($size) { case "\170\x78\55\x73\x6d\141\154\x6c": $size = $refsize - 4; break; case "\x78\x2d\163\155\141\154\154": $size = $refsize - 3; break; case "\x73\x6d\141\x6c\x6c": $size = $refsize - 2; break; case "\x6d\x65\144\151\165\x6d": $size = $refsize; break; case "\154\141\x72\x67\x65": $size = $refsize + 2; break; case "\170\x2d\154\x61\x72\x67\145": $size = $refsize + 4; break; case "\x78\x78\55\154\141\162\147\145": $size = $refsize + 6; break; case "\163\x6d\141\154\154\x65\162": $size = $refsize - 3; break; case "\154\x61\x72\147\145\162": $size = $refsize + 3; break; } return $size; } public static function unichr($c, $unicode = true) { $c = intval($c); if (!$unicode) { return chr($c); } elseif ($c <= 0x7f) { return chr($c); } elseif ($c <= 0x7ff) { return chr(0xc0 | $c >> 6) . chr(0x80 | $c & 0x3f); } elseif ($c <= 0xffff) { return chr(0xe0 | $c >> 12) . chr(0x80 | $c >> 6 & 0x3f) . chr(0x80 | $c & 0x3f); } elseif ($c <= 0x10ffff) { return chr(0xf0 | $c >> 18) . chr(0x80 | $c >> 12 & 0x3f) . chr(0x80 | $c >> 6 & 0x3f) . chr(0x80 | $c & 0x3f); } else { return ''; } } public static function unichrUnicode($c) { return self::unichr($c, true); } public static function unichrASCII($c) { return self::unichr($c, false); } public static function arrUTF8ToUTF16BE($unicode, $setbom = false) { goto y7gy4; QkrEZ: if ($setbom) { $outstr .= "\xfe\xff"; } goto nsqb5; nsqb5: foreach ($unicode as $char) { if ($char == 0x200b) { } elseif ($char == 0xfffd) { $outstr .= "\377\375"; } elseif ($char < 0x10000) { $outstr .= chr($char >> 0x8); $outstr .= chr($char & 0xff); } else { goto fT7XG; PKWni: $outstr .= chr($w2 & 0xff); goto GmquH; fT7XG: $char -= 0x10000; goto IPoqD; nXoQ1: $w2 = 0xdc00 | $char & 0x3ff; goto EHvOb; EHvOb: $outstr .= chr($w1 >> 0x8); goto jYLs4; IPoqD: $w1 = 0xd800 | $char >> 0xa; goto nXoQ1; jYLs4: $outstr .= chr($w1 & 0xff); goto c1MYS; c1MYS: $outstr .= chr($w2 >> 0x8); goto PKWni; GmquH: } } goto C83w1; y7gy4: $outstr = ''; goto QkrEZ; C83w1: return $outstr; goto dTy5e; dTy5e: } public static function UTF8ArrayToUniArray($ta, $isunicode = true) { if ($isunicode) { return array_map(array("\x54\103\120\x44\x46\x5f\x46\x4f\116\x54\123", "\x75\x6e\x69\x63\x68\x72\125\156\151\x63\157\x64\x65"), $ta); } return array_map(array("\x54\x43\x50\x44\106\x5f\x46\x4f\116\124\x53", "\165\x6e\x69\x63\x68\162\x41\123\x43\x49\111"), $ta); } public static function UTF8ArrSubString($strarr, $start = '', $end = '', $unicode = true) { goto RGS81; RGS81: if (strlen($start) == 0) { $start = 0; } goto hDses; uk73P: for ($i = $start; $i < $end; ++$i) { $string .= self::unichr($strarr[$i], $unicode); } goto mpZ7h; hDses: if (strlen($end) == 0) { $end = count($strarr); } goto slAUV; mpZ7h: return $string; goto WlNEs; slAUV: $string = ''; goto uk73P; WlNEs: } public static function UniArrSubString($uniarr, $start = '', $end = '') { goto Ee3Zs; Ee3Zs: if (strlen($start) == 0) { $start = 0; } goto BEVRV; O0Ou9: $string = ''; goto ECchH; BEVRV: if (strlen($end) == 0) { $end = count($uniarr); } goto O0Ou9; Gxghr: return $string; goto QNxbu; ECchH: for ($i = $start; $i < $end; ++$i) { $string .= $uniarr[$i]; } goto Gxghr; QNxbu: } public static function UTF8ArrToLatin1Arr($unicode) { goto xjXKo; kRErp: foreach ($unicode as $char) { if ($char < 256) { $outarr[] = $char; } elseif (array_key_exists($char, TCPDF_FONT_DATA::$uni_utf8tolatin)) { $outarr[] = TCPDF_FONT_DATA::$uni_utf8tolatin[$char]; } elseif ($char == 0xfffd) { } else { $outarr[] = 63; } } goto aSho4; xjXKo: $outarr = array(); goto kRErp; aSho4: return $outarr; goto i8VBA; i8VBA: } public static function UTF8ArrToLatin1($unicode) { goto VZHi8; fuIu2: return $outstr; goto rG8U4; Qx5Dj: foreach ($unicode as $char) { if ($char < 256) { $outstr .= chr($char); } elseif (array_key_exists($char, TCPDF_FONT_DATA::$uni_utf8tolatin)) { $outstr .= chr(TCPDF_FONT_DATA::$uni_utf8tolatin[$char]); } elseif ($char == 0xfffd) { } else { $outstr .= "\x3f"; } } goto fuIu2; VZHi8: $outstr = ''; goto Qx5Dj; rG8U4: } public static function uniord($uch) { if (!isset(self::$cache_uniord[$uch])) { self::$cache_uniord[$uch] = self::getUniord($uch); } return self::$cache_uniord[$uch]; } public static function getUniord($uch) { goto aIul5; x2SPp: return 0xfffd; goto CGrpp; VQU_B: $length = strlen($uch); goto AVu11; aIul5: if (function_exists("\x6d\142\x5f\143\x6f\x6e\x76\x65\162\164\x5f\145\156\143\157\x64\x69\x6e\147")) { list(, $char) = @unpack("\x4e", mb_convert_encoding($uch, "\125\x43\123\x2d\64\x42\105", "\125\124\x46\55\70")); if ($char >= 0) { return $char; } } goto RVxSm; U2Rpy: $countbytes = 0; goto ww2sP; RVxSm: $bytes = array(); goto U2Rpy; ww2sP: $numbytes = 1; goto VQU_B; AVu11: for ($i = 0; $i < $length; ++$i) { $char = ord($uch[$i]); if ($countbytes == 0) { if ($char <= 0x7f) { return $char; } elseif ($char >> 0x5 == 0x6) { goto jQxcb; N6Kei: $numbytes = 2; goto g1aMO; ti_O3: ++$countbytes; goto N6Kei; jQxcb: $bytes[] = $char - 0xc0 << 0x6; goto ti_O3; g1aMO: } elseif ($char >> 0x4 == 0xe) { goto B9TEq; nu6oI: ++$countbytes; goto PnFbj; B9TEq: $bytes[] = $char - 0xe0 << 0xc; goto nu6oI; PnFbj: $numbytes = 3; goto D3Dnj; D3Dnj: } elseif ($char >> 0x3 == 0x1e) { goto pQohc; YpXtE: $numbytes = 4; goto J56xZ; pQohc: $bytes[] = $char - 0xf0 << 0x12; goto j5opz; j5opz: ++$countbytes; goto YpXtE; J56xZ: } else { return 0xfffd; } } elseif ($char >> 0x6 == 0x2) { goto YAJyC; XXGhZ: ++$countbytes; goto CcwaV; CcwaV: if ($countbytes == $numbytes) { goto eKeT6; UX2ZY: if ($char >= 0xd800 and $char <= 0xdfff or $char >= 0x10ffff) { return 0xfffd; } else { return $char; } goto Bs1JW; ClCRm: for ($j = 1; $j < $numbytes; ++$j) { $char += $bytes[$j] << ($numbytes - $j - 1) * 0x6; } goto UX2ZY; eKeT6: $char = $bytes[0]; goto ClCRm; Bs1JW: } goto M41Jf; YAJyC: $bytes[] = $char - 0x80; goto XXGhZ; M41Jf: } else { return 0xfffd; } } goto x2SPp; CGrpp: } public static function UTF8StringToArray($str, $isunicode = true, &$currentfont) { goto GgnON; GgnON: if ($isunicode) { $chars = TCPDF_STATIC::pregSplit("\57\57", "\x75", $str, -1, PREG_SPLIT_NO_EMPTY); $carr = array_map(array("\124\103\x50\104\x46\137\106\117\x4e\x54\123", "\x75\156\x69\157\x72\x64"), $chars); } else { $chars = str_split($str); $carr = array_map("\157\162\144", $chars); } goto c9qc4; e8UjZ: return $carr; goto IhWTi; c9qc4: if (is_array($currentfont["\163\x75\x62\x73\x65\x74\143\x68\x61\162\x73"]) && is_array($carr)) { $currentfont["\163\x75\x62\x73\x65\164\x63\150\141\x72\163"] += array_fill_keys($carr, true); } else { $currentfont["\163\165\x62\x73\145\164\143\150\x61\162\163"] = array_merge($currentfont["\163\x75\x62\163\x65\164\x63\150\x61\162\x73"], $carr); } goto e8UjZ; IhWTi: } public static function UTF8ToLatin1($str, $isunicode = true, &$currentfont) { $unicode = self::UTF8StringToArray($str, $isunicode, $currentfont); return self::UTF8ArrToLatin1($unicode); } public static function UTF8ToUTF16BE($str, $setbom = false, $isunicode = true, &$currentfont) { goto Kswsg; v0tW9: return self::arrUTF8ToUTF16BE($unicode, $setbom); goto GRB6m; Kswsg: if (!$isunicode) { return $str; } goto bWhwR; bWhwR: $unicode = self::UTF8StringToArray($str, $isunicode, $currentfont); goto v0tW9; GRB6m: } public static function utf8StrRev($str, $setbom = false, $forcertl = false, $isunicode = true, &$currentfont) { return self::utf8StrArrRev(self::UTF8StringToArray($str, $isunicode, $currentfont), $str, $setbom, $forcertl, $isunicode, $currentfont); } public static function utf8StrArrRev($arr, $str = '', $setbom = false, $forcertl = false, $isunicode = true, &$currentfont) { return self::arrUTF8ToUTF16BE(self::utf8Bidi($arr, $str, $forcertl, $isunicode, $currentfont), $setbom); } public static function utf8Bidi($ta, $str = '', $forcertl = false, $isunicode = true, &$currentfont) { goto Fx3yW; bbUhG: if ($arabic) { goto NQ07R; UkfzX: $alfletter = array(1570, 1571, 1573, 1575); goto SB5LJ; SB5LJ: $chardata2 = $chardata; goto lZ6aG; LVkrR: for ($i = 0; $i < $numchars - 1; ++$i) { if ($chardata2[$i]["\x63\150\x61\x72"] == 1617 and isset(TCPDF_FONT_DATA::$uni_diacritics[$chardata2[$i + 1]["\x63\x68\x61\x72"]])) { if (isset($currentfont["\x63\167"][TCPDF_FONT_DATA::$uni_diacritics[$chardata2[$i + 1]["\143\150\x61\162"]]])) { $chardata2[$i]["\x63\x68\x61\162"] = false; $chardata2[$i + 1]["\x63\150\141\162"] = TCPDF_FONT_DATA::$uni_diacritics[$chardata2[$i + 1]["\143\150\141\x72"]]; } } } goto n7Wgp; NQ07R: $endedletter = array(1569, 1570, 1571, 1572, 1573, 1575, 1577, 1583, 1584, 1585, 1586, 1608, 1688); goto UkfzX; KPZ5x: unset($chardata2); goto XhbO7; H5ewh: for ($i = 0; $i < $numchars; ++$i) { $thischar = $chardata[$i]; if ($i > 0) { $prevchar = $chardata[$i - 1]; } else { $prevchar = false; } if ($i + 1 < $numchars) { $nextchar = $chardata[$i + 1]; } else { $nextchar = false; } if (TCPDF_FONT_DATA::$uni_type[$thischar["\x63\150\141\162"]] == "\101\114") { goto BenBW; wgLkQ: if ($laaletter) { $chardata2[$charAL[$x - 1]["\x69"]]["\143\150\141\x72"] = false; } goto bDtCt; xvSlC: if ($prevchar !== false and $nextchar !== false and (TCPDF_FONT_DATA::$uni_type[$prevchar["\143\x68\x61\162"]] == "\x41\x4c" or TCPDF_FONT_DATA::$uni_type[$prevchar["\143\150\x61\162"]] == "\x4e\123\x4d") and (TCPDF_FONT_DATA::$uni_type[$nextchar["\x63\x68\x61\162"]] == "\x41\x4c" or TCPDF_FONT_DATA::$uni_type[$nextchar["\x63\150\x61\x72"]] == "\116\x53\115") and $prevchar["\x74\171\160\x65"] == $thischar["\x74\x79\x70\145"] and $nextchar["\164\171\160\x65"] == $thischar["\164\x79\160\x65"] and $nextchar["\143\x68\x61\162"] != 1567) { if (in_array($prevchar["\143\150\x61\162"], $endedletter)) { if (isset($arabicarr[$thischar["\143\150\x61\x72"]][2])) { $chardata2[$i]["\x63\150\141\162"] = $arabicarr[$thischar["\x63\150\x61\x72"]][2]; } } else { if (isset($arabicarr[$thischar["\143\150\x61\x72"]][3])) { $chardata2[$i]["\143\150\141\x72"] = $arabicarr[$thischar["\x63\150\141\162"]][3]; } } } elseif ($nextchar !== false and (TCPDF_FONT_DATA::$uni_type[$nextchar["\143\150\x61\162"]] == "\101\114" or TCPDF_FONT_DATA::$uni_type[$nextchar["\x63\x68\141\162"]] == "\x4e\123\x4d") and $nextchar["\x74\171\160\145"] == $thischar["\x74\x79\160\145"] and $nextchar["\x63\x68\x61\x72"] != 1567) { if (isset($arabicarr[$chardata[$i]["\143\x68\x61\162"]][2])) { $chardata2[$i]["\x63\x68\x61\x72"] = $arabicarr[$thischar["\x63\150\x61\162"]][2]; } } elseif ($prevchar !== false and (TCPDF_FONT_DATA::$uni_type[$prevchar["\143\x68\x61\x72"]] == "\101\x4c" or TCPDF_FONT_DATA::$uni_type[$prevchar["\x63\150\141\162"]] == "\116\123\115") and $prevchar["\164\171\160\145"] == $thischar["\164\171\x70\x65"] or $nextchar !== false and $nextchar["\143\x68\x61\x72"] == 1567) { if ($i > 1 and $thischar["\143\x68\x61\x72"] == 1607 and $chardata[$i - 1]["\143\150\x61\162"] == 1604 and $chardata[$i - 2]["\143\x68\x61\162"] == 1604) { goto PF3o8; XFSEv: $chardata2[$i - 1]["\x63\x68\141\x72"] = false; goto R06xe; PF3o8: $chardata2[$i - 2]["\143\150\x61\x72"] = false; goto XFSEv; R06xe: $chardata2[$i]["\143\150\x61\x72"] = 65010; goto D3k7j; D3k7j: } else { if ($prevchar !== false and in_array($prevchar["\143\150\141\x72"], $endedletter)) { if (isset($arabicarr[$thischar["\x63\150\x61\162"]][0])) { $chardata2[$i]["\143\x68\x61\162"] = $arabicarr[$thischar["\143\150\x61\x72"]][0]; } } else { if (isset($arabicarr[$thischar["\x63\x68\x61\x72"]][1])) { $chardata2[$i]["\143\150\x61\x72"] = $arabicarr[$thischar["\143\x68\x61\162"]][1]; } } } } elseif (isset($arabicarr[$thischar["\143\150\141\162"]][0])) { $chardata2[$i]["\x63\x68\141\162"] = $arabicarr[$thischar["\143\150\141\162"]][0]; } goto wgLkQ; lgzuH: if ($prevchar !== false and $prevchar["\143\x68\x61\x72"] == 1604 and in_array($thischar["\143\150\141\162"], $alfletter)) { goto uHLnJ; HFOU2: if ($x > 1) { $prevchar = $charAL[$x - 2]; } else { $prevchar = false; } goto jeSBS; gLwTi: $laaletter = true; goto HFOU2; uHLnJ: $arabicarr = TCPDF_FONT_DATA::$uni_laa_array; goto gLwTi; jeSBS: } else { $arabicarr = TCPDF_FONT_DATA::$uni_arabicsubst; $laaletter = false; } goto xvSlC; pxV2L: if ($x + 1 < $numAL) { $nextchar = $charAL[$x + 1]; } else { $nextchar = false; } goto lgzuH; BenBW: $x = $thischar["\170"]; goto SzW7H; SzW7H: if ($x > 0) { $prevchar = $charAL[$x - 1]; } else { $prevchar = false; } goto pxV2L; bDtCt: } } goto LVkrR; zcQLZ: unset($charAL); goto V7gt4; LOslm: $numchars = count($chardata); goto KPZ5x; XhbO7: unset($arabicarr); goto PNfgg; n7Wgp: foreach ($chardata2 as $key => $value) { if ($value["\143\x68\x61\x72"] === false) { unset($chardata2[$key]); } } goto SIQMO; ZeU3n: for ($i = 0; $i < $numchars; ++$i) { if (TCPDF_FONT_DATA::$uni_type[$chardata[$i]["\143\x68\141\162"]] == "\101\114" or $chardata[$i]["\x63\150\x61\x72"] == 32 or $chardata[$i]["\143\150\x61\x72"] == 8204) { goto pDQo3; CSc4l: $chardata[$i]["\170"] = $x; goto D72NB; gnziq: $charAL[$x]["\151"] = $i; goto CSc4l; D72NB: ++$x; goto ntOhR; pDQo3: $charAL[$x] = $chardata[$i]; goto gnziq; ntOhR: } } goto ZP6Ae; ZP6Ae: $numAL = $x; goto H5ewh; TTZI8: $x = 0; goto ZeU3n; lZ6aG: $laaletter = false; goto SVkMI; SIQMO: $chardata = array_values($chardata2); goto LOslm; PNfgg: unset($laaletter); goto zcQLZ; SVkMI: $charAL = array(); goto TTZI8; V7gt4: } goto sgVD6; t13oa: $levcount = 0; goto jDXQ9; EMCXe: $levcount = 0; goto ItDuR; jDXQ9: for ($i = 0; $i < $numchars; ++$i) { if ($chardata[$i]["\x63\x68\141\x72"] == "\x45\116") { for ($j = $levcount; $j >= 0; $j--) { if ($chardata[$j]["\x74\171\x70\145"] == "\x41\x4c") { $chardata[$i]["\x74\x79\160\x65"] = "\x41\x4e"; } elseif ($chardata[$j]["\164\x79\160\x65"] == "\x4c" or $chardata[$j]["\164\171\x70\145"] == "\122") { break; } } } if ($chardata[$i]["\x6c\x65\x76\145\154"] != $prevlevel) { $levcount = 0; } else { ++$levcount; } $prevlevel = $chardata[$i]["\x6c\145\x76\145\154"]; } goto d8XcY; TPxRW: for ($i = 0; $i < $numchars; ++$i) { if ($levcount > 0 and $i + 1 < $numchars and $chardata[$i + 1]["\x6c\x65\166\x65\x6c"] == $prevlevel) { if ($chardata[$i]["\x74\x79\160\145"] == "\116" and $chardata[$i - 1]["\x74\x79\160\145"] == "\x4c" and $chardata[$i + 1]["\x74\x79\160\145"] == "\x4c") { $chardata[$i]["\164\x79\160\145"] = "\x4c"; } elseif ($chardata[$i]["\164\171\x70\x65"] == "\116" and ($chardata[$i - 1]["\x74\171\x70\145"] == "\122" or $chardata[$i - 1]["\164\171\160\x65"] == "\105\116" or $chardata[$i - 1]["\164\171\160\x65"] == "\101\x4e") and ($chardata[$i + 1]["\164\x79\x70\145"] == "\x52" or $chardata[$i + 1]["\x74\x79\160\x65"] == "\x45\x4e" or $chardata[$i + 1]["\x74\x79\x70\145"] == "\101\116")) { $chardata[$i]["\x74\171\160\145"] = "\x52"; } elseif ($chardata[$i]["\164\171\x70\145"] == "\x4e") { $chardata[$i]["\164\x79\x70\x65"] = $chardata[$i]["\163\x6f\x72"]; } } elseif ($levcount == 0 and $i + 1 < $numchars and $chardata[$i + 1]["\x6c\145\166\x65\154"] == $prevlevel) { if ($chardata[$i]["\x74\171\x70\145"] == "\x4e" and $chardata[$i]["\x73\x6f\x72"] == "\114" and $chardata[$i + 1]["\x74\x79\160\x65"] == "\x4c") { $chardata[$i]["\x74\x79\160\145"] = "\114"; } elseif ($chardata[$i]["\164\171\160\x65"] == "\x4e" and ($chardata[$i]["\x73\157\162"] == "\122" or $chardata[$i]["\163\x6f\x72"] == "\105\116" or $chardata[$i]["\163\157\162"] == "\101\x4e") and ($chardata[$i + 1]["\164\171\160\x65"] == "\122" or $chardata[$i + 1]["\164\x79\160\x65"] == "\x45\x4e" or $chardata[$i + 1]["\x74\x79\x70\145"] == "\101\x4e")) { $chardata[$i]["\x74\171\160\145"] = "\x52"; } elseif ($chardata[$i]["\164\171\160\x65"] == "\x4e") { $chardata[$i]["\x74\171\160\x65"] = $chardata[$i]["\163\x6f\162"]; } } elseif ($levcount > 0 and ($i + 1 == $numchars or $i + 1 < $numchars and $chardata[$i + 1]["\x6c\145\166\145\154"] != $prevlevel)) { if ($chardata[$i]["\x74\171\x70\x65"] == "\x4e" and $chardata[$i - 1]["\x74\171\x70\x65"] == "\x4c" and $chardata[$i]["\145\157\162"] == "\114") { $chardata[$i]["\164\x79\160\x65"] = "\x4c"; } elseif ($chardata[$i]["\x74\x79\x70\x65"] == "\116" and ($chardata[$i - 1]["\x74\x79\160\x65"] == "\122" or $chardata[$i - 1]["\164\171\160\145"] == "\105\x4e" or $chardata[$i - 1]["\x74\171\x70\145"] == "\101\116") and ($chardata[$i]["\x65\157\x72"] == "\x52" or $chardata[$i]["\x65\157\x72"] == "\105\x4e" or $chardata[$i]["\145\x6f\162"] == "\101\116")) { $chardata[$i]["\164\x79\160\x65"] = "\122"; } elseif ($chardata[$i]["\164\171\x70\145"] == "\116") { $chardata[$i]["\x74\x79\x70\145"] = $chardata[$i]["\x73\x6f\x72"]; } } elseif ($chardata[$i]["\x74\x79\x70\x65"] == "\116") { $chardata[$i]["\x74\x79\x70\x65"] = $chardata[$i]["\163\157\162"]; } if ($chardata[$i]["\154\145\x76\145\154"] != $prevlevel) { $levcount = 0; } else { ++$levcount; } $prevlevel = $chardata[$i]["\154\145\x76\145\154"]; } goto TYaY6; bBLmW: for ($i = 0; $i < $numchars; ++$i) { if ($chardata[$i]["\164\171\160\145"] == "\102" or $chardata[$i]["\x74\171\160\x65"] == "\123") { $chardata[$i]["\x6c\145\x76\145\x6c"] = $pel; } elseif ($chardata[$i]["\164\171\x70\145"] == "\x57\123") { $j = $i + 1; while ($j < $numchars) { if ($chardata[$j]["\x74\x79\x70\x65"] == "\102" or $chardata[$j]["\x74\171\x70\x65"] == "\x53" or $j == $numchars - 1 and $chardata[$j]["\164\171\x70\x65"] == "\127\123") { $chardata[$i]["\x6c\x65\166\145\x6c"] = $pel; break; } elseif ($chardata[$j]["\164\x79\160\145"] != "\127\x53") { break; } ++$j; } } } goto bbUhG; d8XcY: for ($i = 0; $i < $numchars; ++$i) { if ($chardata[$i]["\x74\x79\160\x65"] == "\101\x4c") { $chardata[$i]["\164\x79\x70\145"] = "\x52"; } } goto t1Tl9; vmuRO: $cel = $pel; goto PsgPx; aF3wP: $prevlevel = -1; goto M6lQc; cYmll: $prevlevel = -1; goto t13oa; O35b5: $levcount = 0; goto nMuni; dhiqW: $eor = $sor; goto tG29C; dH3Cd: $sor = $pel % 2 ? "\x52" : "\x4c"; goto dhiqW; Mg3jP: $prevlevel = -1; goto fNyUK; ATdg7: $levcount = 0; goto J0n9U; J0n9U: for ($i = 0; $i < $numchars; ++$i) { if ($levcount > 0 and $i + 1 < $numchars and $chardata[$i + 1]["\154\x65\x76\145\x6c"] == $prevlevel) { if ($chardata[$i]["\164\x79\160\145"] == "\105\x53" and $chardata[$i - 1]["\164\171\x70\145"] == "\105\x4e" and $chardata[$i + 1]["\x74\x79\x70\145"] == "\105\116") { $chardata[$i]["\164\x79\x70\x65"] = "\x45\116"; } elseif ($chardata[$i]["\x74\x79\160\x65"] == "\103\x53" and $chardata[$i - 1]["\164\171\160\145"] == "\x45\x4e" and $chardata[$i + 1]["\x74\171\160\x65"] == "\105\x4e") { $chardata[$i]["\164\171\x70\145"] = "\x45\x4e"; } elseif ($chardata[$i]["\164\171\160\145"] == "\x43\x53" and $chardata[$i - 1]["\x74\171\160\x65"] == "\x41\x4e" and $chardata[$i + 1]["\164\x79\160\x65"] == "\101\x4e") { $chardata[$i]["\x74\x79\160\145"] = "\x41\x4e"; } } if ($chardata[$i]["\x6c\145\x76\145\x6c"] != $prevlevel) { $levcount = 0; } else { ++$levcount; } $prevlevel = $chardata[$i]["\154\x65\x76\x65\x6c"]; } goto Mg3jP; M3s9H: if (preg_match(TCPDF_FONT_DATA::$uni_RE_PATTERN_ARABIC, $str)) { $arabic = true; } else { $arabic = false; } goto D0L9X; TAFHC: if ($forcertl == "\x52") { $pel = 1; } elseif ($forcertl == "\114") { $pel = 0; } else { for ($i = 0; $i < $numchars; ++$i) { $type = TCPDF_FONT_DATA::$uni_type[$ta[$i]]; if ($type == "\114") { $pel = 0; break; } elseif ($type == "\x41\x4c" or $type == "\x52") { $pel = 1; break; } } } goto vmuRO; sgVD6: for ($j = $maxlevel; $j > 0; $j--) { $ordarray = array(); $revarr = array(); $onlevel = false; for ($i = 0; $i < $numchars; ++$i) { if ($chardata[$i]["\x6c\x65\166\145\x6c"] >= $j) { goto pBR0o; Bfgb9: $revarr[] = $chardata[$i]; goto xuCEO; pBR0o: $onlevel = true; goto TFjk3; TFjk3: if (isset(TCPDF_FONT_DATA::$uni_mirror[$chardata[$i]["\x63\x68\141\162"]])) { $chardata[$i]["\143\150\141\162"] = TCPDF_FONT_DATA::$uni_mirror[$chardata[$i]["\x63\150\x61\162"]]; } goto Bfgb9; xuCEO: } else { if ($onlevel) { goto Gs5u8; Gs5u8: $revarr = array_reverse($revarr); goto yO3kM; WeB3w: $revarr = array(); goto XWp2_; XWp2_: $onlevel = false; goto l4ZzD; yO3kM: $ordarray = array_merge($ordarray, $revarr); goto WeB3w; l4ZzD: } $ordarray[] = $chardata[$i]; } } if ($onlevel) { $revarr = array_reverse($revarr); $ordarray = array_merge($ordarray, $revarr); } $chardata = $ordarray; } goto AYQng; cpk7x: $prevlevel = -1; goto EnmQL; iF0G3: $remember = array(); goto dH3Cd; h3oen: return $ordarray; goto bL2EL; t1Tl9: $prevlevel = -1; goto ATdg7; NR4FW: $maxlevel = 0; goto ecbSc; DdBUt: $prevlevel = -1; goto O35b5; M6lQc: $levcount = 0; goto TPxRW; PsgPx: $dos = "\x4e"; goto iF0G3; nMuni: for ($i = 0; $i < $numchars; ++$i) { if ($chardata[$i]["\164\171\160\145"] == "\x45\x54" or $chardata[$i]["\x74\171\x70\x65"] == "\105\123" or $chardata[$i]["\164\x79\x70\x65"] == "\x43\123") { $chardata[$i]["\x74\x79\160\145"] = "\117\116"; } if ($chardata[$i]["\x6c\x65\166\145\x6c"] != $prevlevel) { $levcount = 0; } else { ++$levcount; } $prevlevel = $chardata[$i]["\x6c\145\x76\145\x6c"]; } goto cpk7x; ecbSc: if (TCPDF_STATIC::empty_string($str)) { $str = self::UTF8ArrSubString($ta, '', '', $isunicode); } goto M3s9H; QB2hc: $numchars = count($ta); goto TAFHC; D0L9X: if (!($forcertl or $arabic or preg_match(TCPDF_FONT_DATA::$uni_RE_PATTERN_RTL, $str))) { return $ta; } goto QB2hc; TYaY6: for ($i = 0; $i < $numchars; ++$i) { $odd = $chardata[$i]["\x6c\145\x76\x65\x6c"] % 2; if ($odd) { if ($chardata[$i]["\x74\171\x70\x65"] == "\x4c" or $chardata[$i]["\164\x79\x70\x65"] == "\101\116" or $chardata[$i]["\164\x79\x70\x65"] == "\105\116") { $chardata[$i]["\154\x65\x76\145\154"] += 1; } } else { if ($chardata[$i]["\x74\171\160\145"] == "\x52") { $chardata[$i]["\154\145\166\x65\154"] += 1; } elseif ($chardata[$i]["\164\171\x70\x65"] == "\101\116" or $chardata[$i]["\164\171\x70\x65"] == "\105\x4e") { $chardata[$i]["\x6c\x65\166\145\154"] += 2; } } $maxlevel = max($chardata[$i]["\154\x65\x76\x65\154"], $maxlevel); } goto bBLmW; tG29C: $chardata = array(); goto v1W1T; fNyUK: $levcount = 0; goto r6aMR; ItDuR: for ($i = 0; $i < $numchars; ++$i) { if ($chardata[$i]["\164\171\160\145"] == "\116\x53\115") { if ($levcount) { $chardata[$i]["\x74\171\160\145"] = $chardata[$i]["\163\x6f\162"]; } elseif ($i > 0) { $chardata[$i]["\x74\x79\160\x65"] = $chardata[$i - 1]["\164\171\160\145"]; } } if ($chardata[$i]["\x6c\x65\x76\145\154"] != $prevlevel) { $levcount = 0; } else { ++$levcount; } $prevlevel = $chardata[$i]["\x6c\x65\166\x65\x6c"]; } goto cYmll; T2t_H: foreach ($chardata as $cd) { $ordarray[] = $cd["\x63\150\x61\162"]; $currentfont["\163\165\x62\163\145\164\x63\150\x61\x72\x73"][$cd["\143\150\x61\x72"]] = true; } goto h3oen; Fx3yW: $pel = 0; goto NR4FW; zy9YD: $numchars = count($chardata); goto iPCvE; ZQIUb: for ($i = 0; $i < $numchars; ++$i) { if ($chardata[$i]["\x63\x68\x61\x72"] == "\x45\116") { for ($j = $levcount; $j >= 0; $j--) { if ($chardata[$j]["\x74\171\x70\x65"] == "\x4c") { $chardata[$i]["\164\171\x70\145"] = "\x4c"; } elseif ($chardata[$j]["\x74\x79\x70\x65"] == "\x52") { break; } } } if ($chardata[$i]["\x6c\145\166\145\154"] != $prevlevel) { $levcount = 0; } else { ++$levcount; } $prevlevel = $chardata[$i]["\x6c\145\166\145\x6c"]; } goto aF3wP; AYQng: $ordarray = array(); goto T2t_H; v1W1T: for ($i = 0; $i < $numchars; ++$i) { if ($ta[$i] == TCPDF_FONT_DATA::$uni_RLE) { $next_level = $cel + $cel % 2 + 1; if ($next_level < 62) { goto lE5NH; eptE2: $cel = $next_level; goto lva80; hhuys: $sor = $eor; goto r6L5R; lE5NH: $remember[] = array("\156\x75\x6d" => TCPDF_FONT_DATA::$uni_RLE, "\143\x65\154" => $cel, "\144\x6f\x73" => $dos); goto eptE2; r6L5R: $eor = $cel % 2 ? "\x52" : "\114"; goto JSuTx; lva80: $dos = "\x4e"; goto hhuys; JSuTx: } } elseif ($ta[$i] == TCPDF_FONT_DATA::$uni_LRE) { $next_level = $cel + 2 - $cel % 2; if ($next_level < 62) { goto LM0CT; lL4Zt: $sor = $eor; goto bEMyK; LM0CT: $remember[] = array("\156\165\155" => TCPDF_FONT_DATA::$uni_LRE, "\143\x65\x6c" => $cel, "\144\157\x73" => $dos); goto MCI2I; MCI2I: $cel = $next_level; goto dfoP5; dfoP5: $dos = "\x4e"; goto lL4Zt; bEMyK: $eor = $cel % 2 ? "\x52" : "\114"; goto MRa8D; MRa8D: } } elseif ($ta[$i] == TCPDF_FONT_DATA::$uni_RLO) { $next_level = $cel + $cel % 2 + 1; if ($next_level < 62) { goto ByV6y; PR47o: $dos = "\x52"; goto tD0nM; lukwb: $eor = $cel % 2 ? "\122" : "\114"; goto unA8L; ByV6y: $remember[] = array("\156\165\x6d" => TCPDF_FONT_DATA::$uni_RLO, "\143\x65\x6c" => $cel, "\144\x6f\x73" => $dos); goto qDMYk; qDMYk: $cel = $next_level; goto PR47o; tD0nM: $sor = $eor; goto lukwb; unA8L: } } elseif ($ta[$i] == TCPDF_FONT_DATA::$uni_LRO) { $next_level = $cel + 2 - $cel % 2; if ($next_level < 62) { goto Cv_Hj; Qk9lo: $cel = $next_level; goto F6j2Q; AMbGd: $eor = $cel % 2 ? "\x52" : "\x4c"; goto LCX_y; F6j2Q: $dos = "\x4c"; goto Np4Tm; Np4Tm: $sor = $eor; goto AMbGd; Cv_Hj: $remember[] = array("\x6e\165\155" => TCPDF_FONT_DATA::$uni_LRO, "\143\145\154" => $cel, "\x64\157\x73" => $dos); goto Qk9lo; LCX_y: } } elseif ($ta[$i] == TCPDF_FONT_DATA::$uni_PDF) { if (count($remember)) { $last = count($remember) - 1; if ($remember[$last]["\x6e\165\x6d"] == TCPDF_FONT_DATA::$uni_RLE or $remember[$last]["\x6e\165\x6d"] == TCPDF_FONT_DATA::$uni_LRE or $remember[$last]["\156\165\155"] == TCPDF_FONT_DATA::$uni_RLO or $remember[$last]["\156\165\x6d"] == TCPDF_FONT_DATA::$uni_LRO) { goto yJ39L; TayF1: $eor = ($cel > $match["\x63\145\x6c"] ? $cel : $match["\143\x65\x6c"]) % 2 ? "\x52" : "\x4c"; goto C5SRb; bgFwd: $cel = $match["\x63\x65\x6c"]; goto IgIWw; yJ39L: $match = array_pop($remember); goto bgFwd; IgIWw: $dos = $match["\x64\x6f\x73"]; goto T2Msy; T2Msy: $sor = $eor; goto TayF1; C5SRb: } } } elseif ($ta[$i] != TCPDF_FONT_DATA::$uni_RLE and $ta[$i] != TCPDF_FONT_DATA::$uni_LRE and $ta[$i] != TCPDF_FONT_DATA::$uni_RLO and $ta[$i] != TCPDF_FONT_DATA::$uni_LRO and $ta[$i] != TCPDF_FONT_DATA::$uni_PDF) { if ($dos != "\116") { $chardir = $dos; } else { if (isset(TCPDF_FONT_DATA::$uni_type[$ta[$i]])) { $chardir = TCPDF_FONT_DATA::$uni_type[$ta[$i]]; } else { $chardir = "\x4c"; } } $chardata[] = array("\x63\150\x61\x72" => $ta[$i], "\x6c\145\166\x65\154" => $cel, "\x74\x79\x70\x65" => $chardir, "\163\157\162" => $sor, "\x65\x6f\162" => $eor); } } goto zy9YD; iPCvE: $prevlevel = -1; goto EMCXe; r6aMR: for ($i = 0; $i < $numchars; ++$i) { if ($chardata[$i]["\x74\x79\x70\x65"] == "\105\124") { if ($levcount > 0 and $chardata[$i - 1]["\x74\x79\160\x65"] == "\x45\x4e") { $chardata[$i]["\x74\171\160\x65"] = "\x45\116"; } else { $j = $i + 1; while ($j < $numchars and $chardata[$j]["\154\145\166\x65\154"] == $prevlevel) { if ($chardata[$j]["\164\x79\160\145"] == "\x45\116") { $chardata[$i]["\x74\171\x70\x65"] = "\105\x4e"; break; } elseif ($chardata[$j]["\164\x79\160\145"] != "\x45\x54") { break; } ++$j; } } } if ($chardata[$i]["\x6c\145\166\x65\x6c"] != $prevlevel) { $levcount = 0; } else { ++$levcount; } $prevlevel = $chardata[$i]["\154\x65\166\x65\154"]; } goto DdBUt; EnmQL: $levcount = 0; goto ZQIUb; bL2EL: } }
