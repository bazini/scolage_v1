<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:12:03              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 require_once dirname(__FILE__) . "\x2f\151\156\x63\x6c\165\144\145\57\x74\143\160\144\x66\x5f\146\151\154\x74\145\162\x73\56\x70\x68\x70"; class TCPDF_PARSER { private $pdfdata = ''; protected $xref = array(); protected $objects = array(); private $FilterDecoders; private $cfg = array("\x64\x69\145\137\146\x6f\162\x5f\145\162\x72\157\162\x73" => false, "\x69\x67\x6e\x6f\x72\145\137\146\x69\154\x74\145\162\137\x64\x65\x63\x6f\x64\x69\156\147\137\145\162\162\157\162\163" => true, "\151\147\156\x6f\162\145\137\x6d\151\163\163\x69\x6e\147\x5f\146\151\154\164\145\x72\x5f\x64\145\x63\157\144\x65\162\x73" => true); public function __construct($data, $cfg = array()) { goto GxLpO; e7Wva: unset($this->pdfdata); goto YDRHm; ml1An: foreach ($this->xref["\x78\x72\145\x66"] as $obj => $offset) { if (!isset($this->objects[$obj]) and $offset > 0) { $this->objects[$obj] = $this->getIndirectObject($obj, $offset, true); } } goto e7Wva; dXqGi: $this->setConfig($cfg); goto EX9eA; YDRHm: $this->pdfdata = ''; goto noB9M; EX9eA: $this->xref = $this->getXrefData(); goto dxo14; EKxZg: $pdflen = strlen($this->pdfdata); goto dXqGi; GxLpO: if (empty($data)) { $this->Error("\x45\x6d\x70\x74\x79\40\120\104\106\x20\144\141\x74\x61\x2e"); } goto NzuZf; dxo14: $this->objects = array(); goto ml1An; NzuZf: if (($trimpos = strpos($data, "\x25\120\104\106\x2d")) === FALSE) { $this->Error("\111\156\x76\141\154\151\x64\x20\x50\x44\106\40\144\141\164\x61\72\x20\x6d\x69\163\x73\x69\156\147\40\x25\x50\104\106\40\150\145\x61\144\145\x72\56"); } goto rhnkw; rhnkw: $this->pdfdata = substr($data, $trimpos); goto EKxZg; noB9M: } protected function setConfig($cfg) { goto oR7Tf; m_enA: if (isset($cfg["\x69\x67\x6e\x6f\x72\x65\137\x6d\151\x73\x73\x69\156\x67\x5f\146\x69\x6c\x74\x65\x72\137\x64\145\143\x6f\144\x65\162\x73"])) { $this->cfg["\x69\147\156\x6f\162\x65\x5f\x6d\x69\163\163\151\156\x67\x5f\146\x69\154\x74\x65\x72\x5f\x64\x65\x63\157\144\145\x72\163"] = !!$cfg["\x69\x67\x6e\157\162\x65\137\155\x69\x73\163\151\x6e\147\x5f\x66\x69\154\164\x65\x72\137\144\x65\143\157\144\145\x72\x73"]; } goto rXGcq; oR7Tf: if (isset($cfg["\144\151\x65\137\146\157\x72\137\145\x72\x72\x6f\162\x73"])) { $this->cfg["\144\x69\145\x5f\x66\157\162\x5f\x65\162\x72\157\x72\163"] = !!$cfg["\144\x69\x65\137\x66\157\162\x5f\x65\162\162\x6f\162\x73"]; } goto erUlr; erUlr: if (isset($cfg["\x69\147\156\157\162\145\137\x66\151\x6c\x74\145\x72\x5f\144\145\143\157\x64\x69\x6e\147\137\145\x72\x72\x6f\162\x73"])) { $this->cfg["\x69\147\x6e\157\162\145\137\146\151\154\x74\x65\162\137\x64\x65\143\x6f\144\x69\156\147\x5f\145\162\x72\x6f\x72\x73"] = !!$cfg["\151\147\x6e\x6f\162\x65\x5f\146\151\154\x74\x65\162\137\x64\145\x63\157\144\151\156\x67\137\x65\x72\162\157\162\x73"]; } goto m_enA; rXGcq: } public function getParsedData() { return array($this->xref, $this->objects); } protected function getXrefData($offset = 0, $xref = array()) { goto UauP0; TUZ0J: if (strpos($this->pdfdata, "\x78\162\x65\146", $startxref) == $startxref) { $xref = $this->decodeXref($startxref, $xref); } else { $xref = $this->decodeXrefStream($startxref, $xref); } goto mC781; mC781: if (empty($xref)) { $this->Error("\x55\156\141\x62\x6c\x65\x20\x74\157\x20\x66\x69\x6e\x64\40\170\162\145\x66"); } goto IDZNw; UauP0: if ($offset == 0) { goto q7LKT; q7LKT: if (preg_match_all("\57\x5b\x5c\x72\134\156\x5d\x73\164\141\162\x74\x78\x72\x65\146\133\134\163\x5d\52\133\x5c\162\134\x6e\x5d\53\50\x5b\60\55\71\x5d\x2b\51\133\134\x73\x5d\x2a\133\x5c\x72\x5c\x6e\135\53\45\45\x45\117\x46\x2f\x69", $this->pdfdata, $matches, PREG_SET_ORDER, $offset) == 0) { $this->Error("\125\156\x61\142\x6c\x65\x20\164\x6f\40\x66\x69\156\x64\x20\x73\164\x61\162\x74\x78\x72\x65\x66"); } goto SKewK; X1wJi: $startxref = $matches[1]; goto GgPmB; SKewK: $matches = array_pop($matches); goto X1wJi; GgPmB: } elseif (strpos($this->pdfdata, "\x78\162\x65\x66", $offset) == $offset) { $startxref = $offset; } elseif (preg_match("\x2f\50\x5b\60\x2d\x39\x5d\53\133\x5c\163\x5d\x5b\60\55\71\135\x2b\x5b\x5c\x73\135\x6f\142\x6a\x29\57\151", $this->pdfdata, $matches, PREG_OFFSET_CAPTURE, $offset)) { $startxref = $offset; } elseif (preg_match("\57\133\x5c\162\x5c\156\135\163\164\141\162\x74\x78\x72\x65\146\133\134\163\135\x2a\x5b\134\x72\134\x6e\x5d\x2b\x28\133\60\55\71\135\53\51\x5b\134\x73\x5d\x2a\133\134\x72\x5c\x6e\x5d\x2b\x25\x25\105\117\106\57\x69", $this->pdfdata, $matches, PREG_OFFSET_CAPTURE, $offset)) { $startxref = $matches[1][0]; } else { $this->Error("\x55\156\141\x62\154\x65\40\164\x6f\x20\146\x69\x6e\x64\x20\163\x74\141\x72\x74\x78\x72\145\x66"); } goto TUZ0J; IDZNw: return $xref; goto oUrTU; oUrTU: } protected function decodeXref($startxref, $xref = array()) { goto kzBxQ; c1Z7y: $obj_num = 0; goto MDd7O; bnAf0: if (preg_match("\57\164\162\x61\x69\x6c\145\162\x5b\x5c\163\x5d\x2a\74\x3c\x28\56\x2a\51\x3e\x3e\57\x69\163\x55", $this->pdfdata, $matches, PREG_OFFSET_CAPTURE, $offset) > 0) { goto WXl0Z; tQglm: if (!isset($xref["\164\162\x61\151\x6c\145\x72"]) or empty($xref["\x74\x72\x61\x69\154\x65\x72"])) { goto t0Clw; x32Um: if (preg_match("\x2f\x52\157\157\164\x5b\x5c\163\135\x2b\x28\133\60\x2d\71\x5d\53\x29\x5b\134\163\x5d\x2b\50\x5b\x30\x2d\71\x5d\x2b\51\x5b\x5c\163\x5d\x2b\122\57\x69", $trailer_data, $matches) > 0) { $xref["\164\x72\x61\151\154\145\x72"]["\x72\x6f\157\164"] = intval($matches[1]) . "\x5f" . intval($matches[2]); } goto mHtj5; gI5zf: if (preg_match("\x2f\x53\x69\172\x65\x5b\x5c\163\x5d\x2b\50\x5b\x30\55\x39\135\53\51\x2f\x69", $trailer_data, $matches) > 0) { $xref["\164\x72\141\x69\x6c\145\x72"]["\163\x69\x7a\145"] = intval($matches[1]); } goto x32Um; UQiy1: if (preg_match("\x2f\111\x6e\x66\157\x5b\x5c\163\x5d\x2b\50\133\60\55\71\x5d\x2b\51\133\x5c\163\135\53\50\x5b\x30\55\x39\x5d\53\x29\x5b\134\163\135\x2b\x52\57\151", $trailer_data, $matches) > 0) { $xref["\164\162\x61\x69\x6c\x65\162"]["\x69\156\x66\x6f"] = intval($matches[1]) . "\x5f" . intval($matches[2]); } goto olrCU; olrCU: if (preg_match("\x2f\111\x44\133\x5c\163\135\52\x5b\x5c\x5b\x5d\133\x5c\x73\135\52\133\74\x5d\x28\133\x5e\x3e\x5d\52\51\x5b\76\135\133\134\163\135\x2a\x5b\74\x5d\x28\133\136\x3e\x5d\x2a\x29\x5b\76\135\x2f\x69", $trailer_data, $matches) > 0) { goto UrLad; r6uXW: $xref["\x74\162\141\151\154\x65\162"]["\151\x64"][0] = $matches[1]; goto TaOhk; TaOhk: $xref["\x74\162\141\x69\x6c\145\162"]["\x69\x64"][1] = $matches[2]; goto fRjQF; UrLad: $xref["\164\162\141\x69\x6c\145\x72"]["\151\144"] = array(); goto r6uXW; fRjQF: } goto O3T1x; t0Clw: $xref["\x74\x72\x61\x69\x6c\145\x72"] = array(); goto gI5zf; mHtj5: if (preg_match("\x2f\105\156\143\x72\x79\160\164\x5b\134\x73\x5d\x2b\50\x5b\60\55\71\x5d\53\x29\133\134\163\135\53\x28\133\60\55\x39\135\53\x29\x5b\134\163\x5d\x2b\x52\57\151", $trailer_data, $matches) > 0) { $xref["\164\x72\141\151\x6c\145\x72"]["\x65\x6e\x63\162\x79\160\x74"] = intval($matches[1]) . "\x5f" . intval($matches[2]); } goto UQiy1; O3T1x: } goto u5HIH; WXl0Z: $trailer_data = $matches[1][0]; goto tQglm; u5HIH: if (preg_match("\57\120\162\145\166\133\x5c\x73\x5d\53\x28\133\x30\x2d\71\x5d\53\x29\x2f\151", $trailer_data, $matches) > 0) { $xref = $this->getXrefData(intval($matches[1]), $xref); } goto ZoIKG; ZoIKG: } else { $this->Error("\125\156\x61\142\154\145\x20\164\157\x20\x66\151\x6e\x64\x20\164\162\x61\x69\154\x65\x72"); } goto HVnfY; HVnfY: return $xref; goto lalqh; kzBxQ: $startxref += 4; goto QXR2p; MDd7O: while (preg_match("\x2f\x28\x5b\x30\x2d\71\x5d\53\51\x5b\x5c\x78\62\x30\x5d\x28\133\60\55\x39\x5d\x2b\51\133\x5c\x78\62\x30\135\77\50\133\x6e\x66\135\77\51\x28\x5c\x72\134\x6e\x7c\x5b\134\x78\x32\x30\135\x3f\x5b\x5c\162\134\156\x5d\x29\x2f", $this->pdfdata, $matches, PREG_OFFSET_CAPTURE, $offset) > 0) { if ($matches[0][1] != $offset) { break; } $offset += strlen($matches[0][0]); if ($matches[3][0] == "\156") { goto n2CaS; GC7uz: if (!isset($xref["\170\x72\x65\x66"][$index])) { $xref["\170\x72\145\x66"][$index] = intval($matches[1][0]); } goto JWvbn; n2CaS: $index = $obj_num . "\137" . intval($matches[2][0]); goto GC7uz; JWvbn: ++$obj_num; goto epN6k; epN6k: } elseif ($matches[3][0] == "\146") { ++$obj_num; } else { $obj_num = intval($matches[1][0]); } } goto bnAf0; QXR2p: $offset = $startxref + strspn($this->pdfdata, "\x0\x9\xa\14\xd\40", $startxref); goto c1Z7y; lalqh: } protected function decodeXrefStream($startxref, $xref = array()) { goto me6bK; ne3KO: if ($valid_crs and isset($xrefcrs[1][3][0])) { goto S8Qtn; S8Qtn: $rowlen = $columns + 1; goto lhhfQ; Pieew: foreach ($sdata as $k => $row) { switch ($row[0]) { case 0: break; case 1: goto lqylH; fFAtZ: break; goto fxtrI; kcN7Q: if (!isset($xref["\170\x72\x65\x66"][$index])) { $xref["\x78\x72\x65\146"][$index] = $row[1]; } goto fFAtZ; lqylH: $index = $obj_num . "\x5f" . $row[2]; goto kcN7Q; fxtrI: case 2: goto tY6f0; JBKlE: break; goto iDch6; tY6f0: $index = $row[1] . "\137\60\x5f" . $row[2]; goto a9QW0; a9QW0: $xref["\170\x72\145\x66"][$index] = -1; goto JBKlE; iDch6: default: break; } ++$obj_num; } goto RRpLx; Ms4_h: foreach ($sdata as $k => $row) { goto nXS6i; gbtIO: $prev_row = $ddata[$k]; goto MXlxs; NsSPD: for ($i = 1; $i <= $columns; ++$i) { $j = $i - 1; $row_up = $prev_row[$j]; if ($i == 1) { $row_left = 0; $row_upleft = 0; } else { $row_left = $row[$i - 1]; $row_upleft = $prev_row[$j - 1]; } switch ($predictor) { case 10: $ddata[$k][$j] = $row[$i]; break; case 11: $ddata[$k][$j] = $row[$i] + $row_left & 0xff; break; case 12: $ddata[$k][$j] = $row[$i] + $row_up & 0xff; break; case 13: $ddata[$k][$j] = $row[$i] + ($row_left + $row_up) / 2 & 0xff; break; case 14: goto XNyhB; Y5zQF: break; goto tsVy0; bIDnH: $pa = abs($p - $row_left); goto ETwrA; sCXTq: switch ($pmin) { case $pa: $ddata[$k][$j] = $row[$i] + $row_left & 0xff; break; case $pb: $ddata[$k][$j] = $row[$i] + $row_up & 0xff; break; case $pc: $ddata[$k][$j] = $row[$i] + $row_upleft & 0xff; break; } goto Y5zQF; ETwrA: $pb = abs($p - $row_up); goto ad4aV; XNyhB: $p = $row_left + $row_up - $row_upleft; goto bIDnH; uIfUN: $pmin = min($pa, $pb, $pc); goto sCXTq; ad4aV: $pc = abs($p - $row_upleft); goto uIfUN; tsVy0: default: $this->Error("\125\x6e\x6b\156\x6f\x77\156\40\x50\x4e\107\x20\160\x72\x65\144\151\143\x74\157\x72"); break; } } goto gbtIO; nXS6i: $ddata[$k] = array(); goto AO8ig; AO8ig: $predictor = 10 + $row[0]; goto NsSPD; MXlxs: } goto T42z4; lhhfQ: $sdata = unpack("\x43\x2a", $xrefcrs[1][3][0]); goto E0u3D; T42z4: $sdata = array(); goto M03Z8; nyV8s: $prev_row = array_fill(0, $rowlen, 0); goto Ms4_h; qWaR5: $ddata = array(); goto z9UGa; Cv52P: $ddata = array(); goto nyV8s; z9UGa: if (isset($index_first)) { $obj_num = $index_first; } else { $obj_num = 0; } goto Pieew; M03Z8: foreach ($ddata as $k => $row) { goto Li8IZ; KMlLB: $i = 0; goto LtYjy; C2Gp1: if ($wb[0] == 0) { $sdata[$k][0] = 1; } goto KMlLB; Li8IZ: $sdata[$k] = array(0, 0, 0); goto C2Gp1; LtYjy: for ($c = 0; $c < 3; ++$c) { for ($b = 0; $b < $wb[$c]; ++$b) { if (isset($row[$i])) { $sdata[$k][$c] += $row[$i] << ($wb[$c] - 1 - $b) * 8; } ++$i; } } goto hWeby; hWeby: } goto qWaR5; E0u3D: $sdata = array_chunk($sdata, $rowlen); goto Cv52P; RRpLx: } goto o22r0; UDv1j: $xrefcrs = $this->getIndirectObject($xrefobj[1], $startxref, true); goto Ae0MD; BZbur: foreach ($sarr as $k => $v) { if ($v[0] == "\x2f" and $v[1] == "\124\171\x70\145" and (isset($sarr[$k + 1]) and $sarr[$k + 1][0] == "\x2f" and $sarr[$k + 1][1] == "\130\122\x65\x66")) { $valid_crs = true; } elseif ($v[0] == "\x2f" and $v[1] == "\111\x6e\144\145\170" and isset($sarr[$k + 1])) { $index_first = intval($sarr[$k + 1][1][0][1]); $index_entries = intval($sarr[$k + 1][1][1][1]); } elseif ($v[0] == "\57" and $v[1] == "\x50\x72\x65\x76" and (isset($sarr[$k + 1]) and $sarr[$k + 1][0] == "\x6e\165\x6d\145\162\151\x63")) { $prevxref = intval($sarr[$k + 1][1]); } elseif ($v[0] == "\57" and $v[1] == "\x57" and isset($sarr[$k + 1])) { goto ZLDds; Qf9gq: $wb[1] = intval($sarr[$k + 1][1][1][1]); goto uB0kf; ZLDds: $wb = array(); goto kF7o3; uB0kf: $wb[2] = intval($sarr[$k + 1][1][2][1]); goto v5cWG; kF7o3: $wb[0] = intval($sarr[$k + 1][1][0][1]); goto Qf9gq; v5cWG: } elseif ($v[0] == "\x2f" and $v[1] == "\x44\x65\x63\157\x64\145\x50\x61\162\x6d\x73" and isset($sarr[$k + 1][1])) { $decpar = $sarr[$k + 1][1]; foreach ($decpar as $kdc => $vdc) { if ($vdc[0] == "\x2f" and $vdc[1] == "\103\157\154\x75\x6d\156\x73" and (isset($decpar[$kdc + 1]) and $decpar[$kdc + 1][0] == "\x6e\165\x6d\145\x72\151\x63")) { $columns = intval($decpar[$kdc + 1][1]); } elseif ($vdc[0] == "\57" and $vdc[1] == "\x50\162\145\144\151\x63\x74\157\x72" and (isset($decpar[$kdc + 1]) and $decpar[$kdc + 1][0] == "\x6e\165\x6d\145\x72\151\x63")) { $predictor = intval($decpar[$kdc + 1][1]); } } } elseif ($filltrailer) { if ($v[0] == "\57" and $v[1] == "\x53\x69\172\145" and (isset($sarr[$k + 1]) and $sarr[$k + 1][0] == "\156\165\x6d\x65\162\x69\143")) { $xref["\164\x72\x61\x69\154\145\162"]["\x73\151\172\145"] = $sarr[$k + 1][1]; } elseif ($v[0] == "\x2f" and $v[1] == "\122\x6f\157\164" and (isset($sarr[$k + 1]) and $sarr[$k + 1][0] == "\x6f\x62\x6a\x72\145\x66")) { $xref["\164\162\141\151\154\x65\162"]["\162\x6f\157\164"] = $sarr[$k + 1][1]; } elseif ($v[0] == "\57" and $v[1] == "\111\x6e\x66\157" and (isset($sarr[$k + 1]) and $sarr[$k + 1][0] == "\157\142\x6a\162\x65\146")) { $xref["\x74\162\x61\x69\x6c\145\162"]["\x69\156\x66\157"] = $sarr[$k + 1][1]; } elseif ($v[0] == "\x2f" and $v[1] == "\x45\156\143\162\x79\160\x74" and (isset($sarr[$k + 1]) and $sarr[$k + 1][0] == "\157\142\152\162\145\x66")) { $xref["\x74\162\x61\x69\x6c\145\x72"]["\145\x6e\143\162\x79\x70\164"] = $sarr[$k + 1][1]; } elseif ($v[0] == "\x2f" and $v[1] == "\x49\104" and isset($sarr[$k + 1])) { goto bHo2D; su0nx: $xref["\x74\x72\x61\x69\x6c\145\x72"]["\x69\x64"][1] = $sarr[$k + 1][1][1][1]; goto bgtZT; aUQ7Q: $xref["\x74\162\x61\x69\x6c\145\x72"]["\151\144"][0] = $sarr[$k + 1][1][0][1]; goto su0nx; bHo2D: $xref["\164\x72\x61\151\x6c\145\162"]["\x69\144"] = array(); goto aUQ7Q; bgtZT: } } } goto ne3KO; Ae0MD: if (!isset($xref["\164\162\x61\x69\x6c\145\x72"]) or empty($xref["\x74\x72\x61\x69\x6c\x65\162"])) { $xref["\x74\x72\x61\x69\154\145\x72"] = array(); $filltrailer = true; } else { $filltrailer = false; } goto pIX0L; pIX0L: if (!isset($xref["\x78\x72\x65\x66"])) { $xref["\170\x72\x65\146"] = array(); } goto K7qeI; FUPqG: $columns = 0; goto Wa8ne; K7qeI: $valid_crs = false; goto FUPqG; mGF52: if (!is_array($sarr)) { $sarr = array(); } goto BZbur; o22r0: if (isset($prevxref)) { $xref = $this->getXrefData($prevxref, $xref); } goto RBR2Y; Wa8ne: $sarr = $xrefcrs[0][1]; goto mGF52; RBR2Y: return $xref; goto qN1mR; me6bK: $xrefobj = $this->getRawObject($startxref); goto UDv1j; qN1mR: } protected function getRawObject($offset = 0) { goto JCkD2; cMp1A: $objval = ''; goto rqwBy; JCkD2: $objtype = ''; goto cMp1A; rqwBy: $offset += strspn($this->pdfdata, "\x0\11\xa\14\15\x20", $offset); goto O9LpG; ChKG1: return array($objtype, $objval, $offset); goto Lo_vW; fGNQX: switch ($char) { case "\45": goto WeBIM; OF0CF: if ($next > 0) { $offset += $next; return $this->getRawObject($offset); } goto OXumV; WeBIM: $next = strcspn($this->pdfdata, "\15\xa", $offset); goto OF0CF; OXumV: break; goto Xv_Ic; Xv_Ic: case "\x2f": goto iS_vk; iS_vk: $objtype = $char; goto rSgNH; m3Yc3: break; goto Oe3fv; iHrqw: if (preg_match("\57\136\x28\133\136\134\170\x30\60\x5c\170\x30\71\134\x78\x30\x61\134\170\60\x63\x5c\170\x30\144\134\x78\x32\60\x5c\x73\x5c\170\62\70\x5c\170\62\x39\134\170\63\143\134\170\x33\145\x5c\170\x35\x62\134\x78\x35\144\x5c\x78\67\x62\134\x78\67\144\134\170\62\x66\x5c\170\62\65\135\x2b\51\x2f", substr($this->pdfdata, $offset, 256), $matches) == 1) { $objval = $matches[1]; $offset += strlen($objval); } goto m3Yc3; rSgNH: ++$offset; goto iHrqw; Oe3fv: case "\50": case "\x29": goto z3QXY; J0hD2: $strpos = $offset; goto ZzCwg; ZzCwg: if ($char == "\50") { goto RQKVP; z_gkD: while ($open_bracket > 0) { if (!isset($this->pdfdata[$strpos])) { break; } $ch = $this->pdfdata[$strpos]; switch ($ch) { case "\x5c": ++$strpos; break; case "\50": ++$open_bracket; break; case "\x29": --$open_bracket; break; } ++$strpos; } goto gK76B; RQKVP: $open_bracket = 1; goto z_gkD; gK76B: $objval = substr($this->pdfdata, $offset, $strpos - $offset - 1); goto OvAwj; OvAwj: $offset = $strpos; goto uW2IA; uW2IA: } goto x1OUD; Dky70: ++$offset; goto J0hD2; x1OUD: break; goto e8_KW; z3QXY: $objtype = $char; goto Dky70; e8_KW: case "\x5b": case "\x5d": goto RLTyo; Nijub: break; goto ZaMQS; iiu01: ++$offset; goto LGGB9; RLTyo: $objtype = $char; goto iiu01; LGGB9: if ($char == "\x5b") { goto fquPK; RJYsX: do { $element = $this->getRawObject($offset); $offset = $element[2]; $objval[] = $element; } while ($element[0] != "\x5d"); goto yAjEU; fquPK: $objval = array(); goto RJYsX; yAjEU: array_pop($objval); goto I9c5n; I9c5n: } goto Nijub; ZaMQS: case "\x3c": case "\x3e": if (isset($this->pdfdata[$offset + 1]) and $this->pdfdata[$offset + 1] == $char) { goto nfYek; EDuil: if ($char == "\74") { goto Ma9sR; Ldmq7: array_pop($objval); goto SDj5N; f5KQs: do { $element = $this->getRawObject($offset); $offset = $element[2]; $objval[] = $element; } while ($element[0] != "\76\x3e"); goto Ldmq7; Ma9sR: $objval = array(); goto f5KQs; SDj5N: } goto fqqRi; nfYek: $objtype = $char . $char; goto F7Zu3; F7Zu3: $offset += 2; goto EDuil; fqqRi: } else { goto t_PFq; t_PFq: $objtype = $char; goto SVz7V; niK36: if ($char == "\74" and preg_match("\57\136\50\133\60\55\x39\101\x2d\106\141\x2d\146\x5c\170\x30\71\x5c\170\x30\x61\x5c\x78\x30\x63\134\x78\60\144\x5c\x78\62\x30\x5d\x2b\x29\x3e\57\x69\x55", substr($this->pdfdata, $offset), $matches) == 1) { $objval = strtr($matches[1], "\11\xa\xc\15\x20", ''); $offset += strlen($matches[0]); } elseif (($endpos = strpos($this->pdfdata, "\x3e", $offset)) !== FALSE) { $offset = $endpos + 1; } goto zFUos; SVz7V: ++$offset; goto niK36; zFUos: } break; default: if (substr($this->pdfdata, $offset, 6) == "\145\156\144\x6f\x62\x6a") { $objtype = "\145\156\x64\x6f\x62\152"; $offset += 6; } elseif (substr($this->pdfdata, $offset, 4) == "\x6e\x75\x6c\x6c") { goto wBPnN; wazTa: $offset += 4; goto lCVK0; wBPnN: $objtype = "\156\x75\x6c\x6c"; goto wazTa; lCVK0: $objval = "\156\165\x6c\154"; goto zTjeZ; zTjeZ: } elseif (substr($this->pdfdata, $offset, 4) == "\x74\162\165\x65") { goto vPsXU; tv6vR: $objval = "\x74\x72\165\x65"; goto GlZMh; sGmBx: $offset += 4; goto tv6vR; vPsXU: $objtype = "\142\x6f\157\x6c\145\141\x6e"; goto sGmBx; GlZMh: } elseif (substr($this->pdfdata, $offset, 5) == "\146\x61\154\163\145") { goto Z9rsZ; Z9rsZ: $objtype = "\142\x6f\x6f\x6c\x65\141\156"; goto sk6FS; zVJa_: $objval = "\x66\x61\154\163\x65"; goto rdrF7; sk6FS: $offset += 5; goto zVJa_; rdrF7: } elseif (substr($this->pdfdata, $offset, 6) == "\x73\x74\162\x65\141\155") { goto ZG1fu; ZG1fu: $objtype = "\x73\x74\x72\x65\141\x6d"; goto mejTX; B6S04: if (preg_match("\x2f\136\50\x5b\134\162\135\x3f\133\134\x6e\135\51\57\151\163\125", substr($this->pdfdata, $offset), $matches) == 1) { $offset += strlen($matches[0]); if (preg_match("\57\x28\x65\156\x64\163\x74\x72\x65\141\155\51\x5b\x5c\170\x30\71\134\x78\x30\x61\134\170\60\x63\134\x78\x30\144\x5c\170\x32\60\x5d\57\151\163\x55", substr($this->pdfdata, $offset), $matches, PREG_OFFSET_CAPTURE) == 1) { $objval = substr($this->pdfdata, $offset, $matches[0][1]); $offset += $matches[1][1]; } } goto fCm6w; mejTX: $offset += 6; goto B6S04; fCm6w: } elseif (substr($this->pdfdata, $offset, 9) == "\145\156\144\x73\164\x72\145\141\155") { $objtype = "\145\156\144\x73\164\162\145\x61\x6d"; $offset += 9; } elseif (preg_match("\57\136\x28\x5b\60\x2d\71\x5d\x2b\51\133\134\x73\x5d\x2b\x28\x5b\x30\55\x39\135\53\x29\x5b\x5c\x73\135\53\122\57\151\125", substr($this->pdfdata, $offset, 33), $matches) == 1) { goto KVkJ3; ZxEHi: $offset += strlen($matches[0]); goto Iv6Uw; Iv6Uw: $objval = intval($matches[1]) . "\x5f" . intval($matches[2]); goto ZeApR; KVkJ3: $objtype = "\x6f\142\x6a\x72\x65\146"; goto ZxEHi; ZeApR: } elseif (preg_match("\57\x5e\50\133\x30\x2d\x39\x5d\x2b\x29\133\134\163\135\53\50\x5b\60\55\x39\135\53\51\133\134\x73\135\x2b\x6f\142\152\57\151\x55", substr($this->pdfdata, $offset, 33), $matches) == 1) { goto zy8Kf; zy8Kf: $objtype = "\x6f\142\152"; goto mGSBQ; mGSBQ: $objval = intval($matches[1]) . "\x5f" . intval($matches[2]); goto AktJk; AktJk: $offset += strlen($matches[0]); goto U45cJ; U45cJ: } elseif (($numlen = strspn($this->pdfdata, "\x2b\55\56\60\61\62\x33\64\x35\66\67\70\71", $offset)) > 0) { goto NucgU; VdORD: $objval = substr($this->pdfdata, $offset, $numlen); goto c4LMc; NucgU: $objtype = "\x6e\x75\x6d\145\162\151\143"; goto VdORD; c4LMc: $offset += $numlen; goto JWd97; JWd97: } break; } goto ChKG1; O9LpG: $char = $this->pdfdata[$offset]; goto fGNQX; Lo_vW: } protected function getIndirectObject($obj_ref, $offset = 0, $decoding = true) { goto Xi1yK; E2j6l: if ($obj === false or count($obj) != 2) { $this->Error("\111\x6e\166\141\154\151\144\x20\x6f\x62\x6a\145\x63\x74\40\162\145\146\x65\x72\145\156\143\145\x3a\x20" . $obj); return; } goto NjPv5; zwNWl: $offset += strspn($this->pdfdata, "\60", $offset); goto dn_c0; Xi1yK: $obj = explode("\x5f", $obj_ref); goto E2j6l; DyJbd: array_pop($objdata); goto EKpjF; EKpjF: return $objdata; goto Udr8e; K13C1: $objdata = array(); goto qI5J9; D2TH1: do { $oldoffset = $offset; $element = $this->getRawObject($offset); $offset = $element[2]; if ($decoding and $element[0] == "\x73\x74\162\x65\x61\155" and isset($objdata[$i - 1][0]) and $objdata[$i - 1][0] == "\x3c\74") { $element[3] = $this->decodeStream($objdata[$i - 1][1], $element[1]); } $objdata[$i] = $element; ++$i; } while ($element[0] != "\x65\156\x64\157\142\152" and $offset != $oldoffset); goto DyJbd; qI5J9: $i = 0; goto D2TH1; dn_c0: if (strpos($this->pdfdata, $objref, $offset) != $offset) { return array("\156\165\154\154", "\156\165\x6c\x6c", $offset); } goto jIKXZ; NjPv5: $objref = $obj[0] . "\x20" . $obj[1] . "\x20\157\142\x6a"; goto zwNWl; jIKXZ: $offset += strlen($objref); goto K13C1; Udr8e: } protected function getObjectVal($obj) { if ($obj[0] == "\x6f\x62\x6a\162\x65\146") { if (isset($this->objects[$obj[1]])) { return $this->objects[$obj[1]]; } elseif (isset($this->xref[$obj[1]])) { $this->objects[$obj[1]] = $this->getIndirectObject($obj[1], $this->xref[$obj[1]], false); return $this->objects[$obj[1]]; } } return $obj; } protected function decodeStream($sdic, $stream) { goto TeH_R; Iy3R1: return array($stream, $remaining_filters); goto wOitY; moTtc: if ($slength <= 0) { return array('', array()); } goto gtFlp; gHTZ4: $remaining_filters = array(); goto j1ZRr; j1ZRr: foreach ($filters as $filter) { if (in_array($filter, TCPDF_FILTERS::getAvailableFilters())) { try { $stream = TCPDF_FILTERS::decodeFilter($filter, $stream); } catch (Exception $e) { $emsg = $e->getMessage(); if ($emsg[0] == "\176" and !$this->cfg["\x69\147\156\157\162\x65\x5f\x6d\151\163\163\151\x6e\x67\x5f\146\x69\154\x74\x65\x72\137\x64\145\x63\x6f\144\x65\x72\163"] or $emsg[0] != "\x7e" and !$this->cfg["\151\147\156\157\162\x65\137\x66\x69\154\164\x65\x72\137\x64\145\143\157\144\151\156\147\137\145\x72\162\157\x72\x73"]) { $this->Error($e->getMessage()); } } } else { $remaining_filters[] = $filter; } } goto Iy3R1; LYanl: foreach ($sdic as $k => $v) { if ($v[0] == "\57") { if ($v[1] == "\x4c\x65\156\147\x74\x68" and isset($sdic[$k + 1]) and $sdic[$k + 1][0] == "\x6e\165\x6d\x65\x72\151\143") { $declength = intval($sdic[$k + 1][1]); if ($declength < $slength) { $stream = substr($stream, 0, $declength); $slength = $declength; } } elseif ($v[1] == "\x46\x69\154\164\145\x72" and isset($sdic[$k + 1])) { $objval = $this->getObjectVal($sdic[$k + 1]); if ($objval[0] == "\x2f") { $filters[] = $objval[1]; } elseif ($objval[0] == "\133") { foreach ($objval[1] as $flt) { if ($flt[0] == "\57") { $filters[] = $flt[1]; } } } } } } goto gHTZ4; gtFlp: $filters = array(); goto LYanl; TeH_R: $slength = strlen($stream); goto moTtc; wOitY: } public function Error($msg) { if ($this->cfg["\x64\151\145\x5f\146\157\162\137\x65\162\x72\157\162\x73"]) { die("\x3c\x73\164\162\x6f\156\147\76\124\103\120\x44\106\137\x50\x41\122\123\x45\122\40\105\x52\122\117\122\72\40\74\57\x73\164\x72\157\x6e\147\76" . $msg); } else { throw new Exception("\x54\103\120\104\x46\137\120\101\122\x53\105\x52\x20\105\x52\122\x4f\122\72\40" . $msg); } } }
