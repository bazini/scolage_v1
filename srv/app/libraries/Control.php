<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:17              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\102\x41\x53\105\120\101\124\110") or exit("\x4e\x6f\40\x64\151\162\x65\x63\x74\40\163\x63\x72\151\160\164\40\141\143\x63\145\x73\163\40\141\x6c\x6c\157\x77\x65\x64"); class Control { protected $CI; private $mydb; private $group; private $perm; private $session; private $id; private $auth; private $input; public function __construct() { goto ocBzj; ApP4i: $this->group =& $this->CI->group; goto SXyKN; SXyKN: $this->perm =& $this->CI->perm; goto TMHg0; UV635: $this->id = $this->CI->session->userdata("\151\x64"); goto BWe7M; URgG5: $this->input =& $this->CI->input; goto C9skf; C9skf: $this->auth =& $this->CI->auth; goto UV635; ocBzj: $this->CI =& get_instance(); goto nbPVj; TMHg0: $this->session =& $this->CI->session; goto URgG5; nbPVj: $this->mydb =& $this->CI->mydb; goto ApP4i; BWe7M: } public function is_admin($user = false, $strict = false) { goto NIsM9; zoyRQ: if (intval($user) == 1) { $d = true; } else { if ($strict != false) { if ($this->group->is_member($user, "\101\144\x6d\x69\156\x69\x73\164\x72\x61\164\145\165\162")) { $d = true; } } } goto vOcxq; NIsM9: $d = false; goto Ee1j6; Ee1j6: if ($user == false) { $user = $this->id; } goto zoyRQ; vOcxq: return $d; goto GJKnq; GJKnq: } public function is_directeur($user = false, $strict = false) { goto Sms6D; YhoOn: return $d; goto b764_; MFFif: if ($this->group->is_member($user, "\x44\151\162\145\143\164\x65\x75\162")) { $d = true; } else { if ($strict == false) { if ($this->is_admin()) { $d = true; } } } goto YhoOn; Sms6D: $d = false; goto HAOuR; HAOuR: if ($user == false) { $user = $this->id; } goto MFFif; b764_: } public function is_censeur($user = false, $strict = false) { goto EMfPu; tHMjd: if ($this->group->is_member($user, "\x43\145\x6e\163\145\x75\x72")) { $d = true; } else { if ($strict == false) { if ($this->is_directeur()) { $d = true; } } } goto Lov_S; EMfPu: $d = false; goto yBwyM; yBwyM: if ($user == false) { $user = $this->id; } goto tHMjd; Lov_S: return $d; goto nio5Y; nio5Y: } public function is_prof($user = false, $strict = false) { goto jn07C; K0TBD: return $d; goto VmvPb; j3VMJ: if ($user == false) { $user = $this->id; } goto OIC2B; jn07C: $d = false; goto j3VMJ; OIC2B: if ($this->group->is_member($user, "\x45\156\163\145\151\x67\x6e\x61\x6e\164")) { $d = true; } else { if ($strict == false) { if ($this->is_censeur()) { $d = true; } } } goto K0TBD; VmvPb: } public function is_surveillant($user = false, $strict = false) { goto SchZ_; SchZ_: $d = false; goto m6TIw; MwK4G: if ($this->group->is_member($user, "\x53\165\162\166\145\x69\x6c\154\x61\x6e\164")) { $d = true; } else { if ($strict == false) { if ($this->is_prof()) { $d = true; } } } goto wKb7A; wKb7A: return $d; goto NQBtM; m6TIw: if ($user == false) { $user = $this->id; } goto MwK4G; NQBtM: } public function is_secretaire($user = false, $strict = false) { goto Ov2Lr; AsSub: return $d; goto pjz4O; BD4Hc: if ($user == false) { $user = $this->id; } goto fZ9Li; fZ9Li: if ($this->group->is_member($user, "\123\145\143\x72\303\xa9\x74\141\x69\x72\x65")) { $d = true; } else { if ($strict == false) { if ($this->is_surveillant()) { $d = true; } } } goto AsSub; Ov2Lr: $d = false; goto BD4Hc; pjz4O: } public function is_comptable($user = false, $strict = false) { goto gK64e; zuq2T: if ($this->group->is_member($user, "\x43\157\x6d\160\164\x61\142\154\145")) { $d = true; } else { if ($strict != false) { if ($this->is_surveillant($user)) { $d = true; } } } goto xTfWr; gK64e: $d = false; goto Lmunl; xTfWr: return $d; goto hzlpa; Lmunl: if ($user == false) { $user = $this->id; } goto zuq2T; hzlpa: } public function is_traducteur($user = false, $strict = false) { goto I_asy; hEPl0: if ($user == false) { $user = $this->id; } goto p6oMb; p6oMb: if ($this->group->is_member($user, "\x54\x72\141\144\x75\143\x74\x65\x75\162")) { $d = true; } else { if ($strict == false) { if ($this->is_directeur($user)) { $d = true; } } } goto d5i6s; I_asy: $d = false; goto hEPl0; d5i6s: return $d; goto yd19A; yd19A: } public function can_delete($table, $id) { goto XxTfT; MQjiA: $hc = $this->has_created($table, $id); goto GLUEi; Ukw8R: return $d; goto YdUnr; GLUEi: if ($hc != false) { $check = $this->auth->get_sys_var("\143\x68\x65\x63\x6b\137\144\145\x6c\145\x74\151\157\156"); if (!empty($check) && $check == 1) { $duree = $this->auth->get_sys_var("\x64\145\x6c\x65\x74\x65\x5f\144\x75\x72\x61\x74\x69\157\156"); if (!empty($duree)) { goto v1h6u; kcO13: if ($diff <= $time) { $d = false; } goto Dy7AM; v1h6u: $time = $duree * (3600 * 24); goto CjsOy; tIkxN: $diff = time() - $dt; goto kcO13; CjsOy: $dt = $this->get_item_date($table, $id); goto tIkxN; Dy7AM: } } } else { $d = false; } goto Ukw8R; XxTfT: $d = true; goto MQjiA; YdUnr: } public function can_edit($encours, $submenu, $dest, $retour, $table, $user_id, $id) { goto G0WIb; Zw3kJ: return false; goto PfmVr; FIoxG: $admin_pass = $this->input->cookie("\141\144\x6d\151\x6e\x5f\x70\x61\163\x73", true); goto K2Loi; F62Yf: $diff = time() - $dt; goto ps0LO; KIcvg: $dt = $this->get_item_date($table, $id); goto F62Yf; MlV6f: $duree = intval($this->auth->get_sys_var("\x64\x65\x6c\x65\x74\x65\x5f\144\165\x72\x61\164\151\x6f\156")); goto k5obv; K2Loi: $passe = decrypt($this->get_deletion_password()); goto UatcS; UatcS: if ($admin_pass == $passe) { return true; } goto J0WU8; p8VsI: if ($user != $user_id) { redirect($redir); } goto Loj7K; ps0LO: if ($diff > $time) { redirect($redir); } goto Zw3kJ; zMBLL: $redir = "\160\141\x73\163\x77\x6f\162\144\x3f\145\x6e\x63\x6f\x75\x72\x73\x3d{$encours}\46\163\165\x62\155\x65\x6e\x75\x3d{$submenu}\x26\162\x65\164\x6f\165\162\75{$retour}\46\144\x65\x73\x74\x3d{$dest}"; goto FIoxG; k5obv: $time = $duree * (3600 * 24); goto KIcvg; G0WIb: if ($this->is_directeur()) { return true; } goto zMBLL; Loj7K: $check = intval($this->auth->get_sys_var("\x63\x68\145\x63\x6b\137\x64\145\x6c\145\x74\151\157\156")); goto TqXwh; TqXwh: if ($check == 0) { return true; } goto MlV6f; J0WU8: $user = $this->session->userdata("\x69\144"); goto p8VsI; PfmVr: } public function get_deletion_password() { goto Dy67G; fDPL5: if (!empty($pass)) { $d = $pass; } goto qRjfE; qRjfE: return $d; goto sPrcg; QKbop: $pass = $this->auth->get_sys_var("\144\x65\x6c\x65\164\151\157\x6e\137\160\141\163\163\167\157\x72\144"); goto fDPL5; Dy67G: $d = false; goto QKbop; sPrcg: } private function get_item_date($table, $id) { goto sbX_s; dLCRU: if (!empty($date)) { $d = strtotime($date->created); } goto w2KJu; w2KJu: return $d; goto YP0nL; U908Q: $date = $this->mydb->get($table, array("\143\162\145\x61\164\145\x64"), array("\x69\144" => $id)); goto dLCRU; sbX_s: $d = 0; goto U908Q; YP0nL: } private function has_created($table, $id) { goto wWzAk; hwtXp: return $d; goto OFfZJ; kUCx9: if (!empty($u)) { $d = true; } goto hwtXp; Dwrbk: $u = @$this->mydb->count($table, array("\151\x64" => $id, "\x75\163\x65\x72" => $this->id)); goto kUCx9; wWzAk: $d = false; goto Dwrbk; OFfZJ: } }
