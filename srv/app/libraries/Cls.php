<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:17              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\101\123\x45\120\x41\x54\x48") or exit("\116\x6f\x20\144\x69\x72\145\x63\164\x20\x73\x63\162\151\160\x74\40\x61\143\x63\145\163\163\x20\x61\x6c\154\x6f\x77\145\x64"); class Cls { protected $CI; private $mydb; private $cls_init; private $table; private $mdate; private $utils; private $id; public function __construct() { goto lX2W4; USR8P: $this->mdate = gmdate("\x59\55\155\x2d\x64\x20\110\x3a\x69\x3a\x73"); goto Ireak; tpRxl: $this->table = "\143\x6c\x61\163\x73\x65"; goto USR8P; lX2W4: $this->CI =& get_instance(); goto gXkLg; gXkLg: $this->mydb =& $this->CI->mydb; goto RPsey; L8Qwq: $this->cls_init = "\x63\x6c\x61\x73\163\x65\x5f\x69\156\151\x74"; goto tpRxl; Ireak: $this->id = $this->CI->session->userdata("\151\144"); goto KCUJY; RPsey: $this->utils =& $this->CI->utilitaire; goto L8Qwq; KCUJY: } public function liste($closed = false, $nmin = false) { goto hlHT9; w77pE: $classes = $this->mydb->gets($this->table, array(array("\143\x6c\141\x73\163\145\56\x69\x64" => "\x69\x64"), array("\x63\154\x61\x73\x73\145\137\151\156\x69\164\56\x69\x64" => "\x63\154\163\137\151\144"), array("\x63\154\x61\x73\x73\145\x5f\151\x6e\151\164\56\x6e\x6f\x6d" => "\156\157\x6d"), array("\x63\x6c\141\163\163\145\137\151\156\151\164\56\x6e\x69\x76\145\141\x75" => "\156\151\166\x65\x61\x75\137\x69\x64"), array("\156\151\166\145\141\165\56\x6e\x6f\155" => "\x6e\x69\166\x65\141\165"), array("\143\x6c\141\163\163\145\x5f\163\145\162\x69\x65\x2e\151\x64" => "\x73\x65\x72\151\145\137\151\144"), array("\x63\x6c\141\163\x73\145\x5f\x73\145\x72\x69\145\56\156\x6f\155" => "\x73\x65\162\151\145"), array("\x63\154\x61\x73\x73\145\x2e\143\154\141\163\163\x65\137\x76\x61\162\x69\x61\156\164" => "\x76\141\162\151\x61\156\x74"), array("\x63\154\x61\163\x73\145\x2e\155\x61\170\137\x65\x6c\x65\x76\x65" => "\x6d\x61\x78\x5f\x65\x6c\145\x76\x65"), array("\x63\x6c\141\x73\x73\145\x2e\163\171\156\x63\x68\x72\x6f\156\151\x7a\x65\144" => "\x73\171\x6e\x63\x68\162\x6f\x6e\151\x7a\145\x64"), array("\143\154\x61\163\163\x65\56\155\x6f\x64\151\146\151\145\144" => "\144\x61\164\145")), $where, $join, $orderby); goto yjYMe; FlWOk: $an = $this->utils->get_an(); goto NDhky; yjYMe: if (!empty($classes)) { foreach ($classes as $cl) { goto vkd0p; XpZpD: array_push($d, $cl); goto rlnt3; iVSMb: if (!empty($an)) { $cl->effectif = $this->mydb->count("\x63\x6c\141\x73\163\145\137\x68\x61\x73\137\x65\154\x65\166\x65", array("\143\x6c\141\163\163\x65" => $cl->id, "\141\156" => $an->id, "\163\x74\141\x74\x75\163" => 0)); } else { $cl->effectif = 0; } goto XpZpD; vkd0p: $cl->nom = $this->get_class_name($cl->nom, $cl->id, $cl->cls_id, $cl->niveau_id, $cl->serie, $cl->serie_id, $cl->variant); goto LT8CG; LT8CG: $cl->date = mysqlformat2date($cl->date); goto iVSMb; rlnt3: } } goto zmmUx; k3RTA: $join = array("\143\x6c\x61\163\x73\145\x5f\151\156\x69\164" => array("\x69\x6e\x6e\x65\x72" => array("\143\x6c\x61\x73\x73\145\x5f\x69\x6e\x69\164", "\151\144")), "\x6e\151\x76\x65\x61\x75" => array("\151\x6e\x6e\145\162" => array("\x63\x6c\141\x73\x73\145\x5f\x69\x6e\151\164\56\156\x69\166\145\x61\x75", "\151\x64")), "\x63\154\x61\x73\x73\x65\137\163\x65\x72\x69\145" => array("\154\145\146\164" => array("\143\154\141\163\x73\x65\x5f\163\x65\162\x69\145", "\151\144"))); goto CaUtd; hlHT9: $d = array(); goto FlWOk; cRxSr: if ($closed == false) { $where[$this->table . "\56\163\164\141\164\x75\163"] = 0; } goto eyOzS; NDhky: $where = array(); goto cRxSr; zmmUx: return $d; goto uWF8v; CaUtd: $orderby = array("\143\x6c\x61\x73\x73\145\x5f\x69\156\x69\164\56\151\144" => "\x41\x53\103"); goto w77pE; Ndjus: if ($nmin !== false) { $where["\x6e\151\166\x65\x61\x75\56\151\144"] = array("\76\75" => $nmin); } goto k3RTA; eyOzS: if ($closed == 1) { $where[$this->table . "\x2e\163\164\141\164\165\163"] = 1; } goto Ndjus; uWF8v: } public function list_level_classes($id) { goto YR_aH; YR_aH: $d = array(); goto SUZCs; I2P18: $orderby = array("\x63\154\141\x73\x73\145\x5f\151\x6e\x69\x74\56\x69\144" => "\x41\123\x43"); goto ApFRw; wpoly: return $d; goto BCuJO; HXw8o: $join = array("\143\x6c\141\163\x73\145\x5f\151\156\x69\x74" => array("\x69\x6e\x6e\x65\x72" => array("\x63\154\141\x73\163\x65\137\151\156\151\164", "\x69\144")), "\156\x69\166\145\141\x75" => array("\151\156\x6e\145\x72" => array("\x63\154\141\x73\x73\x65\137\151\x6e\151\x74\x2e\156\151\166\145\141\x75", "\x69\144")), "\x63\154\141\163\163\x65\137\163\145\x72\x69\145" => array("\154\x65\146\x74" => array("\x63\154\x61\x73\163\145\x5f\163\145\x72\151\x65", "\x69\x64"))); goto I2P18; Jm05G: $where = array($this->table . "\56\x73\164\x61\x74\x75\x73" => 0, "\156\x69\x76\145\141\x75\x2e\x69\x64" => $id); goto HXw8o; SUZCs: $an = $this->utils->get_an(); goto Jm05G; FZt3w: if (!empty($classes)) { foreach ($classes as $cl) { goto VZESN; GgLP1: array_push($d, $cl); goto yM2Ph; VZESN: $cl->nom = $this->get_class_name($cl->nom, $cl->id, $cl->cls_id, $cl->niveau_id, $cl->serie, $cl->serie_id, $cl->variant); goto sSAfC; KkEmd: $cl->date = mysqlformat2date($cl->date); goto GgLP1; sSAfC: $cl->effectif = $this->mydb->count("\143\154\141\x73\163\145\x5f\x68\141\x73\x5f\x65\x6c\x65\x76\x65", array("\143\154\141\163\163\145" => $cl->id, "\x61\156" => $an->id, "\163\164\x61\164\x75\x73" => 0)); goto KkEmd; yM2Ph: } } goto wpoly; ApFRw: $classes = $this->mydb->gets($this->table, array(array("\x63\x6c\141\x73\x73\x65\x2e\x69\144" => "\x69\x64"), array("\x63\154\141\x73\163\145\x5f\x69\156\x69\164\56\151\144" => "\143\154\163\x5f\x69\x64"), array("\143\x6c\x61\163\x73\x65\x5f\x69\x6e\x69\x74\x2e\x6e\157\155" => "\156\157\155"), array("\x63\x6c\141\x73\x73\145\x5f\x69\156\x69\164\56\x6e\x69\x76\x65\141\x75" => "\156\151\x76\145\141\x75\137\151\x64"), array("\156\x69\166\145\x61\x75\x2e\156\x6f\155" => "\156\151\166\145\141\165"), array("\143\x6c\x61\x73\163\145\x5f\x73\x65\162\151\x65\x2e\151\144" => "\x73\x65\162\x69\145\137\151\x64"), array("\143\x6c\x61\x73\x73\145\x5f\163\x65\162\x69\x65\56\156\157\155" => "\x73\145\162\x69\145"), array("\x63\154\x61\163\x73\145\x2e\x63\154\141\x73\163\x65\x5f\x76\141\162\151\x61\156\164" => "\166\141\x72\151\x61\x6e\x74"), array("\143\154\x61\163\x73\145\x2e\x6d\141\170\137\145\154\145\x76\x65" => "\155\141\x78\x5f\x65\x6c\x65\x76\145"), array("\x63\x6c\x61\163\x73\145\56\x73\171\x6e\143\150\x72\x6f\156\151\x7a\x65\144" => "\163\x79\156\143\x68\162\x6f\x6e\x69\172\x65\144"), array("\x63\154\141\x73\x73\145\56\155\x6f\144\151\146\151\145\144" => "\144\x61\x74\x65")), $where, $join, $orderby); goto FZt3w; BCuJO: } public function gets($closed = false, $nmin = false) { goto c02b2; DG3zk: if (!empty($an)) { goto tvvhH; tvvhH: $classes = $this->mydb->gets($this->table, array(array("\143\154\141\163\163\145\56\x69\x64" => "\151\144"), array("\143\154\141\x73\x73\x65\x5f\x69\x6e\x69\x74\x2e\151\144" => "\x63\x6c\163\x5f\x69\144"), array("\143\x6c\x61\x73\x73\x65\x5f\x69\x6e\x69\x74\x2e\x6e\x6f\155" => "\156\157\155"), array("\143\x6c\141\163\x73\x65\137\x69\x6e\x69\x74\56\x6e\151\x76\145\x61\x75" => "\156\151\166\145\141\x75\137\151\144"), array("\156\x69\x76\x65\141\x75\56\x6e\x6f\x6d" => "\156\151\x76\x65\141\x75"), array("\x63\154\x61\163\163\x65\x5f\x73\x65\162\151\145\x2e\151\144" => "\x73\x65\x72\151\x65\137\x69\144"), array("\143\154\141\x73\x73\145\137\x73\x65\x72\151\145\56\x6e\x6f\155" => "\x73\145\x72\x69\145"), array("\x63\154\141\x73\x73\145\56\x63\154\x61\x73\x73\x65\137\166\141\x72\151\141\x6e\164" => "\x76\x61\x72\x69\141\x6e\x74"), array("\x63\154\141\163\163\x65\x2e\155\x61\170\x5f\x65\154\x65\x76\145" => "\155\x61\x78\137\145\x6c\145\166\x65"), array("\143\x6c\141\163\163\145\56\163\x79\156\x63\150\162\x6f\156\x69\x7a\145\144" => "\163\171\x6e\143\x68\162\x6f\x6e\151\x7a\145\144"), array("\x63\154\x61\x73\163\145\x2e\155\x6f\x64\151\146\x69\145\x64" => "\x64\141\164\145")), $where, $join, $orderby, $limit); goto aDKFr; aDKFr: if (!empty($classes)) { foreach ($classes as $cl) { goto H3giA; DIo25: $cl->effectif = $this->mydb->count("\x63\154\x61\x73\163\x65\137\150\x61\x73\137\145\x6c\145\x76\145", array("\143\154\x61\x73\x73\x65" => $cl->id, "\141\156" => $an->id, "\x73\x74\x61\164\165\x73" => 0)); goto GOdLb; GOdLb: array_push($cls, $cl); goto tOGSm; H3giA: $cl->nom = $this->get_class_name($cl->nom, $cl->id, $cl->cls_id, $cl->niveau_id, $cl->serie, $cl->serie_id, $cl->variant); goto DIo25; tOGSm: } } goto jbegU; jbegU: $d["\143\x6c\x61\x73\x73\145\163"] = $cls; goto DdAFD; DdAFD: } goto iGxxx; byOSa: $where = array(); goto jMyJg; jMyJg: $an = $this->utils->get_an(); goto KZO6Y; iGxxx: return $d; goto AHmYP; N8QwI: $d["\164\x6f\164\x61\x6c"] = $count; goto zMUv3; KZO6Y: if ($closed == false) { $where[$this->table . "\56\163\x74\x61\164\x75\163"] = 0; } goto goNBW; goNBW: if ($nmin !== false) { $where["\156\151\x76\145\x61\x75\56\151\x64"] = array("\76\x3d" => $nmin); } goto iRBEx; c02b2: $d = array(); goto uXedy; JZV51: $count = $this->mydb->count($this->table, $where, $join); goto sFmTZ; fR0MT: $d["\143\165\x72\x72\x65\x6e\164"] = $page->current; goto N8QwI; uXedy: $cls = array(); goto byOSa; zMUv3: $d["\x65\160\160"] = $page->epp; goto zuEoZ; zuEoZ: $orderby = array("\143\x6c\x61\163\163\x65\x5f\151\x6e\151\164\x2e\x69\x64" => "\x41\x53\x43"); goto PhcHp; sFmTZ: $page = pager($count); goto cUivy; iRBEx: $join = array("\143\x6c\141\x73\163\x65\x5f\x69\156\x69\164" => array("\x69\156\x6e\x65\162" => array("\143\154\141\163\x73\145\x5f\x69\x6e\151\164", "\151\144")), "\x6e\x69\166\x65\x61\165" => array("\151\156\156\x65\x72" => array("\143\154\141\163\x73\145\x5f\x69\x6e\151\x74\56\x6e\x69\x76\145\141\x75", "\x69\x64")), "\143\154\141\163\x73\x65\x5f\x73\145\162\151\145" => array("\x6c\145\x66\164" => array("\143\x6c\x61\163\163\x65\137\x73\x65\162\151\145", "\x69\144"))); goto JZV51; PhcHp: $limit = array($page->start, $page->epp); goto DG3zk; cUivy: $d["\156\142\160\x61\147\x65\163"] = $page->nbpages; goto fR0MT; AHmYP: } public function get_level_classes($id) { goto pYP3S; BFH0K: $d["\156\142\160\141\147\x65\x73"] = $page->nbpages; goto Z_odd; M1Xjt: $an = $this->utils->get_an(); goto XInJk; UebtQ: $d["\143\x6c\x61\x73\x73\x65\163"] = $cls; goto Ekmtn; p1Y2g: $count = $this->mydb->count($this->table, $where, $join); goto KIpb1; XInJk: $join = array("\143\154\141\163\x73\145\137\151\156\151\x74" => array("\151\156\x6e\x65\162" => array("\x63\x6c\x61\163\x73\145\x5f\x69\x6e\151\x74", "\151\x64")), "\156\x69\x76\x65\x61\165" => array("\x69\156\156\145\x72" => array("\x63\x6c\141\163\x73\x65\x5f\x69\x6e\151\164\x2e\x6e\151\166\x65\141\x75", "\151\144")), "\143\154\141\x73\x73\x65\x5f\163\x65\x72\151\145" => array("\x6c\x65\x66\x74" => array("\143\154\141\163\x73\145\137\x73\x65\162\151\145", "\151\144"))); goto p1Y2g; CkfCr: $d["\164\157\x74\x61\x6c"] = $count; goto gaAYJ; vPwnM: $where = array($this->table . "\56\x73\x74\141\x74\x75\x73" => 0, "\156\x69\x76\x65\x61\x75\x2e\x69\144" => $id); goto M1Xjt; gaAYJ: $d["\145\x70\x70"] = $page->epp; goto Njkyp; pYP3S: $d = array(); goto MtB_p; bu1Ui: if (!empty($classes)) { foreach ($classes as $cl) { goto d0MRw; d0MRw: $cl->nom = $this->get_class_name($cl->nom, $cl->id, $cl->cls_id, $cl->niveau_id, $cl->serie, $cl->serie_id, $cl->variant); goto shRCD; shRCD: $cl->effectif = $this->mydb->count("\x63\x6c\141\x73\x73\145\137\x68\141\x73\137\145\154\x65\166\x65", array("\143\154\x61\163\x73\145" => $cl->id, "\x61\x6e" => $an->id, "\163\164\x61\164\165\163" => 0)); goto Op_1d; Op_1d: array_push($cls, $cl); goto cllvO; cllvO: } } goto UebtQ; Njkyp: $orderby = array("\143\x6c\141\163\163\x65\x5f\x69\156\x69\x74\56\151\x64" => "\101\123\103"); goto WLtBf; WLtBf: $limit = array($page->start, $page->epp); goto tKdLA; Ekmtn: return $d; goto e3q0y; KIpb1: $page = pager($count); goto BFH0K; tKdLA: $classes = $this->mydb->gets($this->table, array(array("\x63\x6c\x61\163\x73\x65\56\151\x64" => "\x69\144"), array("\143\x6c\141\x73\x73\145\x5f\151\x6e\x69\164\x2e\x69\x64" => "\x63\154\x73\137\151\144"), array("\x63\x6c\x61\163\x73\145\x5f\x69\x6e\151\x74\x2e\156\x6f\155" => "\x6e\157\155"), array("\x63\154\141\163\163\x65\137\x69\x6e\x69\164\56\x6e\x69\166\x65\x61\x75" => "\156\151\166\x65\x61\x75\137\x69\144"), array("\x6e\151\166\145\141\165\x2e\156\x6f\155" => "\156\151\166\x65\x61\x75"), array("\143\154\x61\x73\x73\145\137\163\x65\162\x69\x65\56\151\144" => "\163\145\x72\x69\145\x5f\x69\x64"), array("\143\154\141\163\x73\x65\x5f\x73\145\162\151\145\x2e\156\157\x6d" => "\163\x65\162\x69\x65"), array("\143\x6c\x61\163\163\x65\x2e\143\154\141\163\163\x65\x5f\166\x61\x72\x69\141\156\164" => "\x76\x61\x72\x69\141\156\164"), array("\143\x6c\x61\x73\163\145\56\155\x61\170\x5f\x65\x6c\145\166\145" => "\155\x61\170\137\x65\x6c\x65\166\145"), array("\x63\x6c\x61\163\x73\x65\x2e\x73\171\x6e\x63\150\162\x6f\x6e\151\x7a\x65\x64" => "\163\x79\156\x63\150\x72\x6f\156\151\x7a\x65\x64"), array("\143\154\141\x73\163\x65\56\155\x6f\144\x69\x66\151\x65\x64" => "\144\x61\164\145")), $where, $join, $orderby, $limit); goto bu1Ui; Z_odd: $d["\143\x75\162\162\x65\156\x74"] = $page->current; goto CkfCr; MtB_p: $cls = array(); goto vPwnM; e3q0y: } public function get($id) { goto mEXDv; imMK5: if (!empty($classe)) { $classe->nom = $this->get_class_name($classe->nom, $classe->id, $classe->cls_id, $classe->niveau_id, $classe->serie, $classe->serie_id, $classe->variant); $d = $classe; } goto nxmFl; Kv1eq: $join = array("\143\154\141\x73\x73\x65\x5f\x69\156\x69\x74" => array("\151\x6e\156\145\162" => array("\143\154\x61\163\163\x65\137\151\156\151\x74", "\x69\x64")), "\156\x69\166\145\141\165" => array("\x69\x6e\x6e\x65\x72" => array("\143\x6c\x61\x73\163\145\x5f\151\156\x69\164\56\156\151\x76\x65\x61\165", "\x69\144")), "\143\x6c\141\163\x73\x65\x5f\163\145\x72\x69\x65" => array("\154\145\146\164" => array("\143\154\x61\163\163\x65\137\x73\x65\x72\151\x65", "\151\x64"))); goto n3q3P; mEXDv: $d = false; goto jHXge; jHXge: $where["\143\x6c\141\x73\x73\x65\56\x69\x64"] = $id; goto Kv1eq; nxmFl: return $d; goto bCHL3; n3q3P: $classe = $this->mydb->get($this->table, array(array("\143\154\141\x73\x73\145\56\x69\x64" => "\x69\x64"), array("\143\x6c\x61\x73\x73\x65\56\x75\163\x65\162" => "\165\163\145\162"), array("\143\x6c\141\163\163\145\137\151\x6e\151\164\56\x69\x64" => "\x63\154\x73\x5f\x69\144"), array("\143\x6c\141\163\163\x65\x5f\x69\156\151\164\x2e\x6e\157\155" => "\156\157\x6d"), array("\143\154\141\x73\x73\145\137\x69\x6e\x69\x74\x2e\156\x69\x76\x65\141\165" => "\156\x69\166\x65\141\x75\137\151\144"), array("\156\x69\x76\145\141\x75\x2e\x6e\157\x6d" => "\x6e\x69\x76\145\141\x75"), array("\x63\x6c\141\x73\163\x65\x5f\163\145\162\x69\x65\56\151\x64" => "\163\145\162\x69\x65\x5f\151\x64"), array("\143\154\141\x73\x73\145\x5f\x73\x65\x72\x69\145\56\156\x6f\155" => "\x73\x65\162\x69\145"), array("\143\154\141\x73\x73\x65\x2e\x63\x6c\141\163\x73\x65\x5f\x76\x61\x72\151\x61\156\x74" => "\x76\141\162\151\x61\x6e\x74"), array("\x63\x6c\x61\163\x73\x65\x2e\155\x61\x78\137\145\154\145\x76\145" => "\x6d\x61\x78\137\145\x6c\x65\166\x65"), array("\143\x6c\141\x73\163\x65\56\x73\x79\x6e\x63\150\162\157\156\x69\172\145\x64" => "\163\x79\156\143\x68\x72\157\x6e\151\172\145\144"), array("\x63\x6c\x61\163\163\x65\x2e\x63\162\x65\141\164\x65\x64" => "\x63\x72\145\141\164\x65\144"), array("\143\x6c\x61\x73\163\145\56\x6d\157\x64\151\146\x69\145\144" => "\x64\141\164\x65")), $where, $join); goto imMK5; bCHL3: } public function get_prev_cls($id) { return $this->mydb->gets($this->table, '', array("\x63\x6c\x61\x73\x73\x65\x5f\151\x6e\151\x74" => $id, "\163\164\141\164\165\x73" => 0)); } public function get_series($id) { goto kJ56U; PdmCl: if ($id >= 12) { goto ijZ5P; ijZ5P: if ($id == 12) { $where = array("\151\144" => array("\x3c\76" => 7), "\x61\x6e\x64\55\x69\x64" => array("\74\76" => 8)); } else { $where = array("\151\x64" => array("\x3c\76" => 6)); } goto iNiG6; BsKRY: $d["\x64\x61\164\141"] = $this->mydb->gets("\x63\x6c\x61\163\x73\x65\x5f\x73\x65\162\151\x65", '', $where); goto ApfQF; iNiG6: $d["\x65\x72\x72\x6f\x72"] = false; goto BsKRY; ApfQF: } else { $d["\145\x72\x6d\x73\x67"] = "\103\145\164\164\145\40\143\x6c\x61\x73\x73\145\x20\156\145\40\144\x69\x73\x70\157\163\x65\40\x70\141\163\40\x64\x65\40\163\303\251\x72\x69\145"; } goto P9jOl; P9jOl: return $d; goto YNmAo; kJ56U: $d["\x65\162\162\157\162"] = true; goto PdmCl; YNmAo: } public function get_class_name($nom, $id, $cls_id, $niveau, $serie, $serie_id, $variant) { goto atdoZ; m2_tn: if ($var == 0) { $vr = false; } else { $vr = $variant; } goto hTaQo; hTaQo: $d = format_class_name($nom, $cls_id, $niveau, $serie, $vr); goto VOrw6; atdoZ: $var = $this->get_variant($cls_id, $serie_id, $id); goto m2_tn; VOrw6: return $d; goto LL2DV; LL2DV: } public function get_init_classes() { $d = $this->mydb->gets($this->cls_init, array(array("\x63\x6c\x61\163\x73\x65\137\x69\156\151\164\56\x69\144" => "\151\x64"), array("\143\154\141\163\163\145\x5f\151\x6e\151\x74\56\x6e\157\x6d" => "\x6e\157\155"), array("\x63\154\141\x73\163\x65\x5f\x69\156\x69\x74\x2e\x64\145\x73\143\162\x69\160\164\151\x6f\x6e" => "\144\145\x73\143\162\x69\160\x74\151\x6f\156"), array("\143\x6c\x61\163\163\145\x5f\x69\156\x69\164\x2e\156\x69\x76\x65\x61\165" => "\x6e\151\166\x65\x61\165")), array("\156\151\x76\x65\141\x75\x2e\x73\164\x61\x74\165\x73" => 1), array("\156\151\166\x65\x61\x75" => array("\x69\156\x6e\x65\x72" => array("\x6e\x69\166\145\141\x75", "\x69\x64")))); return $d; } public function get_levels($active = false) { goto e2kvX; bW_SL: $levels = $this->mydb->gets("\156\x69\x76\x65\x61\165", array(array("\156\151\166\x65\x61\x75\x2e\x69\144" => "\x69\144"), array("\x6e\151\x76\145\x61\x75\56\156\157\155" => "\x6e\x6f\x6d"), array("\x6e\151\166\145\x61\x75\x2e\163\x74\141\164\x75\163" => "\163\x74\x61\x74\165\163"), array("\x6e\151\166\145\141\x75\56\x64\145\163\x63\x72\151\x70\164\x69\157\x6e" => "\x64\145\163\x63\162\x69\160\164\151\157\x6e"), array("\156\x69\x76\x65\x61\165\56\x6d\x6f\144\x69\146\151\145\x64" => "\x64\141\x74\x65")), $where); goto aWmR0; e2kvX: $d = array(); goto qSCTm; DPAzS: return $d; goto oQyY6; qSCTm: $where = array(); goto FEB4K; FEB4K: if ($active) { $where["\163\x74\141\164\x75\x73"] = 1; } goto bW_SL; aWmR0: if (!empty($levels)) { foreach ($levels as $l) { goto cMKJa; cMKJa: $l->nbclasse = $this->mydb->count($this->table, array("\143\154\141\163\163\x65\x5f\x69\156\x69\x74\56\156\151\166\x65\141\x75" => $l->id), array("\x63\x6c\141\x73\163\x65\137\x69\156\x69\x74" => array("\151\x6e\x6e\x65\162" => array("\143\x6c\141\163\163\145\137\151\156\x69\x74", "\151\144")))); goto jAy8a; XLNsx: array_push($d, $l); goto q5oDr; jAy8a: $l->nbstd = $this->mydb->count("\143\154\141\x73\x73\x65\137\x68\x61\x73\x5f\145\x6c\x65\166\x65", array("\x63\x6c\x61\163\x73\x65\137\x69\x6e\151\x74\x2e\156\x69\x76\x65\x61\x75" => $l->id, "\143\154\x61\163\163\x65\56\x73\x74\x61\164\x75\x73" => 0), array("\143\x6c\141\x73\x73\x65" => array("\x69\156\156\x65\x72" => array("\x63\x6c\x61\163\x73\x65", "\151\x64")), "\143\154\x61\x73\163\x65\x5f\x69\156\x69\164" => array("\x69\156\156\145\162" => array("\x63\x6c\141\x73\x73\x65\x2e\143\x6c\141\163\163\145\x5f\x69\156\151\x74", "\x69\144")))); goto XLNsx; q5oDr: } } goto DPAzS; oQyY6: } public function get_level($id) { goto HZ0of; HZ0of: $d = array(); goto c3oWo; nfOTE: if (!empty($lv)) { goto WLedZ; WLedZ: $lv->nbclasse = $this->mydb->count($this->table, array("\x63\x6c\x61\x73\x73\145\x5f\x69\x6e\151\164\56\x6e\x69\x76\145\141\x75" => $lv->id), array("\143\x6c\x61\163\x73\x65\x5f\x69\x6e\151\164" => array("\151\x6e\x6e\x65\x72" => array("\x63\154\x61\163\163\145\x5f\151\x6e\151\164", "\x69\144")))); goto F_vff; g0Ioi: $d = $lv; goto GtsVL; F_vff: $lv->nbstd = $this->mydb->count("\x63\154\x61\x73\x73\x65\x5f\150\x61\163\137\145\154\x65\x76\x65", array("\143\154\x61\x73\163\x65\x5f\151\156\x69\164\x2e\156\151\166\x65\x61\165" => $lv->id), array("\x63\x6c\x61\163\x73\145" => array("\x69\156\156\x65\x72" => array("\x63\x6c\x61\x73\x73\145", "\x69\x64")), "\143\154\x61\163\x73\x65\137\151\x6e\x69\164" => array("\151\x6e\x6e\145\162" => array("\143\x6c\x61\x73\x73\145\x2e\143\154\141\x73\163\145\137\x69\x6e\151\164", "\151\144")))); goto g0Ioi; GtsVL: } goto VTl_z; VTl_z: return $d; goto zG__b; c3oWo: $lv = $this->mydb->get("\156\x69\x76\145\141\165", array(array("\x6e\x69\x76\x65\x61\x75\56\151\144" => "\151\x64"), array("\156\x69\x76\x65\141\x75\56\156\157\x6d" => "\156\157\155"), array("\x6e\151\x76\x65\x61\x75\56\x73\164\x61\x74\165\x73" => "\163\x74\x61\x74\165\163"), array("\x6e\x69\166\x65\x61\165\56\x64\145\x73\x63\162\151\160\x74\151\x6f\x6e" => "\x64\x65\x73\x63\x72\151\x70\164\x69\x6f\156"), array("\156\151\x76\145\141\x75\x2e\155\x6f\144\x69\x66\x69\145\144" => "\144\x61\x74\145")), array("\x69\144" => $id)); goto nfOTE; zG__b: } public function get_similar_classes($cls_id, $variant) { goto A0Sro; O_NoX: $cls = $this->mydb->gets($this->table, array(array("\x63\x6c\141\x73\x73\x65\x2e\x69\144" => "\x69\144"), array("\143\x6c\x61\163\x73\x65\137\151\156\x69\164\56\x69\x64" => "\143\154\x73\137\151\x64"), array("\143\154\141\163\x73\x65\137\x69\x6e\151\x74\56\156\x6f\155" => "\156\x6f\155"), array("\x63\154\141\163\x73\145\137\x69\156\x69\164\x2e\156\x69\x76\145\x61\x75" => "\x6e\151\166\x65\x61\165\x5f\151\x64"), array("\x6e\x69\166\145\x61\165\x2e\156\157\x6d" => "\x6e\151\x76\x65\x61\165"), array("\x63\x6c\141\x73\163\x65\x5f\163\x65\x72\151\145\x2e\x69\144" => "\163\x65\162\151\x65\x5f\x69\144"), array("\x63\x6c\141\x73\163\x65\137\163\x65\x72\x69\x65\56\156\157\155" => "\163\145\x72\151\x65"), array("\143\x6c\141\163\163\145\x2e\143\x6c\141\163\x73\145\x5f\166\x61\162\x69\141\x6e\164" => "\166\141\x72\151\141\x6e\x74"), array("\143\x6c\141\x73\163\145\56\x6d\x61\170\137\145\x6c\145\166\x65" => "\x6d\141\170\x5f\x65\154\145\166\145"), array("\143\x6c\x61\x73\x73\x65\x2e\163\x79\156\143\x68\162\x6f\156\x69\172\x65\x64" => "\x73\x79\x6e\x63\150\x72\157\156\x69\172\x65\144"), array("\x63\x6c\x61\163\163\x65\x2e\155\157\144\x69\x66\x69\x65\x64" => "\x64\141\x74\x65")), array("\143\x6c\141\163\x73\x65\x5f\x69\x6e\x69\164" => $cls_id, "\143\154\141\163\163\x65\x5f\x76\141\x72\151\x61\156\164" => array("\x3c\x3e" => $variant)), $join); goto kp_9J; VVCt1: $join = array("\x63\154\141\163\163\145\x5f\x69\156\151\164" => array("\151\156\156\x65\x72" => array("\143\x6c\x61\163\x73\x65\x5f\x69\156\x69\x74", "\x69\144")), "\156\151\x76\145\141\165" => array("\x69\156\156\x65\162" => array("\x63\154\x61\163\x73\145\x5f\x69\x6e\x69\164\56\x6e\x69\166\145\x61\x75", "\x69\144")), "\x63\154\x61\x73\x73\x65\x5f\x73\145\x72\151\x65" => array("\154\x65\146\x74" => array("\143\x6c\141\x73\x73\x65\137\x73\x65\x72\151\x65", "\151\144"))); goto O_NoX; A0Sro: $d = array(); goto VVCt1; rjUMN: return $d; goto hxj8l; kp_9J: if (!empty($cls)) { foreach ($cls as $cl) { $cl->nom = $this->get_class_name($cl->nom, $cl->id, $cl->cls_id, $cl->niveau_id, $cl->serie, $cl->serie_id, $cl->variant); array_push($d, $cl); } } goto rjUMN; hxj8l: } public function generate_class_name($cls, $serie, $edit = false) { goto gAtoc; W042A: $d->variant = $var; goto lNdvp; uwKdl: $name = format_class_name($nom, $cls, $niveau, $sr, $vr); goto Wv00z; lNdvp: return $d; goto vpn_r; qqB1I: if ($var > 0) { $vr = $var; } else { $vr = false; } goto uwKdl; Wv00z: $d->name = $name; goto W042A; ud042: $var = $this->get_variant($cls, $serie, $edit); goto qqB1I; dEqqP: $niveau = $cls_name->niveau; goto I4dRe; I4dRe: $nom = $cls_name->nom; goto PzBqV; M4P_A: $cls_name = $this->get_name($cls); goto dEqqP; PzBqV: if ($serie != false) { $sr = $this->get_serie($serie)->nom; } else { $sr = false; } goto ud042; gAtoc: $d = new stdClass(); goto M4P_A; vpn_r: } public function get_class_params($id) { goto F8j86; F8j86: $d = false; goto CwOj2; CwOj2: $an = $this->utils->get_an(); goto xzkzv; xzkzv: if (!empty($an)) { $par = $this->mydb->gets("\143\x6c\x61\163\x73\x65\x5f\160\x61\x72\x61\155\x73", '', array("\141\156" => $an->id, "\143\154\x61\163\x73\x65" => $id)); if (!empty($par)) { goto MYznW; y7fmq: foreach ($par as $p) { $name = $p->name; $i->{$name} = $p->value; } goto deWjE; deWjE: $d = $i; goto d2CJN; MYznW: $i = new stdClass(); goto y7fmq; d2CJN: } } goto yNt_2; yNt_2: return $d; goto WG6QV; WG6QV: } public function get_vars($id) { goto KZqQm; b38iU: $an = $this->utils->get_an(); goto dj9Dl; pRNGF: return $d; goto csyMV; KZqQm: $d = array(); goto b38iU; dj9Dl: if (!empty($an)) { $vars = $this->mydb->gets("\x63\154\141\163\x73\145\137\x70\141\162\x61\155\x73", '', array("\143\x6c\x61\x73\x73\x65" => $id, "\x73\x74\141\164\165\163" => 0, "\x61\156" => $an->id)); if (!empty($vars)) { foreach ($vars as $v) { $name = $v->name; $d[$name] = $v->value; } } } goto pRNGF; csyMV: } public function get_exam_pass($id) { goto owdaO; IQbAj: if (!empty($exam)) { foreach ($exam as $ex) { array_push($d, $ex->eleve); } } goto riOFW; f8Mnf: $an = $this->utils->get_an(); goto PhCRH; riOFW: return $d; goto GhtAG; XgtIq: $table = "\145\x78\141\x6d\145\x6e\137\160\x61\x73\163"; goto f8Mnf; VXAFw: $exam = $this->mydb->gets($table, array("\145\x6c\x65\166\x65"), $where); goto IQbAj; owdaO: $d = array(); goto XgtIq; PhCRH: $where = array("\141\x6e" => $an->id, "\143\x6c\x61\x73\x73\x65" => $id); goto VXAFw; GhtAG: } public function is_not_empty($id) { goto ejBFR; tq6Qu: $an = $this->utils->get_an(); goto b7X7r; g2QFm: return $d; goto fW70T; b7X7r: if (!empty($an)) { $std = $this->mydb->count("\x63\154\x61\163\163\x65\137\x68\x61\x73\137\145\x6c\x65\166\x65", array("\143\154\141\x73\x73\x65" => $id, "\x61\156" => $an->id)); if (!empty($std)) { $d = $std; } } goto g2QFm; ejBFR: $d = false; goto tq6Qu; fW70T: } public function set($cls, $variant, $serie, $max_eleve, $date, $edit = false) { goto Q5Raa; Ny0JK: $req = array("\x75\163\x65\x72" => $this->id, "\x63\x6c\x61\163\x73\145\x5f\151\156\151\164" => $cls, "\143\154\x61\x73\x73\145\x5f\166\x61\x72\151\x61\156\164" => $variant, "\x63\154\141\x73\163\145\137\x73\x65\162\151\x65" => $serie, "\155\x61\x78\x5f\145\154\x65\x76\145" => $max_eleve, "\x6d\x6f\x64\151\x66\151\145\x64" => $this->mdate); goto GcUQR; KzZ38: return $d; goto RxwEs; GcUQR: if ($edit == false) { $req["\143\x72\145\x61\164\145\x64"] = $this->mdate; $d = $this->mydb->set($this->table, $req); } else { $d = $this->mydb->update($this->table, $req, array("\151\x64" => $edit)); } goto KzZ38; Q5Raa: $d = false; goto Ny0JK; RxwEs: } public function check_class_students($id) { goto wo2mr; PZp11: if (!empty($std)) { goto E_WVI; NSPNJ: $d["\x61\143\x74\x69\x66"] = $actif; goto nU7Yh; lWd3l: foreach ($std as $s) { goto OXIWJ; O8kjO: $total += 1; goto Prhq1; OXIWJ: if ($s->sexe == "\x4d") { $male += 1; } else { if ($s->sexe == "\x46") { $female += 1; } } goto gdC3T; gdC3T: if ($s->status == 0) { $actif += 1; } else { $inactif += 1; } goto O8kjO; Prhq1: } goto hQ1OJ; kMDU1: $male = 0; goto OzwRY; E_WVI: $total = 0; goto kMDU1; gWVSp: $d["\x6d\141\x6c\145"] = $male; goto wU7cO; lqka6: $actif = 0; goto V1ddD; nU7Yh: $d["\151\156\141\x63\164\x69\x66"] = $inactif; goto awkoo; OzwRY: $female = 0; goto lqka6; wU7cO: $d["\x66\145\x6d\x61\x6c\x65"] = $female; goto NSPNJ; hQ1OJ: $d["\164\157\x74\141\154"] = $total; goto gWVSp; V1ddD: $inactif = 0; goto lWd3l; awkoo: } goto XIbYd; LqW0F: $std = $this->mydb->gets("\x63\154\x61\x73\x73\x65\137\150\x61\x73\x5f\145\x6c\x65\x76\x65", array(array("\145\x6c\145\166\x65\56\151\x64" => "\x69\144"), array("\x65\154\145\x76\145\x2e\x6e\157\x6d" => "\156\x6f\155"), array("\145\154\x65\x76\145\56\160\162\145\156\157\x6d\163" => "\x70\162\x65\x6e\157\155\163"), array("\x65\154\x65\x76\145\56\x73\145\170\145" => "\x73\145\x78\x65"), array("\145\x6c\x65\x76\145\56\163\x74\141\x74\x75\163" => "\163\164\141\x74\x75\163")), array("\x63\x6c\x61\163\x73\145" => $id), array("\145\x6c\145\x76\x65" => array("\151\156\156\145\162" => array("\x65\154\145\166\145", "\151\x64")))); goto PZp11; XIbYd: return $d; goto YbARM; wo2mr: $d = array(); goto LqW0F; YbARM: } public function delete($id) { goto gOhPy; gOhPy: $check = $this->check_classe_std($id); goto QLHy6; QLHy6: if ($check == false) { goto T16cC; mEOHH: $d = $this->mydb->delete($this->table, array("\x69\x64" => $id)); goto etC2E; Ogr0l: $this->delete_class_timetable($id); goto yRKw7; T16cC: $this->delete_class_fee($id); goto Ogr0l; lNcQH: $this->delete_class_subjects($id); goto afReI; yRKw7: $this->delete_class_teachers($id); goto lNcQH; afReI: $this->delete_class_params($id); goto mEOHH; etC2E: } else { $d = $this->mydb->update($this->table, array("\163\x74\x61\x74\165\x73" => 1), array("\151\144" => $id)); } goto Nz0CU; Nz0CU: return $d; goto lv9Hf; lv9Hf: } public function set_var($key, $value, $id) { goto MF4Hq; h5l4Q: if (!empty($an)) { goto Oa1LK; Oa1LK: $check = $this->get_class_param($an->id, $key, $id); goto BqQ2m; BqQ2m: $req = array("\166\141\154\165\x65" => $value, "\163\171\x6e\143\150\x72\157\156\x69\x7a\145\144" => 0, "\x6d\x6f\144\151\146\x69\145\x64" => $this->mdate); goto WrDp5; WrDp5: if (empty($check)) { goto OTskH; wuDjG: $req["\x61\156"] = $an->id; goto QaiGd; OTskH: $req["\x75\x73\x65\162"] = $this->id; goto wuDjG; qmENq: $req["\156\x61\x6d\x65"] = $key; goto tnC85; tnC85: $d = $this->mydb->set("\143\154\x61\x73\163\145\137\160\x61\162\141\155\163", $req); goto uuXI_; QaiGd: $req["\143\x6c\x61\163\x73\x65"] = $id; goto qmENq; uuXI_: } else { goto Q6ZXr; Q6ZXr: $where = array("\141\156" => $an->id, "\143\x6c\x61\163\x73\145" => $id, "\x6e\141\x6d\x65" => $key); goto ZZ3aX; ZZ3aX: if ($this->id != 1) { $where["\165\x73\x65\x72"] = $this->id; } goto j10Ld; j10Ld: $d = $this->mydb->update("\143\x6c\141\x73\163\145\137\x70\x61\162\141\x6d\163", $req, $where); goto Bft9a; Bft9a: } goto B8qJE; B8qJE: } goto SG4Yb; SG4Yb: return $d; goto w99LS; Srj4G: $an = $this->utils->get_an(); goto h5l4Q; MF4Hq: $d = false; goto Srj4G; w99LS: } public function set_exam_pass($id, $elvs) { goto R3taf; oca10: $ids = array(); goto FDPVy; YzEUJ: $where = array("\141\x6e" => $an->id, "\x63\x6c\x61\x73\163\x65" => $id); goto awP5F; awP5F: $eleves = $this->mydb->gets($table, array("\151\x64", "\x65\x6c\x65\x76\x65"), $where); goto oca10; GC9s2: $ev = array_keys($ids); goto ek39r; R68LS: $an = $this->utils->get_an(); goto YzEUJ; g0LHA: if (!empty($to_add)) { foreach ($to_add as $to) { $this->mydb->set($table, array("\x61\156" => $an->id, "\143\154\x61\x73\163\x65" => $id, "\x65\154\145\166\x65" => $to)); } } goto uzHGa; oL8yN: if (!empty($to_remove)) { goto KCR3Y; KCR3Y: $toe = $this->array_values_by_keys($to_remove, $ids); goto gdDI6; rrPkG: $sql = "\104\x45\x4c\105\124\105\40\x46\x52\x4f\115\x20\145\x78\x61\x6d\145\x6e\x5f\x70\x61\163\x73\x20\127\110\105\x52\105\x20\x69\x64\40\x49\116\x20\x28{$params}\51"; goto Wd2t9; Wd2t9: $this->mydb->custom_set($sql, $toe); goto ab2gi; gdDI6: $params = set_params($toe); goto rrPkG; ab2gi: } goto QXMn8; uzHGa: $to_remove = array_diff($ev, $elvs); goto oL8yN; ek39r: $to_add = array_diff($elvs, $ev); goto g0LHA; FDPVy: if (!empty($eleves)) { foreach ($eleves as $el) { $ids[$el->eleve] = $el->id; } } goto GC9s2; R3taf: $table = "\x65\x78\141\x6d\x65\156\x5f\160\x61\163\x73"; goto R68LS; QXMn8: } public function get_class_param($an, $key, $id) { goto B7cwI; Wv7Ej: return $d; goto Wy7X9; xZTHb: $var = $this->mydb->get("\x63\x6c\141\x73\x73\145\137\160\141\x72\x61\155\x73", '', array("\141\x6e" => $an, "\x63\154\x61\x73\x73\145" => $id, "\x6e\x61\x6d\x65" => $key)); goto dUrij; dUrij: if (!empty($var)) { $d = $var->value; } goto Wv7Ej; B7cwI: $d = false; goto xZTHb; Wy7X9: } private function delete_class_fee($id) { return $this->mydb->delete("\x66\145\x65\x5f\x63\154\x61\163\163\x65", array("\143\x6c\x61\x73\x73\x65" => $id)); } private function delete_class_timetable($id) { return $this->mydb->delete("\x74\151\155\x65\164\x61\x62\x6c\x65", array("\x63\x6c\141\163\163\x65" => $id)); } private function delete_class_teachers($id) { return $this->mydb->delete("\x63\154\141\163\163\x65\x5f\x68\141\163\x5f\160\x72\157\146", array("\x63\154\x61\x73\x73\145" => $id)); } private function delete_class_subjects($id) { return $this->mydb->delete("\x63\154\x61\x73\x73\145\x5f\150\141\x73\137\x6d\x61\x74", array("\143\x6c\x61\x73\x73\x65" => $id)); } private function delete_class_params($id) { return $this->mydb->delete("\143\154\141\x73\x73\145\x5f\x70\141\x72\141\x6d\163", array("\143\154\141\x73\163\x65" => $id)); } private function get_name($id) { goto fAH9l; sc60l: if (!empty($class)) { $d = $class; } goto YyE7N; YyE7N: return $d; goto yoUHk; fAH9l: $d = false; goto cg7Nb; cg7Nb: $class = $this->mydb->get($this->cls_init, array(), array("\x69\144" => $id)); goto sc60l; yoUHk: } private function get_serie($id) { goto shTyz; WNO34: $serie = $this->mydb->get("\x63\154\141\163\163\x65\x5f\163\x65\162\x69\145", array(), array("\x69\x64" => $id)); goto pamXb; b01Uk: return $d; goto Kc0OE; pamXb: if (!empty($serie)) { $d = $serie; } goto b01Uk; shTyz: $d = false; goto WNO34; Kc0OE: } private function get_variant($cls, $serie = false, $edit = false) { goto J6Dh3; ttls1: $where = array("\x63\x6c\x61\163\x73\x65\x5f\151\x6e\x69\164" => $cls); goto GFvkg; DZYqs: if ($edit != false) { $where["\x69\144"] = array("\x3c\x3e" => $edit); } goto Jx56A; J6Dh3: $d = 0; goto ttls1; hp42t: return $d; goto mAoSX; XyFVc: if ($var > 0) { $d = $var; } goto hp42t; Jx56A: $var = $this->mydb->count($this->table, $where); goto XyFVc; GFvkg: if ($serie != false) { $where["\143\x6c\141\x73\163\145\137\x73\x65\162\x69\145"] = $serie; } goto DZYqs; mAoSX: } private function check_classe_std($id) { goto eLhwH; jsuQp: if (!empty($check)) { $d = true; } goto rrVDT; eLhwH: $d = false; goto omcJl; omcJl: $check = $this->mydb->count("\x63\154\141\163\163\145\x5f\x68\x61\x73\137\x65\x6c\145\x76\x65", array("\x63\154\x61\163\163\145" => $id)); goto jsuQp; rrVDT: return $d; goto ayDnS; ayDnS: } private function array_values_by_keys($keys, $array) { goto EBt8_; bSxGx: foreach ($keys as $key) { array_push($d, $array[$key]); } goto x7yz0; EBt8_: $d = array(); goto bSxGx; x7yz0: return $d; goto PgVu_; PgVu_: } }
