<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:17              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\101\x53\105\x50\101\124\110") or exit("\x4e\157\x20\x64\x69\162\x65\x63\x74\40\163\143\x72\x69\160\x74\40\141\143\143\x65\163\x73\x20\141\x6c\x6c\157\x77\x65\144"); class Appstat { protected $CI; private $mydb; private $utils; private $cls; private $std; private $an; public function __construct() { goto xdlY_; X7EDv: $this->mydb =& $this->CI->mydb; goto ZdqZE; ZdqZE: $this->utils =& $this->CI->utilitaire; goto rq1ub; jHlOo: $this->an =& $this->CI->an; goto keLY8; xdlY_: $this->CI =& get_instance(); goto X7EDv; rCRhj: $this->std =& $this->CI->std; goto jHlOo; rq1ub: $this->cls =& $this->CI->cls; goto rCRhj; keLY8: } public function index() { goto Co82W; kqOm_: if (!empty($an)) { goto J08cX; Fot46: $d["\144\145\x70\x73"] = $this->get_month_deps($dates); goto JEKSd; b4Jpv: $dates = date_range($debut, $today); goto Fot46; J08cX: $debut = str2mysqldate($an->debut); goto b4Jpv; JEKSd: $d["\145\156\164"] = $this->get_entry($dates); goto wYUPG; wYUPG: } goto Pn7cv; fXUNB: $an = $this->utils->get_an(); goto kqOm_; CaCCG: $today = gmdate("\x59\55\155\55\x64\x20\110\x3a\151\x3a\163"); goto fXUNB; Co82W: $d = array(); goto CaCCG; Pn7cv: return $d; goto Hp22b; Hp22b: } public function get_initial() { goto ik7zM; ik7zM: $d = 0; goto NvB7N; O6Mo6: return $d; goto AAJH3; O0k5w: if (!empty($an)) { $init = $this->mydb->get("\x61\156\x5f\x61\143\x74\151\166\151\x74\x79", '', array("\141\x6e" => $an->id)); if (!empty($init)) { $d = $init->initial; } } goto O6Mo6; NvB7N: $an = $this->utils->get_an(); goto O0k5w; AAJH3: } public function get_month_deps($mois) { goto VjL_r; NiA8r: if (!empty($mois)) { foreach ($mois as $key => $m) { goto flC_7; c1X9y: $dep = $this->mydb->custom_get($sql2); goto cJWIF; YiJL2: $sd = 0; goto Kdl_M; BrQFL: $sql2 = "\x53\105\114\x45\103\124\40\123\125\115\x28\x6d\x6f\156\x74\141\156\x74\51\x20\101\123\x20\x6d\x6f\156\x74\141\x6e\x74\40\x46\122\x4f\x4d\x20\144\x65\x70\145\x6e\163\145\x20\x57\x48\105\x52\x45\40\163\164\x72\146\164\151\155\x65\50\x27\x25\x73\x27\54\x20\x63\x72\145\x61\164\145\x64\51\x20\74\75\40\x73\164\x72\146\x74\151\155\x65\50\47\x25\x73\x27\x2c\x20\x27{$dtm}\x27\51"; goto c1X9y; yBFdp: $date = new DateTime($dte); goto NCv8t; zYS_y: $dt = $date->format("\x59\x2d\x6d\55\x64"); goto fQEjS; cJWIF: if (!empty($dep)) { $sd += $dep[0]->montant; } goto K7PDu; fQEjS: $dtm = $date->format("\x59\x2d\155\x2d\144\40\x48\72\151\x3a\163"); goto Y9lFO; NCv8t: $date = $date->modify("\x2b\61\40\155\x6f\x6e\x74\150"); goto zYS_y; wYR2X: if (!empty($paie)) { foreach ($paie as $p) { $sp += $p->montant + $p->prime; } } goto BrQFL; Kdl_M: $dte = $m . "\55\60\x31"; goto yBFdp; WSj2h: $paie = $this->mydb->custom_get($sql); goto wYR2X; Vxsab: $em = $ms[$month]; goto awVcE; Z12EA: $ms = eqmonths(); goto Vxsab; K7PDu: $tt = $sp + $sd; goto WdK2h; flC_7: $sp = 0; goto YiJL2; awVcE: $d[$em] = $tt; goto dweEY; Y9lFO: $sql = "\123\105\114\105\103\124\40\52\40\x46\122\117\115\x20\x70\141\x69\145\x20\x57\x48\x45\x52\x45\x20\163\x74\x72\x66\x74\x69\x6d\x65\x28\47\x25\163\47\54\40\143\162\x65\x61\x74\x65\x64\51\40\74\x3d\x20\x73\x74\x72\146\164\151\155\145\x28\47\45\x73\47\54\x20\x27{$dtm}\47\51"; goto WSj2h; WdK2h: $month = gmdate("\106", strtotime($dt)); goto Z12EA; dweEY: } } goto kDEgd; VjL_r: $d = array(); goto NiA8r; kDEgd: return $d; goto rCUYZ; rCUYZ: } public function get_entry($mois) { goto DRbzc; e94ft: return $d; goto CIxpe; DRbzc: $d = array(); goto sFO0I; sFO0I: if (!empty($mois)) { foreach ($mois as $key => $m) { goto TqT3l; OQggf: $dte = $m . "\x2d\x30\61"; goto B31mG; Nprrr: $dtm = $date->format("\131\x2d\x6d\55\x64\40\110\72\x69\72\163"); goto QfgMD; QfgMD: $sql = "\x53\x45\114\105\103\x54\40\x53\x55\x4d\50\x6d\x6f\156\x74\141\156\x74\x29\40\x41\x53\40\155\x6f\x6e\x74\x61\156\164\40\106\x52\117\115\40\146\145\x65\x5f\x70\141\x79\x6d\x65\156\164\x20\127\110\105\122\105\x20\163\164\x72\x66\164\x69\155\145\x28\47\x25\x73\x27\54\40\x63\162\145\141\164\145\144\51\x20\x3c\x3d\40\163\164\x72\x66\x74\151\155\x65\50\47\45\163\47\x2c\x20\47{$dtm}\x27\x29"; goto I8WTC; W9BHq: $init = $this->get_initial(); goto OQggf; J0_ZB: if (!empty($fee)) { $f = $fee[0]; $tt = $f->montant + $init; } goto zrY_1; CsPOn: $date = $date->modify("\x2b\x31\40\x6d\x6f\x6e\x74\150"); goto FYJYR; KA2xY: $em = $ms[$month]; goto BVbTT; B31mG: $date = new DateTime($dte); goto CsPOn; TqT3l: $sp = 0; goto XulOW; BVbTT: $d[$em] = $tt; goto E15U2; XulOW: $sd = 0; goto W9BHq; FYJYR: $dt = $date->format("\x59\55\x6d\x2d\144"); goto Nprrr; dJlmE: $ms = eqmonths(); goto KA2xY; I8WTC: $fee = $this->mydb->custom_get($sql); goto J0_ZB; zrY_1: $month = gmdate("\106", strtotime($dt)); goto dJlmE; E15U2: } } goto e94ft; CIxpe: } public function get_std_parcours($id) { goto WF5us; sQdOG: if (!empty($ans)) { foreach ($ans as $a) { goto TAiRb; r6V3r: array_push($d, $a); goto plif6; gpHCb: $moys = array(); goto UEHXg; UEHXg: if (!empty($decs)) { foreach ($decs as $dc) { $moy = $this->mydb->get("\142\165\154\x6c\x65\x74\151\x6e", array("\155\x6f\171\145\156\x6e\x65"), array("\141\x6e" => $a->id, "\143\154\x61\x73\x73\145" => $a->classe, "\x64\x65\143\x6f\165\160\x61\x67\145" => $dc->id, "\x65\154\145\166\145" => $id)); if (!empty($moy)) { $moys[$dc->nom] = $moy->moyenne; } else { $moys[$dc->nom] = "\55"; } } } goto ikCq8; va16g: $a->moys = $moys; goto r6V3r; DrwdS: $decs = $this->an->get_class_decoupage($a->classe); goto gpHCb; ikCq8: $a->cls = $cls->nom; goto va16g; TAiRb: $cls = $this->cls->get($a->classe); goto DrwdS; plif6: } } goto JaFdr; WF5us: $d = array(); goto pHPC2; JaFdr: return $d; goto qZ0Vb; pHPC2: $ans = $this->mydb->gets("\x63\154\141\x73\x73\x65\137\150\141\163\137\x65\154\x65\x76\145", array(array("\x61\x6e\x2e\151\144" => "\x69\144"), array("\141\156\56\x64\x65\163\151\147\x6e\141\x74\x69\x6f\x6e" => "\x6e\157\x6d"), array("\143\x6c\x61\163\163\145\137\x68\141\163\137\x65\x6c\x65\x76\x65\56\143\x6c\141\163\163\145" => "\143\154\x61\x73\x73\145")), array("\x65\x6c\x65\166\145" => $id), array("\141\x6e" => array("\x69\x6e\x6e\145\x72" => array("\141\x6e", "\151\144")))); goto sQdOG; qZ0Vb: } public function get_nb_eleve() { return $this->mydb->count("\145\154\x65\166\145", array("\163\x74\x61\x74\165\x73" => 0)); } public function get_nb_perso() { return $this->mydb->count("\160\145\162\x73\157\x6e\156\x65\154", array("\x73\164\x61\x74\x75\163" => 0)); } public function get_nb_article() { return $this->mydb->count("\x61\x72\x74\x69\143\154\145", array("\163\164\x61\164\x75\x73" => 0)); } public function get_nb_classe() { return $this->mydb->count("\143\x6c\141\x73\x73\145", array("\x73\164\x61\x74\x75\x73" => 0)); } }
