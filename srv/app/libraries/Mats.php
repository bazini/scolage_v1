<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:18              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\102\101\x53\105\x50\101\124\x48") or exit("\x4e\157\40\144\151\162\145\143\164\x20\163\x63\162\x69\160\164\40\141\143\143\145\x73\x73\40\x61\x6c\x6c\157\x77\x65\x64"); class Mats { protected $CI; private $table; private $mydb; private $mdate; private $mn; private $phm; private $chm; private $id; public function __construct() { goto oGA_T; oGA_T: $this->CI =& get_instance(); goto clEU7; xhjrY: $this->mn = "\155\141\164\x69\145\x72\x65\x5f\x6e\x69\166\x65\x61\x75"; goto ehWmi; xp3cc: $this->id = $this->CI->session->userdata("\x69\x64"); goto hQCq8; CW56P: $this->chm = "\143\154\x61\x73\x73\145\137\x68\x61\x73\x5f\x6d\141\164"; goto txd5q; txd5q: $this->mdate = gmdate("\131\55\x6d\55\144\40\x48\72\151\72\x73"); goto xp3cc; clEU7: $this->mydb =& $this->CI->mydb; goto oqkVz; oqkVz: $this->table = "\x6d\x61\x74\151\145\x72\145"; goto xhjrY; ehWmi: $this->phm = "\x70\162\157\x66\137\150\141\x73\x5f\155\141\x74"; goto CW56P; hQCq8: } public function index() { goto r7y0M; JymgC: $d["\x63\165\x72\x72\145\x6e\x74"] = $page->current; goto bT5nI; r7y0M: $d = array(); goto eOMnL; fqHS9: return $d; goto jtdkZ; FBp4g: if (!empty($mats)) { goto aevIN; uBWw2: foreach ($mats as $m) { goto raUx9; RxGXP: array_push($data, $m); goto qB3FR; fs9uB: $m->niveaux = $this->mydb->count("\155\141\164\x69\145\162\145\137\156\x69\166\145\x61\165", array("\x6d\141\164\151\x65\x72\x65" => $m->id)); goto RxGXP; raUx9: $m->classes = $this->mydb->count("\143\x6c\x61\163\163\145\137\x68\141\163\x5f\155\x61\164", array("\155\141\x74\x69\145\x72\x65" => $m->id)); goto fs9uB; qB3FR: } goto A3b9K; A3b9K: $d["\x73\x75\x62\152\145\x63\164\163"] = $data; goto TraWq; aevIN: $data = array(); goto uBWw2; TraWq: } goto fqHS9; Oiap0: $d["\145\x70\160"] = $page->epp; goto RTXIu; eOMnL: $where = array($this->table . "\x2e\163\164\x61\164\165\x73" => 0); goto aVdSL; be6jv: $mats = $this->mydb->gets($this->table, '', $where, '', $orderby, $limit); goto FBp4g; RTXIu: $orderby = array("\155\141\x74\151\x65\x72\x65\56\156\x6f\x6d\x5f\143\157\165\162\164" => "\x41\x53\x43"); goto MLG2P; aVdSL: $count = $this->mydb->count($this->table, $where); goto IQx5E; MLG2P: $limit = array($page->start, $page->epp); goto be6jv; bT5nI: $d["\x74\157\164\141\x6c"] = $count; goto Oiap0; IQx5E: $page = pager($count); goto NKuEb; NKuEb: $d["\x6e\x62\160\x61\x67\145\x73"] = $page->nbpages; goto JymgC; jtdkZ: } public function get($id) { goto OGGOs; N1duV: if (!empty($mat)) { $mat->date = formatmysql($mat->created); $d = $mat; } goto bSe5u; bSe5u: return $d; goto awoOt; OGGOs: $d = false; goto MUDpD; MUDpD: $mat = $this->mydb->get($this->table, '', array("\151\144" => $id)); goto N1duV; awoOt: } public function get_level_mats($id) { goto oowLV; o0BeM: if (!empty($mats)) { $d["\163\x75\142\152\x65\x63\164\x73"] = $mats; } goto qUOR9; g_7g2: $d["\143\x75\162\162\145\x6e\164"] = $page->current; goto vo5Bo; oowLV: $d = array(); goto DwcYv; EwcYb: $count = $this->mydb->count($this->mn, $where, $join); goto hAR4_; DwcYv: $where = array("\155\141\x74\x69\x65\162\x65\x5f\x6e\151\166\145\141\165\x2e\x6e\x69\x76\x65\141\x75" => $id, "\155\141\164\x69\145\162\145\x5f\156\151\166\145\141\x75\x2e\163\164\x61\x74\x75\163" => 0, $this->table . "\x2e\163\x74\141\164\x75\163" => 0); goto plFl_; plFl_: $join = array("\155\141\x74\x69\145\162\145" => array("\151\156\156\145\x72" => array("\155\141\164\x69\x65\x72\145", "\151\144"))); goto EwcYb; D8UVe: $d["\145\160\x70"] = $page->epp; goto Q0eMr; Q0eMr: $orderby = array("\x6d\x61\164\151\x65\x72\x65\x2e\x6e\x6f\x6d\137\x63\157\x75\x72\x74" => "\101\123\x43"); goto TATmG; qUOR9: return $d; goto YvD3o; t8KpM: $d["\x6e\142\160\x61\x67\x65\x73"] = $page->nbpages; goto g_7g2; TATmG: $limit = array($page->start, $page->epp); goto Do_nt; Do_nt: $mats = $this->mydb->gets($this->mn, array(array("\x6d\141\x74\x69\145\x72\145\56\151\144" => "\151\144"), array("\x6d\141\164\151\x65\162\145\x2e\x6e\x6f\x6d\137\143\x6f\x75\162\x74" => "\x6e\157\x6d\x5f\143\157\x75\162\x74"), array("\x6d\141\x74\151\x65\x72\x65\56\x6e\157\x6d\137\x6c\x6f\156\x67" => "\x6e\157\x6d\x5f\x6c\157\156\147")), $where, $join, $orderby, $limit); goto o0BeM; hAR4_: $page = pager($count); goto t8KpM; vo5Bo: $d["\164\157\x74\141\154"] = $count; goto D8UVe; YvD3o: } public function get_level_mats_list($id) { goto lpGZx; d9D5U: $where = array("\155\x61\164\x69\145\162\x65\x5f\x6e\151\166\145\141\165\x2e\x6e\151\166\x65\x61\165" => $id, "\x6d\x61\164\x69\x65\x72\x65\137\x6e\151\166\x65\x61\165\x2e\163\164\x61\164\165\163" => 0, $this->table . "\56\163\x74\141\164\165\163" => 0); goto b2OKG; lpGZx: $d = array(); goto d9D5U; VcGRj: $orderby = array("\x6d\x61\x74\x69\x65\162\145\56\156\157\155\x5f\x63\x6f\165\162\164" => "\x41\123\x43"); goto ezYAN; ezYAN: $mats = $this->mydb->gets($this->mn, array(array("\155\x61\164\x69\x65\x72\145\x2e\x69\x64" => "\x69\x64"), array("\155\141\x74\151\x65\162\x65\x2e\x6e\x6f\155\137\x63\x6f\x75\162\x74" => "\x6e\157\155\x5f\x63\157\165\x72\x74"), array("\155\141\164\151\145\162\x65\56\x6e\x6f\155\137\154\x6f\x6e\147" => "\156\x6f\x6d\x5f\x6c\x6f\156\147")), $where, $join, $orderby); goto jwZ2F; b2OKG: $join = array("\155\141\164\151\x65\162\145" => array("\151\156\156\145\162" => array("\155\141\164\x69\145\162\x65", "\151\144"))); goto VcGRj; jwZ2F: if (!empty($mats)) { $d = $mats; } goto AGxQ4; AGxQ4: return $d; goto Z4Bi8; Z4Bi8: } public function get_prof_mats($id) { goto ITVQG; t742K: $count = $this->mydb->count($this->phm, $where, $join); goto Fb9Sj; SCvlg: return $d; goto WdbaS; zeN_e: $d["\164\157\164\x61\154"] = $count; goto j1iQZ; Fb9Sj: $page = pager($count); goto p1bak; qvwZk: if (!empty($mats)) { $d["\163\x75\x62\x6a\145\x63\x74\163"] = $mats; } goto SCvlg; PWi3M: $join = array("\x6d\x61\x74\x69\x65\x72\145" => array("\151\156\156\145\x72" => array("\155\141\164\151\x65\162\x65", "\x69\x64"))); goto t742K; J0Zs3: $where = array("\160\x72\x6f\x66\137\x68\x61\163\x5f\x6d\141\x74\x2e\x70\145\162\x73\157\x6e\156\x65\154" => $id, "\160\162\x6f\146\137\150\141\x73\x5f\x6d\x61\164\56\163\164\x61\164\x75\x73" => 0, $this->table . "\56\163\x74\141\164\165\163" => 0); goto PWi3M; p1bak: $d["\x6e\x62\x70\141\x67\145\163"] = $page->nbpages; goto YrQFQ; YrQFQ: $d["\143\165\162\x72\145\156\x74"] = $page->current; goto zeN_e; lJpBn: $orderby = array("\x6d\x61\x74\x69\x65\x72\145\56\156\x6f\155\137\x63\157\x75\162\x74" => "\101\123\x43"); goto PIyWl; PIyWl: $limit = array($page->start, $page->epp); goto EpSFN; j1iQZ: $d["\145\x70\160"] = $page->epp; goto lJpBn; EpSFN: $mats = $this->mydb->gets($this->phm, array(array("\x6d\x61\x74\x69\x65\x72\x65\x2e\151\144" => "\151\144"), array("\155\x61\x74\151\145\x72\x65\x2e\x6e\x6f\x6d\x5f\x63\x6f\165\162\x74" => "\x6e\157\155\137\x63\157\x75\x72\164"), array("\x6d\x61\x74\151\145\x72\145\56\x6e\x6f\155\x5f\154\x6f\x6e\147" => "\156\x6f\155\x5f\x6c\157\156\147")), $where, $join, $orderby, $limit); goto qvwZk; ITVQG: $d = array(); goto J0Zs3; WdbaS: } public function get_class_mats($id) { goto XuAqf; iFgtm: $orderby = array("\155\x61\164\x69\145\x72\145\56\156\x6f\155\x5f\x63\157\165\162\164" => "\101\123\103"); goto SRJU7; XuAqf: $d = array(); goto uDbVR; fJBfP: return $d; goto A8ET6; SRJU7: $limit = array($page->start, $page->epp); goto YL2dJ; PWsxt: $d["\143\165\x72\162\145\156\x74"] = $page->current; goto uDR98; ihuSb: $page = pager($count); goto Q07WB; uDR98: $d["\164\x6f\164\x61\154"] = $count; goto iYEGm; YL2dJ: $mats = $this->mydb->gets($this->chm, array(array("\143\x6c\141\x73\163\145\x5f\150\141\x73\137\155\141\164\x2e\151\144" => "\x63\150\155"), array("\x6d\x61\164\x69\145\162\145\56\151\144" => "\x69\144"), array("\x6d\x61\x74\x69\x65\x72\145\56\156\157\155\x5f\143\x6f\165\162\x74" => "\156\157\x6d\137\143\x6f\165\x72\x74"), array("\155\x61\x74\151\145\162\x65\56\156\157\155\x5f\x6c\157\156\147" => "\156\x6f\x6d\137\154\157\156\147"), array("\x63\154\x61\x73\x73\x65\x5f\150\x61\x73\137\x6d\141\x74\56\143\157\145\146" => "\x63\157\145\146"), array("\x63\x6c\x61\x73\x73\145\x5f\x68\141\x73\x5f\155\141\x74\x2e\155\141\x74\151\x65\162\x65\137\x74\x79\160\x65" => "\155\x61\164\151\x65\162\145\137\164\x79\x70\x65"), array("\x6d\x61\x74\x69\x65\162\145\137\x74\171\160\145\56\x6e\x6f\x6d" => "\x74\x79\x70\x65"), array("\160\145\x72\x73\x6f\x6e\x6e\145\x6c\x2e\x69\x64" => "\x70\162\x6f\146\x69\144"), array("\x70\145\162\163\157\156\156\145\x6c\56\143\x69\166\x69\154\151\164\145" => "\143\151\166\x69\x6c\x69\x74\x65"), array("\160\x65\x72\x73\157\156\156\145\154\x2e\156\x6f\x6d" => "\x6e\157\x6d"), array("\x70\x65\x72\163\x6f\156\x6e\x65\x6c\56\x70\x72\x65\x6e\x6f\155\163" => "\x70\162\x65\x6e\x6f\155\x73"), array("\x70\x65\x72\163\x6f\156\x6e\145\x6c\56\x6e\157\155\137\152\x65\165\156\x65\137\146\x69\x6c\x6c\145" => "\156\x6f\155\137\152\x65\165\156\x65\x5f\x66\151\154\x6c\145"), array("\160\145\162\x73\157\156\x6e\145\x6c\x2e\163\x65\x78\145" => "\x73\x65\x78\145")), $where, $join, $orderby, $limit); goto A_C6B; kzM_j: $count = $this->mydb->count($this->chm, $where, $join); goto ihuSb; iYEGm: $d["\145\160\160"] = $page->epp; goto iFgtm; A_C6B: if (!empty($mats)) { $d["\163\x75\142\152\x65\143\x74\163"] = $mats; } goto fJBfP; uDbVR: $where = array("\143\154\x61\163\163\x65\x5f\x68\x61\163\x5f\x6d\141\x74\56\x63\154\x61\x73\163\145" => $id, "\143\154\x61\x73\x73\x65\137\150\141\163\137\155\141\164\x2e\x73\164\141\164\165\163" => 0, $this->table . "\x2e\x73\x74\x61\x74\x75\163" => 0); goto DpjKm; DpjKm: $join = array("\155\x61\x74\x69\145\x72\x65" => array("\x69\x6e\x6e\145\x72" => array("\155\x61\164\x69\x65\x72\x65", "\151\x64")), "\160\145\162\163\157\156\156\145\x6c" => array("\151\x6e\x6e\145\x72" => array("\x70\145\162\x73\x6f\156\156\x65\x6c", "\151\144")), "\x6d\x61\x74\x69\145\162\x65\x5f\164\171\160\x65" => array("\151\x6e\156\x65\x72" => array("\155\141\x74\151\145\162\145\x5f\x74\x79\160\145", "\151\x64"))); goto kzM_j; Q07WB: $d["\x6e\142\x70\x61\x67\x65\163"] = $page->nbpages; goto PWsxt; A8ET6: } public function get_class_mats_list($id) { goto jpw80; yqVSi: $mats = $this->mydb->gets($this->chm, array(array("\x63\154\x61\163\163\145\x5f\150\141\163\x5f\x6d\x61\164\56\151\x64" => "\x63\150\x6d"), array("\x6d\141\164\x69\x65\162\x65\56\x69\x64" => "\x69\144"), array("\x6d\x61\x74\x69\x65\162\145\x2e\x6e\157\x6d\137\143\x6f\165\x72\x74" => "\x6e\157\x6d\137\x63\x6f\165\162\164"), array("\155\x61\164\x69\145\x72\x65\56\156\157\x6d\137\154\157\x6e\147" => "\x6e\157\155\x5f\154\157\156\147"), array("\x63\x6c\141\163\x73\x65\x5f\150\x61\163\137\155\141\164\56\x63\157\x65\x66" => "\143\x6f\x65\146"), array("\143\154\141\163\163\145\137\150\141\x73\137\x6d\x61\x74\x2e\x6d\141\x74\151\145\x72\x65\x5f\164\171\x70\145" => "\155\x61\164\x69\x65\x72\145\137\164\x79\x70\x65"), array("\x6d\x61\164\x69\x65\162\x65\x5f\x74\x79\160\145\56\156\x6f\x6d" => "\x74\x79\160\145"), array("\160\x65\x72\x73\x6f\156\x6e\x65\154\x2e\151\x64" => "\160\162\157\146\151\x64"), array("\160\145\162\163\157\x6e\x6e\x65\x6c\56\143\151\x76\x69\154\x69\164\x65" => "\143\x69\166\151\154\x69\x74\x65"), array("\160\x65\162\x73\x6f\156\x6e\x65\x6c\x2e\x6e\157\x6d" => "\156\x6f\x6d"), array("\160\x65\162\163\157\x6e\156\x65\x6c\x2e\x70\162\145\x6e\x6f\155\163" => "\160\162\x65\156\x6f\155\163"), array("\160\x65\162\163\x6f\156\x6e\x65\x6c\x2e\156\x6f\155\137\x6a\145\165\156\x65\137\x66\x69\x6c\154\x65" => "\x6e\x6f\155\137\152\145\x75\156\x65\x5f\x66\151\154\154\x65"), array("\160\145\x72\163\x6f\x6e\x6e\x65\x6c\56\x73\x65\x78\145" => "\x73\145\170\145")), $where, $join, $orderby); goto Crbiu; dtxNw: $orderby = array("\155\141\x74\151\x65\x72\145\56\x6e\157\x6d\x5f\x63\157\x75\162\x74" => "\101\123\103"); goto yqVSi; Xbv7r: $where = array("\143\154\141\x73\x73\145\x5f\x68\141\163\x5f\155\x61\164\56\x63\x6c\x61\163\x73\145" => $id, "\x63\x6c\141\x73\x73\x65\x5f\x68\x61\x73\137\x6d\x61\164\56\163\x74\141\x74\x75\163" => 0, $this->table . "\56\163\x74\141\164\x75\x73" => 0); goto b9Hp7; YRSip: return $d; goto lU26z; b9Hp7: $join = array("\x6d\x61\164\151\145\162\x65" => array("\151\x6e\x6e\145\x72" => array("\155\x61\x74\x69\145\x72\x65", "\151\x64")), "\x70\x65\x72\x73\157\x6e\x6e\145\154" => array("\151\x6e\x6e\x65\x72" => array("\160\x65\162\163\157\156\x6e\145\x6c", "\151\144")), "\155\141\x74\151\x65\x72\x65\137\164\171\x70\145" => array("\x69\x6e\156\145\x72" => array("\x6d\141\x74\151\145\x72\x65\x5f\x74\171\x70\145", "\151\144"))); goto dtxNw; Crbiu: if (!empty($mats)) { $d = $mats; } goto YRSip; jpw80: $d = array(); goto Xbv7r; lU26z: } public function get_mats_to_level($id) { $d = $this->mydb->custom_get("\123\x45\x4c\x45\103\x54\40\x2a\40\106\x52\x4f\115\40\x6d\x61\x74\151\x65\x72\145\40\x57\110\105\122\x45\40\x6d\141\164\151\145\x72\x65\x2e\151\x64\40\x4e\x4f\x54\x20\x49\116\40\x28\x53\x45\114\105\x43\124\40\x6d\141\x74\151\145\162\145\40\x46\122\x4f\x4d\40\155\141\x74\x69\145\162\145\137\x6e\x69\x76\145\x61\x75\x20\x57\x48\x45\x52\x45\40\x6e\x69\166\145\x61\165\40\75\40{$id}\51\x20\101\116\104\x20\155\x61\x74\x69\x65\x72\x65\56\163\x74\141\164\165\x73\75\x30"); return $d; } public function get_mats_level_id($mat, $id) { goto WEaOe; ILwmj: $matid = $this->mydb->get($this->mn, array("\x69\x64"), array("\x6e\x69\x76\145\141\x75" => $id, "\155\x61\x74\x69\x65\x72\145" => $mat)); goto ipRXS; WEaOe: $d = false; goto ILwmj; z38xD: return $d; goto fX3b4; ipRXS: if (!empty($matid)) { $d = $matid->id; } goto z38xD; fX3b4: } public function get_mats_to_prof($id) { $d = $this->mydb->custom_get("\x53\x45\114\105\103\124\x20\x2a\x20\106\122\x4f\115\x20\x6d\x61\x74\x69\x65\x72\x65\40\x57\x48\x45\x52\105\x20\x6d\x61\x74\x69\145\162\145\56\151\144\40\116\x4f\x54\40\x49\116\40\x28\123\x45\114\x45\103\x54\x20\155\x61\164\x69\145\162\x65\40\106\x52\x4f\x4d\40\160\x72\157\x66\137\x68\x61\x73\137\155\141\x74\x20\127\110\x45\122\x45\x20\160\145\x72\x73\157\x6e\156\x65\x6c\x20\75\40{$id}\x29\x20\101\116\104\x20\155\141\x74\151\x65\x72\145\56\x73\164\141\164\165\x73\75\60"); return $d; } public function get_mats_to_classe($id, $niveau) { $d = $this->mydb->custom_get("\x53\105\114\x45\103\x54\40\x6d\x61\164\151\145\x72\x65\56\x69\144\40\101\x53\40\151\x64\x2c\40\155\x61\x74\x69\145\x72\x65\x2e\156\x6f\x6d\x5f\x63\x6f\x75\162\x74\x20\101\x53\x20\x6e\157\155\137\x63\x6f\165\x72\x74\54\40\x6d\141\x74\x69\145\162\145\56\x6e\x6f\155\137\154\157\156\x67\40\x41\x53\x20\x6e\x6f\155\x5f\x6c\x6f\156\x67\x20\106\x52\x4f\x4d\40\155\141\x74\151\x65\x72\145\40\111\x4e\x4e\x45\122\x20\112\x4f\111\116\x20\x6d\141\x74\151\x65\162\145\137\156\151\x76\x65\141\165\40\117\x4e\x20\155\141\164\151\145\162\145\56\151\x64\x3d\x6d\141\164\151\145\x72\145\x5f\156\151\x76\x65\x61\x75\56\x6d\141\x74\x69\145\162\145\40\127\x48\105\x52\105\x20\155\x61\164\x69\145\x72\x65\137\156\151\166\145\x61\165\56\156\151\x76\x65\x61\165\75{$niveau}\x20\101\116\x44\40\x6d\141\x74\151\145\162\145\x2e\163\164\141\164\x75\x73\x3d\60\40\x41\x4e\104\40\155\x61\164\x69\145\162\145\x2e\151\x64\x20\116\117\124\40\111\x4e\x20\50\123\x45\114\x45\103\x54\40\x6d\x61\x74\151\145\x72\145\x20\106\122\117\115\x20\143\x6c\x61\x73\x73\145\137\150\x61\163\137\x6d\141\x74\40\127\110\x45\122\105\x20\x63\154\x61\x73\163\x65\x20\x3d\40{$id}\x29\x20\117\x52\104\105\122\x20\x42\131\40\156\x6f\155\x5f\x63\157\x75\x72\164\x20\x41\123\103"); return $d; } public function get_types() { $d = $this->mydb->gets("\155\141\164\151\145\x72\x65\137\164\x79\160\145"); return $d; } public function get_mats_profs($id) { goto kBOnv; m7NXC: if (!empty($profs)) { $d = $profs; } goto dG9SY; b3Zn1: $profs = $this->mydb->gets("\x70\162\157\146\x5f\150\141\x73\137\x6d\x61\x74", array(array("\x70\145\x72\x73\157\x6e\156\145\154\x2e\151\144" => "\151\x64"), array("\x70\x65\162\163\157\x6e\x6e\x65\x6c\56\143\x69\166\151\x6c\151\x74\145" => "\143\x69\166\x69\154\x69\164\x65"), array("\x70\x65\x72\163\157\156\156\145\154\56\x6e\x6f\155" => "\x6e\x6f\155"), array("\160\x65\x72\163\157\156\x6e\x65\x6c\56\160\x72\x65\156\157\155\163" => "\160\x72\145\156\x6f\155\x73"), array("\x70\x65\162\x73\x6f\x6e\156\145\x6c\x2e\x6e\157\155\137\x6a\145\x75\156\145\x5f\146\x69\x6c\154\145" => "\x6e\x6f\155\x5f\x6a\145\x75\156\x65\x5f\146\151\154\x6c\x65"), array("\x70\145\162\163\x6f\x6e\156\x65\x6c\x2e\163\x65\170\145" => "\x73\x65\x78\x65")), $where, $join); goto m7NXC; kBOnv: $d = false; goto tbsAS; uJ0h5: $join = array("\x70\x65\x72\x73\x6f\x6e\156\x65\x6c" => array("\x69\x6e\x6e\145\162" => array("\x70\x65\162\x73\157\156\156\145\x6c", "\151\144"))); goto b3Zn1; dG9SY: return $d; goto gPf5I; tbsAS: $where = array("\160\x72\x6f\146\x5f\x68\141\163\x5f\x6d\x61\164\x2e\x6d\x61\164\x69\145\x72\145" => $id, "\x70\145\x72\163\157\x6e\156\x65\x6c\x2e\x73\x74\x61\x74\x75\x73" => 0); goto uJ0h5; gPf5I: } public function get_chm($id) { goto MWRbq; MWRbq: $d = false; goto VacbT; HgwJZ: return $d; goto ao6lT; VacbT: $chm = $this->mydb->get($this->chm, '', array("\x69\144" => $id)); goto EkGU2; EkGU2: if (!empty($chm)) { $chm->profs = $this->get_mats_profs($chm->matiere); $d = $chm; } goto HgwJZ; ao6lT: } public function get_chm_info($id) { goto izjsb; Vyhrn: if (!empty($chm)) { $chm->profs = $this->get_mats_profs($chm->id); $d = $chm; } goto VDhBi; izjsb: $d = false; goto HCDFL; HCDFL: $chm = $this->mydb->get($this->chm, array(array("\x6d\x61\x74\x69\x65\162\145\x2e\x69\x64" => "\x69\144"), array("\155\141\x74\x69\x65\162\145\56\156\x6f\155\x5f\x63\x6f\165\x72\164" => "\x6e\x6f\155\x5f\x63\x6f\x75\162\x74"), array("\x6d\x61\164\151\145\x72\145\x2e\156\x6f\x6d\x5f\154\x6f\156\147" => "\156\157\155\x5f\154\157\x6e\x67")), array("\x63\x6c\x61\x73\x73\145\x5f\150\141\163\137\x6d\x61\164\x2e\151\x64" => $id, "\x6d\141\x74\151\x65\162\145\x2e\x73\x74\x61\164\x75\163" => 0), array("\155\x61\164\151\x65\162\x65" => array("\x69\156\x6e\145\162" => array("\155\141\164\151\x65\x72\145", "\151\144")))); goto Vyhrn; VDhBi: return $d; goto i6l0T; i6l0T: } public function is_class_subject($id, $subject) { goto cEGIA; cEGIA: $d = false; goto WeNYN; DXtDC: if (!empty($check)) { $d = true; } goto DJuOh; DJuOh: return $d; goto bdVvX; WeNYN: $check = $this->mydb->count($this->chm, array("\x63\x6c\x61\x73\163\x65" => $id, "\x6d\x61\164\151\x65\162\145" => $subject)); goto DXtDC; bdVvX: } public function set($nom_court, $nom_long, $description, $matiere_nature, $date, $edit) { goto PAZ69; ICx2M: if ($check == false) { goto xkBdq; xkBdq: $req = array("\x75\163\145\162" => $this->id, "\156\x6f\155\137\143\157\165\162\x74" => $nom_court, "\156\157\155\137\154\x6f\x6e\x67" => $nom_long, "\x6d\141\x74\151\x65\162\x65\x5f\x6e\x61\x74\x75\162\x65" => $matiere_nature, "\144\x65\163\x63\162\x69\160\164\x69\157\x6e" => $description, "\155\157\144\x69\x66\151\x65\x64" => $this->mdate); goto t3uW9; t3uW9: if ($edit != false) { $done = $this->mydb->update($this->table, $req, array("\x69\x64" => $edit)); if ($done) { $id = $edit; } } else { goto ufE5k; CjPmE: if ($done) { $id = $done; } goto W7L9w; SzT1b: $done = $this->mydb->set($this->table, $req); goto CjPmE; ufE5k: $req["\143\162\145\x61\x74\145\x64"] = dte2mysql($date); goto SzT1b; W7L9w: } goto kbpLn; kbpLn: if (isset($id)) { $d["\x65\162\x72\157\x72"] = false; $d["\144\x61\x74\141"] = $id; } else { $d["\145\x72\155\x73\x67"] = "\125\x6e\x65\40\x65\162\162\145\165\x72\x20\151\156\164\145\x72\x6e\145\x20\145\155\160\303\xaa\x63\150\x65\40\154\x27\x65\x6e\x72\145\x67\151\163\164\x72\x65\x6d\x65\156\x74\40\x64\145\163\x20\x64\x6f\x6e\x6e\303\251\x65\163"; } goto PsL_Q; PsL_Q: } else { $d["\x65\x72\x6d\163\x67"] = "\x55\x6e\x65\x20\155\x61\164\x69\xc3\xa8\162\x65\40\145\170\151\x73\164\145\40\x64\xc3\xa9\x6a\303\xa0\x20\141\166\145\143\x20\x63\x65\40\156\x6f\155"; } goto D8lis; D8lis: return $d; goto gpTlE; PAZ69: $d["\x65\x72\162\x6f\x72"] = true; goto Nl4fs; Nl4fs: $check = $this->check_subject($nom_court, $nom_long, $edit); goto ICx2M; gpTlE: } public function set_class_mat($classe, $matiere, $type, $prof, $coef, $edit) { goto GsyZt; bI8Re: return $d; goto Q3wB2; WhZ61: $check = $this->check_class_subject($classe, $matiere, $type, $prof, $edit); goto Ecj14; Ecj14: if ($check == false) { goto DJZPP; rmumd: if ($edit == false) { goto pYYAV; zDeHF: $done = $this->mydb->set($this->chm, $req); goto mujVz; mujVz: if ($done != false) { $id = $done; } goto jA_3g; pYYAV: $req["\143\x72\x65\141\x74\x65\x64"] = $this->mdate; goto zDeHF; jA_3g: } else { $done = $this->mydb->update($this->chm, $req, array("\x69\144" => $edit)); if ($done != false) { $id = $edit; } } goto DuNaj; DJZPP: $req = array("\x75\163\x65\162" => $this->id, "\x63\154\141\x73\x73\145" => $classe, "\x6d\x61\x74\x69\x65\x72\145" => $matiere, "\x6d\x61\x74\x69\x65\162\145\137\x74\171\x70\145" => $type, "\160\x65\x72\x73\157\x6e\x6e\x65\x6c" => $prof, "\143\157\x65\x66" => $coef, "\155\157\144\x69\146\x69\145\144" => $this->mdate); goto rmumd; DuNaj: if (isset($id)) { $d["\x65\x72\x72\157\x72"] = false; $d["\x64\141\x74\x61"] = $id; } else { $d["\x65\162\155\x73\147"] = common_sql_error(); } goto Hz4GS; Hz4GS: } else { $d["\145\x72\155\x73\147"] = "\x43\145\x74\164\x65\x20\x6d\x61\164\x69\303\xa8\162\x65\x20\145\170\151\x73\x74\x65\40\144\303\xa9\x6a\303\xa0\40\144\x61\156\x73\x20\143\x65\164\164\x65\x20\x63\x6c\x61\x73\163\145"; } goto bI8Re; GsyZt: $d["\145\162\162\157\162"] = true; goto WhZ61; Q3wB2: } public function delete($id) { goto LFnS1; LFnS1: $chm = $this->check_usage_classe($id); goto W5Gny; Turi0: return $d; goto V6DOE; W5Gny: if ($chm == false) { $this->delete_phm($id); $d = $this->mydb->delete($this->table, array("\151\x64" => $id)); } else { $d = $this->mydb->update($this->table, array("\163\x74\141\x74\x75\163" => 1), array("\151\x64" => $id)); } goto Turi0; V6DOE: } public function delete_level_mats($id, $level) { goto H2Zsn; aOAMJ: return $d; goto Bv7Hc; aih54: $where = array("\155\141\164\151\145\162\145\137\156\x69\166\145\141\x75\56\156\151\x76\x65\141\x75" => $level, "\x6d\141\164\x69\145\162\x65\137\x6e\151\166\x65\x61\165\x2e\155\x61\x74\x69\145\162\x65" => $id); goto nJPs2; H2Zsn: $d = false; goto aih54; nJPs2: $check = $this->mydb->count("\155\141\x74\x69\145\162\x65\x5f\156\151\166\x65\x61\165", array("\x6d\x61\x74\x69\145\x72\x65\137\156\151\x76\145\141\165\56\x6e\151\166\145\141\165" => $level, "\x6d\141\164\151\145\162\145\x5f\156\x69\x76\145\x61\165\x2e\x6d\x61\164\151\x65\x72\145" => $id, "\156\x6f\164\x65\x2e\x6d\141\x74\151\145\x72\145" => $id), array("\143\x6c\x61\x73\163\x65\x5f\x69\156\151\x74" => array("\x69\156\156\x65\162" => array("\156\151\166\x65\141\x75", "\x6e\151\166\145\x61\x75")), "\x63\x6c\141\x73\x73\145" => array("\x69\x6e\156\x65\x72" => array("\143\x6c\x61\163\163\145\x5f\x69\156\x69\x74\56\x69\144", "\143\x6c\141\x73\x73\145\137\151\156\151\164")), "\156\157\164\145" => array("\151\x6e\x6e\145\x72" => array("\143\154\141\163\163\145\56\151\144", "\143\154\x61\163\163\145")))); goto IihoH; IihoH: if (!empty($check)) { $d = $this->mydb->update($this->mn, array("\163\x74\141\164\x75\163" => 1), $where); } else { $d = $this->mydb->delete($this->mn, $where); } goto aOAMJ; Bv7Hc: } public function delete_classe_mats($id, $mat) { goto ihdIV; J7RMC: if (!empty($check)) { $d = $this->mydb->update($this->chm, array("\x73\x74\141\164\165\163" => 1), $where); } else { $d = $this->mydb->delete($this->chm, $where); } goto o1iEE; ihdIV: $d = false; goto uCgqS; DBQqX: $check = $this->mydb->count("\143\154\x61\163\163\145\137\x68\141\163\137\155\x61\164", array("\x63\154\141\x73\163\x65\137\x68\141\x73\137\155\x61\x74\x2e\143\x6c\x61\x73\x73\x65" => $id, "\x63\154\141\163\x73\x65\137\x68\x61\163\x5f\x6d\x61\164\56\155\x61\164\151\x65\x72\x65" => $mat, "\x6e\x6f\x74\145\x2e\155\x61\164\x69\x65\162\145" => $mat), array("\x6e\157\x74\x65" => array("\x69\156\x6e\x65\162" => array("\x63\154\141\x73\163\145", "\x63\x6c\x61\163\163\x65")))); goto J7RMC; uCgqS: $where = array("\x63\x6c\x61\x73\x73\x65\137\x68\x61\x73\137\x6d\x61\164\56\143\x6c\x61\163\x73\145" => $id, "\143\154\x61\x73\163\x65\x5f\x68\141\163\x5f\x6d\x61\164\56\155\x61\x74\x69\x65\162\145" => $mat); goto DBQqX; o1iEE: return $d; goto vV1kq; vV1kq: } private function check_usage_classe($id) { goto TE_w6; bo83k: $check = $this->mydb->count($this->chm, array("\155\141\x74\x69\145\162\x65" => $id)); goto WSgdf; WSgdf: if (!empty($check)) { $d = true; } goto O6ni4; O6ni4: return $d; goto VCPKb; TE_w6: $d = false; goto bo83k; VCPKb: } private function check_usage_classe_an($id) { goto dpSbB; dpSbB: $d = false; goto KgkBx; ldeCe: return $d; goto alT7d; GeKEo: if (!empty($an)) { $check = $this->mydb->count($this->chm, array("\x61\x6e" => $an->id, "\x6d\141\x74\x69\145\162\145" => $id)); if (!empty($check)) { $d = true; } } goto ldeCe; KgkBx: $an = $this->utils->get_an(); goto GeKEo; alT7d: } private function check_usage_prof($id) { goto gdpXN; Y4h4l: $check = $this->mydb->count($this->phm, array("\x6d\x61\164\x69\x65\x72\145" => $id)); goto mr1FN; gdpXN: $d = false; goto Y4h4l; mr1FN: if (!empty($check)) { $d = true; } goto Byh9Q; Byh9Q: return $d; goto Crwgo; Crwgo: } private function check_usage_prof_an($id) { goto Pu1BA; Pu1BA: $d = false; goto noq3B; xr9hS: if (!empty($an)) { $check = $this->mydb->count($this->phm, array("\141\x6e" => $an->id, "\155\x61\164\151\145\162\x65" => $id)); if (!empty($check)) { $d = true; } } goto DJVXI; DJVXI: return $d; goto QcXAL; noq3B: $an = $this->utils->get_an(); goto xr9hS; QcXAL: } private function delete_chm($id) { return $this->mydb->delete($this->chm, array("\x6d\x61\164\x69\x65\x72\x65" => $id)); } private function delete_phm($id) { return $this->mydb->delete($this->phm, array("\155\141\164\x69\145\x72\x65" => $id)); } private function check_class_subject($classe, $matiere, $type, $prof, $edit) { goto b3eOj; XR7Gh: return $d; goto lkQPZ; b3eOj: $d = false; goto zTf6j; a17ri: if ($edit != false) { $where["\x69\x64"] = array("\x3c\x3e" => $edit); } goto kUX8T; kUX8T: $check = $this->mydb->count($this->chm, $where); goto vzVT8; vzVT8: if (!empty($check)) { $d = true; } goto XR7Gh; zTf6j: $where = array("\143\x6c\141\x73\x73\x65" => $classe, "\155\141\x74\151\145\x72\x65" => $matiere, "\x6d\x61\x74\x69\x65\162\x65\137\x74\171\x70\x65" => $type, "\160\145\x72\x73\x6f\156\156\x65\154" => $prof); goto a17ri; lkQPZ: } private function check_subject($nom_court, $nom_long, $edit = false) { goto ZrW6O; ZrW6O: $d = false; goto nnSt5; H851O: if ($edit != false) { $where["\151\x64"] = array("\x3c\x3e" => $edit); } goto Hd10S; Hd10S: $check = $this->mydb->count($this->table, $where); goto hZd4U; hZd4U: if (!empty($check)) { $d = true; } goto zf3b2; zf3b2: return $d; goto CBAPB; nnSt5: $where = array("\x6e\157\155\x5f\143\157\165\162\x74" => $nom_court, "\156\157\x6d\x5f\x6c\157\x6e\147" => $nom_long); goto H851O; CBAPB: } }
