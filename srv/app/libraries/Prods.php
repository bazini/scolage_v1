<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:18              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\101\x53\x45\x50\x41\x54\110") or exit("\116\x6f\40\x64\x69\x72\x65\143\164\x20\x73\143\162\151\160\164\40\x61\143\143\x65\163\163\x20\141\x6c\x6c\157\x77\145\x64"); class Prods { protected $CI; private $table; private $mydb; private $utils; private $mdate; private $va; private $st; private $id; public function __construct() { goto JFP3Z; CxtIJ: $this->std =& $this->CI->std; goto FKUgY; JFP3Z: $this->CI =& get_instance(); goto SbaZo; SbaZo: $this->mydb =& $this->CI->mydb; goto uVu6c; apAcm: $this->table = "\141\162\x74\151\x63\x6c\x65"; goto EwwNp; EwwNp: $this->va = "\166\x65\156\x74\x65\x5f\x61\162\x74\x69\143\154\x65"; goto OTt1g; uVu6c: $this->utils =& $this->CI->utilitaire; goto CxtIJ; OTt1g: $this->id = $this->CI->session->userdata("\x69\144"); goto XwjCV; FKUgY: $this->mdate = gmdate("\131\55\155\55\x64\x20\x48\x3a\151\x3a\x73"); goto apAcm; XwjCV: } public function index() { goto t7C9q; t7C9q: $d = 0; goto Sb706; Sb706: $an = $this->utils->get_an(); goto bQF2E; H2Dqa: return $d; goto o2ZRL; bQF2E: if (!empty($an)) { $mont = $this->mydb->get($this->table, array(array("\123\125\115\50\x6d\157\156\x74\141\x6e\x74\51" => "\x6d\157\156\164\x61\156\164")), array("\141\x6e" => $an->id)); if (!empty($mont)) { $d = $mont->montant; } } goto H2Dqa; o2ZRL: } public function gets() { goto tF9v6; FNOSi: $d["\156\x62\x70\141\147\x65\163"] = $page->nbpages; goto YIz_4; D6zGE: $count = $this->mydb->count($this->table, $where, $join); goto XFTy0; CIzBp: $join = array("\x63\x61\x74\x65\147\157\162\x79" => array("\151\x6e\x6e\x65\x72" => array("\143\141\x74\145\x67\x6f\162\171", "\151\144"))); goto D6zGE; BAw3c: $d["\x70\x72\157\144\x73"] = $this->mydb->gets($this->table, $req, $where, $join, $orderby, $limit); goto uJdmV; NGXtJ: $d["\164\157\x74\x61\154"] = $count; goto Q4oZh; XFTy0: $page = pager($count); goto FNOSi; uJdmV: return $d; goto X27x5; YIz_4: $d["\x63\x75\x72\162\x65\156\x74"] = $page->current; goto NGXtJ; wQzp6: $req = array(array("\141\x72\164\151\x63\x6c\145\56\x69\144" => "\151\x64"), array("\141\162\x74\151\143\x6c\145\56\x6e\x6f\155" => "\156\x6f\x6d"), array("\x61\x72\164\151\143\x6c\x65\x2e\x70\162\151\x78" => "\x70\162\151\x78"), array("\x61\162\164\151\x63\x6c\x65\56\x64\x65\163\143\x72\x69\x70\164\151\x6f\156" => "\x64\145\x73\x63\x72\151\x70\x74\151\x6f\156"), array("\x61\x72\x74\x69\x63\x6c\x65\x2e\155\157\x64\x69\146\x69\x65\x64" => "\144\x61\x74\145"), array("\143\x61\x74\145\x67\x6f\x72\171\56\x6e\x6f\x6d" => "\x63\141\164\x65\147\157\x72\x79")); goto BAw3c; ZcWI0: $where = array("\141\x72\x74\x69\143\154\x65\x2e\x73\164\141\x74\165\x73" => 0); goto CIzBp; I1p9J: $orderby = array("\141\x72\164\x69\143\x6c\x65\x2e\x69\x64" => "\104\x45\123\x43"); goto A5G7o; A5G7o: $limit = array($page->start, $page->epp); goto wQzp6; tF9v6: $d = array(); goto ZcWI0; Q4oZh: $d["\x65\x70\x70"] = $page->epp; goto I1p9J; X27x5: } public function liste() { goto jGb3O; YE1Yu: $prods = $this->mydb->gets($this->table, $req, $where, $join); goto Qr1uh; q3hc5: $req = array(array("\141\162\x74\x69\x63\154\145\x2e\151\144" => "\151\144"), array("\x61\x72\x74\151\143\154\x65\56\x6e\x6f\x6d" => "\156\x6f\x6d"), array("\x61\x72\x74\151\x63\154\145\x2e\x70\x72\x69\170" => "\160\x72\x69\x78"), array("\141\162\x74\151\143\154\x65\x2e\144\x65\x73\143\162\151\x70\x74\x69\157\156" => "\144\x65\x73\x63\x72\x69\x70\x74\x69\157\x6e"), array("\x61\162\x74\151\143\154\x65\56\155\x6f\x64\151\146\x69\x65\144" => "\144\141\164\x65"), array("\x63\141\164\x65\147\x6f\x72\x79\x2e\x6e\157\155" => "\143\141\164\x65\x67\x6f\162\171")); goto YE1Yu; BF4ol: $where = array("\141\162\164\151\143\154\x65\x2e\x73\x74\141\x74\x75\x73" => 0); goto rfV6r; jGb3O: $d = array(); goto BF4ol; Qr1uh: if (!empty($prods)) { $d = $prods; } goto udot8; rfV6r: $join = array("\x63\141\164\x65\x67\x6f\x72\171" => array("\x69\x6e\156\x65\x72" => array("\x63\141\x74\x65\x67\x6f\162\171", "\x69\x64"))); goto q3hc5; udot8: return $d; goto M5syM; M5syM: } public function get($id) { goto JnC3d; Ibig2: $dep = $this->mydb->get($this->table, '', array("\151\144" => $id)); goto doR4N; JnC3d: $d = false; goto Ibig2; doR4N: if (!empty($dep)) { $d = $dep; } goto pn7Eg; pn7Eg: return $d; goto SrVyE; SrVyE: } public function get_ventes() { goto Do2tq; gunYl: $an = $this->utils->get_an(); goto tQ1fd; Do2tq: $d = array(); goto gunYl; Z2WQh: return $d; goto igABM; tQ1fd: if (!empty($an)) { goto He8AR; gSWEj: $d["\x74\x6f\164\141\x6c"] = $count; goto YisWb; md5Op: $page = pager($count); goto sGW1q; ctEkj: $limit = array($page->start, $page->epp); goto gkDwl; gkDwl: $req = array(array("\x76\145\156\x74\x65\137\141\162\x74\x69\143\154\x65\56\151\144" => "\151\x64"), array("\x61\162\x74\151\143\154\x65\56\x69\144" => "\x61\162\164\x69\143\x6c\x65"), array("\141\x72\164\x69\143\x6c\x65\x2e\156\157\x6d" => "\x6e\157\155"), array("\x61\x72\x74\x69\143\154\145\56\x70\x72\x69\x78" => "\x70\x72\151\170"), array("\145\154\145\x76\145\x2e\x6e\x6f\155" => "\145\x6c\x6e\157\155"), array("\145\154\145\166\x65\x2e\160\162\x65\x6e\x6f\x6d\x73" => "\x65\154\x70\x72\x65\x6e\x6f\x6d\163"), array("\145\x6c\x65\x76\145\x2e\x73\145\x78\x65" => "\145\x6c\x73\145\170\x65"), array("\166\x65\156\x74\x65\137\x61\x72\x74\151\143\x6c\145\x2e\145\x6c\145\x76\145" => "\x65\x6c\145\x76\145"), array("\x76\x65\x6e\x74\145\137\x61\162\x74\x69\x63\154\145\56\x71\164\145" => "\161\x74\145"), array("\143\141\164\x65\x67\157\162\x79\56\x6e\x6f\155" => "\x63\x61\x74\145\x67\x6f\x72\x79"), array("\x76\145\156\x74\145\137\141\x72\164\x69\143\x6c\145\x2e\155\x6f\144\151\x66\151\x65\x64" => "\x64\141\164\x65")); goto Z8AMF; oXd_2: $data = array(); goto h0s7t; FAQQ9: $count = $this->mydb->count($this->va, $where, $join); goto md5Op; WRuN3: $join = array("\x65\154\x65\x76\x65" => array("\x69\156\156\x65\162" => array("\x65\x6c\145\x76\x65", "\151\x64")), "\141\x72\164\x69\x63\154\145" => array("\x69\156\x6e\x65\x72" => array("\x61\x72\164\x69\x63\x6c\145", "\151\144")), "\x63\141\164\145\x67\157\162\171" => array("\151\x6e\156\x65\162" => array("\x61\162\164\151\x63\x6c\145\x2e\143\x61\164\x65\147\x6f\162\x79", "\x69\144"))); goto FAQQ9; sGW1q: $d["\x6e\142\160\141\x67\x65\163"] = $page->nbpages; goto OP_7d; IvzhD: $orderby = array("\166\x65\x6e\164\145\x5f\141\x72\x74\151\143\x6c\145\56\151\144" => "\x44\105\x53\103"); goto ctEkj; Z8AMF: $prods = $this->mydb->gets($this->va, $req, $where, $join, $orderby, $limit); goto oXd_2; d6fb0: $d["\x76\145\156\164\x65\163"] = $data; goto c1gOV; YisWb: $d["\x65\160\x70"] = $page->epp; goto IvzhD; He8AR: $where = array("\x76\145\156\164\145\x5f\x61\162\164\x69\x63\x6c\x65\x2e\x61\x6e" => $an->id); goto WRuN3; h0s7t: if (!empty($prods)) { foreach ($prods as $p) { goto f7j5D; Dvx7S: $p->name = ucfirst($p->elnom) . "\40" . ucfirst($p->elprenoms); goto pXbBn; t7NIH: array_push($data, $p); goto ThB0k; xGmhd: $p->classe = $el->classe_nom; goto Dvx7S; f7j5D: $el = $this->std->get($p->eleve); goto xGmhd; pXbBn: $p->date = mysql2date($p->date); goto t7NIH; ThB0k: } } goto d6fb0; OP_7d: $d["\x63\165\x72\x72\x65\x6e\x74"] = $page->current; goto gSWEj; c1gOV: } goto Z2WQh; igABM: } public function get_vente($id) { goto xPHV2; ASFPs: if (!empty($vte)) { goto oviMW; oviMW: $el = $this->std->get($vte->eleve); goto pYG1v; pYG1v: $vte->classe = $el->classe_nom; goto cD6ZW; cD6ZW: $vte->name = ucfirst($vte->elnom) . "\x20" . ucfirst($vte->elprenoms); goto w_WYd; w_WYd: $d = $vte; goto EMahu; EMahu: } goto CExOM; CExOM: return $d; goto xBaoM; OybSb: $req = array(array("\x76\x65\156\x74\145\137\x61\x72\x74\151\143\154\x65\x2e\165\x73\145\162" => "\165\163\145\x72"), array("\166\x65\x6e\164\x65\137\x61\162\164\151\x63\154\145\x2e\151\x64" => "\x69\144"), array("\141\x72\x74\151\143\154\x65\56\151\x64" => "\141\x72\x74\x69\143\154\145"), array("\x61\162\164\x69\143\x6c\x65\56\156\x6f\155" => "\156\157\x6d"), array("\141\162\x74\151\x63\154\145\56\160\x72\x69\x78" => "\x70\162\x69\x78"), array("\145\x6c\145\166\145\x2e\x6e\x6f\x6d" => "\145\154\x6e\x6f\x6d"), array("\145\x6c\145\x76\145\56\x70\x72\x65\x6e\157\155\163" => "\145\x6c\160\162\145\x6e\157\155\x73"), array("\x65\154\145\166\x65\x2e\163\x65\x78\145" => "\145\154\x73\x65\x78\x65"), array("\x76\x65\x6e\164\x65\137\x61\x72\x74\151\143\154\x65\56\145\x6c\x65\x76\x65" => "\145\154\145\166\x65"), array("\x76\x65\156\164\x65\x5f\141\x72\x74\x69\143\154\145\x2e\x71\x74\x65" => "\x71\x74\145"), array("\x63\x61\164\145\147\157\x72\x79\x2e\x6e\157\155" => "\143\141\164\x65\147\157\x72\x79"), array("\x76\145\x6e\164\x65\137\x61\162\164\x69\143\x6c\x65\x2e\155\x6f\144\151\146\x69\145\144" => "\144\x61\x74\x65")); goto ip6bN; xPHV2: $d = false; goto PB5WK; TS1er: $where = array("\x76\x65\156\164\145\x5f\141\162\164\151\x63\154\x65\x2e\151\144" => $id); goto OybSb; PB5WK: $join = array("\145\154\x65\166\145" => array("\x69\156\x6e\145\162" => array("\145\154\x65\x76\x65", "\151\x64")), "\x61\x72\164\x69\143\x6c\x65" => array("\151\156\156\145\x72" => array("\141\x72\x74\x69\143\x6c\x65", "\x69\144")), "\x63\x61\164\145\x67\x6f\162\x79" => array("\151\x6e\156\x65\162" => array("\x61\x72\x74\x69\143\154\145\x2e\x63\x61\x74\x65\x67\x6f\162\x79", "\x69\x64"))); goto TS1er; ip6bN: $vte = $this->mydb->get($this->va, $req, $where, $join); goto ASFPs; xBaoM: } public function set($cat, $nom, $prix, $description, $edit) { goto fbgPF; Muea_: if (!empty($an)) { $check = $this->check($cat, $nom, $edit); if ($check == false) { goto Ei5Vz; heH2P: if ($edit == false) { $done = $this->mydb->set($this->table, $req); if ($done) { $id = $done; } } else { $done = $this->mydb->update($this->table, $req, array("\x69\144" => $edit)); if ($done) { $id = $edit; } } goto f8gUp; Ei5Vz: $req = array("\165\x73\145\x72" => $this->id, "\141\156" => $an->id, "\x63\141\x74\x65\147\157\x72\x79" => $cat, "\156\157\155" => $nom, "\x70\162\151\x78" => $prix, "\144\x65\163\x63\x72\x69\x70\164\x69\157\x6e" => $description, "\155\157\x64\x69\146\151\145\x64" => $this->mdate); goto heH2P; f8gUp: if (isset($id)) { $d["\x65\162\162\157\162"] = false; $d["\x64\x61\164\x61"] = $id; } else { $d["\x65\x72\x6d\x73\x67"] = common_sql_error(); } goto Mn0cJ; Mn0cJ: } else { $d["\x65\162\155\163\x67"] = "\x55\156\x20\x61\162\164\x69\x63\154\145\40\x65\x78\151\x73\x74\x65\40\144\303\xa9\152\xc3\xa0\x20\x61\166\145\x63\x20\x63\145\40\x6e\x6f\155\x20\x64\x61\156\x73\x20\154\141\x20\x6d\303\252\x6d\145\40\x63\x61\x74\xc3\251\147\157\162\x69\145"; } } else { $d["\145\162\155\x73\147"] = "\114\x27\141\x6e\x6e\xc3\251\x65\40\x73\143\x6f\154\x61\151\162\145\40\156\x27\145\163\x74\40\160\x61\163\x20\x64\xc3\xa9\x66\151\x6e\x69\145"; } goto AnV5I; AnV5I: return $d; goto MsxT9; fbgPF: $d["\145\x72\x72\x6f\x72"] = true; goto L1GcV; L1GcV: $an = $this->utils->get_an(); goto Muea_; MsxT9: } public function vente($prod, $std, $qte, $edit) { goto polI5; C0aMs: $an = $this->utils->get_an(); goto w_L4G; w_L4G: if (!empty($an)) { goto qu61J; qu61J: $req = array("\165\163\145\162" => $this->id, "\141\156" => $an->id, "\x61\162\164\151\x63\154\145" => $prod, "\145\x6c\145\x76\x65" => $std, "\161\164\145" => $qte); goto weh8a; weh8a: if ($edit == false) { $done = $this->mydb->set($this->va, $req); if (!empty($done)) { $id = $done; } } else { goto Dbmam; A7TIH: $done = $this->mydb->update($this->va, $req, array("\x69\144" => $edit)); goto YF5DV; YF5DV: if ($done) { $id = $edit; } goto pwv8P; Dbmam: $req["\x6d\x6f\x64\151\x66\x69\x65\x64"] = $this->mdate; goto A7TIH; pwv8P: } goto yMlFJ; yMlFJ: if (isset($id)) { $d["\x65\162\x72\157\x72"] = false; $d["\144\141\x74\x61"] = $id; } else { $d["\145\162\x6d\x73\x67"] = common_sql_error(); } goto NqZSo; NqZSo: } goto WuZpl; polI5: $d["\x65\x72\162\157\x72"] = true; goto C0aMs; WuZpl: return $d; goto GABZ1; GABZ1: } public function delete_vente($id) { return $this->mydb->delete($this->va, array("\151\144" => $id)); } public function delete($id) { goto pBRga; H9_R5: return $d; goto I2I_e; lfgNg: $vte = $this->check_prod_vente($id); goto OehLx; gU4AU: if ($vte == false) { $d = $this->mydb->delete($this->table, $where); } else { $d = $this->mydb->update($this->table, array("\x73\x74\x61\x74\165\x73" => 1), $where); } goto H9_R5; OehLx: $where = array("\x69\144" => $id); goto gU4AU; pBRga: $d = false; goto lfgNg; I2I_e: } private function check($cat, $nom, $edit) { goto Eq8AJ; yT2w3: $where = array("\143\x61\164\x65\147\x6f\162\171" => $cat, "\156\x6f\155" => $nom); goto R63h1; R63h1: if ($edit != false) { $where["\x69\x64"] = array("\x3c\x3e" => $edit); } goto M79Jw; M79Jw: $check = $this->mydb->count($this->table, $where); goto x_hRR; KgIEf: return $d; goto FFOGB; Eq8AJ: $d = false; goto yT2w3; x_hRR: if (!empty($check)) { $d = true; } goto KgIEf; FFOGB: } private function check_prod_vente($id) { goto KHu55; heUek: if (!empty($vte)) { $d = true; } goto WvBNB; KHu55: $d = false; goto r6Cv4; WvBNB: return $d; goto va4Dy; r6Cv4: $vte = $this->mydb->count($this->va, array("\x61\x72\x74\151\x63\154\x65" => $id)); goto heUek; va4Dy: } }
