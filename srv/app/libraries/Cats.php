<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:18              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\x41\123\x45\x50\101\124\110") or exit("\116\x6f\40\144\151\x72\145\x63\x74\40\x73\143\162\x69\160\x74\40\141\x63\x63\x65\x73\163\40\x61\154\x6c\x6f\x77\145\144"); class Cats { private $CI; private $mydb; private $table; private $mdate; private $id; public function __construct() { goto HAyZ2; E9d7z: $this->mydb =& $this->CI->mydb; goto XsmEW; HAyZ2: $this->CI =& get_instance(); goto E9d7z; XsmEW: $this->table = "\143\141\164\145\x67\x6f\162\x79"; goto YIMH0; YIMH0: $this->mdate = gmdate("\x59\x2d\155\x2d\x64\x20\110\72\151\72\163"); goto qIx9A; qIx9A: $this->id = $this->CI->session->userdata("\x69\144"); goto mRNZ3; mRNZ3: } public function index($type = "\141\x72\164\x69\143\x6c\x65") { goto Ulgiz; KF0Yk: if (!empty($cats)) { goto VM1Hu; VM1Hu: $data = array(); goto cfKjP; GORkh: $d["\143\x61\164\163"] = $data; goto Nje23; cfKjP: foreach ($cats as $cat) { goto Nicai; RUfmy: array_push($data, $cat); goto jpZvT; HVTt9: if ($type == "\141\x72\164\151\143\x6c\145") { goto gP6li; FzMLq: if (!empty($ventes)) { foreach ($ventes as $v) { $vte += $v->prix * $v->qte; } } goto KM9IP; xzPtj: $vte = 0; goto FzMLq; gP6li: $cat->articles = $this->mydb->count("\x61\162\x74\x69\143\x6c\145", $where2); goto UldJK; UldJK: $ventes = $this->mydb->gets("\166\145\156\x74\145\x5f\141\x72\164\151\143\154\x65", array(array("\141\162\164\151\143\x6c\x65\x2e\x70\162\151\x78" => "\160\162\151\x78"), array("\166\x65\156\x74\x65\137\141\x72\164\x69\143\154\145\x2e\161\x74\145" => "\161\164\145")), $where2, array("\x61\162\164\151\x63\x6c\145" => array("\151\156\156\x65\x72" => array("\x61\162\164\x69\x63\x6c\x65", "\151\144")))); goto xzPtj; KM9IP: $cat->vte = $vte; goto S74Qp; S74Qp: } else { $cat->montant = $this->mydb->get("\144\145\x70\x65\156\x73\145", array(array("\123\x55\x4d\50\x6d\157\156\164\x61\x6e\164\51" => "\155\x6f\x6e\x74\141\x6e\x74")), $where2)->montant; } goto RUfmy; Nicai: $where2 = array("\143\x61\x74\x65\147\157\x72\171" => $cat->id); goto HVTt9; jpZvT: } goto GORkh; Nje23: } goto sBLaI; PV7cz: $req = array(); goto VaRay; VaRay: $cats = $this->mydb->gets($this->table, $req, $where, $join, $orderby, $limit); goto KF0Yk; jX8W2: $count = $this->mydb->count($this->table, $where, $join); goto qfyKy; Ulgiz: $d = array(); goto cLq7m; Qm1yl: $d["\164\x6f\164\x61\x6c"] = $count; goto VLI7X; sBLaI: return $d; goto Qupih; VLI7X: $d["\x65\x70\160"] = $page->epp; goto HPT5O; qfyKy: $page = pager($count); goto hsJAq; H4Via: $d["\143\165\162\162\x65\x6e\x74"] = $page->current; goto Qm1yl; cLq7m: $where = array("\x63\x61\x74\x65\x67\157\162\171\56\x63\x61\x74\137\x74\x79\x70\145" => $type, "\x63\x61\164\145\147\x6f\x72\x79\x2e\x73\164\141\x74\x75\163" => 0); goto SN74d; tGrNI: $limit = array($page->start, $page->epp); goto PV7cz; hsJAq: $d["\x6e\142\160\141\147\x65\x73"] = $page->nbpages; goto H4Via; HPT5O: $orderby = array("\x63\x61\164\x65\147\x6f\162\x79\56\x6e\157\155" => "\101\123\103"); goto tGrNI; SN74d: $join = array(); goto jX8W2; Qupih: } public function liste($type = "\x61\162\x74\151\143\154\145") { goto rlDrh; SoUMC: if (!empty($cats)) { goto nuqVe; kvd70: $d = $data; goto jwBP3; rYDu2: foreach ($cats as $cat) { array_push($data, $cat); } goto kvd70; nuqVe: $data = array(); goto rYDu2; jwBP3: } goto oRyWh; U7Zd9: $req = array(); goto J1Qg1; gIyK9: $where = array("\x63\141\x74\x65\147\157\x72\x79\x2e\143\x61\164\137\x74\171\x70\x65" => $type, "\143\x61\164\x65\147\x6f\162\x79\56\163\x74\141\x74\165\x73" => 0); goto U7Zd9; oRyWh: return $d; goto LERs7; rlDrh: $d = array(); goto gIyK9; J1Qg1: $cats = $this->mydb->gets($this->table, $req, $where); goto SoUMC; LERs7: } public function get($id) { goto J_V0o; GxuQw: return $d; goto nH9Q1; uSvoo: if (!empty($cat)) { $d = $cat; } goto GxuQw; J_V0o: $d = false; goto FjBxx; FjBxx: $cat = $this->mydb->get($this->table, '', array("\x69\x64" => $id)); goto uSvoo; nH9Q1: } public function set($nom, $type, $desc, $edit) { goto INujh; XgXqU: if ($check == false) { goto lgTjY; wQril: if ($edit == false) { $done = $this->mydb->set($this->table, $req); if ($done) { $id = $done; } } else { $done = $this->mydb->update($this->table, $req, array("\x69\x64" => $edit)); if ($done) { $id = $edit; } } goto LcRYA; LcRYA: if (isset($id)) { $d["\145\x72\x72\157\162"] = false; $d["\144\x61\x74\x61"] = $id; } else { $d["\x65\162\x6d\x73\147"] = common_sql_error(); } goto YqP6w; lgTjY: $req = array("\165\x73\145\x72" => $this->id, "\156\157\155" => $nom, "\143\x61\164\137\x74\171\160\145" => $type, "\x64\145\x73\143\x72\x69\x70\x74\x69\x6f\x6e" => $desc, "\155\x6f\x64\x69\x66\151\145\x64" => $this->mdate); goto wQril; YqP6w: } else { $d["\145\162\155\163\x67"] = "\125\x6e\145\x20\x63\141\164\303\xa9\147\157\162\x69\x65\x20\x65\170\x69\x73\164\x65\x20\144\303\xa9\152\xc3\xa0"; } goto ZsoWw; pj0Wo: $check = $this->check($nom, $type, $edit); goto XgXqU; INujh: $d["\x65\x72\x72\157\162"] = true; goto pj0Wo; ZsoWw: return $d; goto rusxf; rusxf: } public function delete($id) { goto yigRx; yigRx: $d = false; goto k7l_c; M1ySa: return $d; goto xuG0U; X3OHa: if (!empty($check)) { $d = $this->mydb->update($this->table, array("\x73\164\141\x74\x75\163" => 1), array("\151\x64" => $id)); } else { $d = $this->mydb->delete($this->table, array("\151\144" => $id)); } goto M1ySa; k7l_c: $check = $this->check_cat_usage($id); goto X3OHa; xuG0U: } private function check_cat_usage($id) { goto ofH2d; vc03B: if (!empty($check)) { $d = true; } goto QN7MB; QN7MB: return $d; goto veAwv; ofH2d: $d = false; goto mSc1G; mSc1G: $check = $this->mydb->count($this->table, array("\x63\x61\x74\145\x67\x6f\x72\171\x2e\x69\144" => $id), array("\141\162\164\x69\143\154\145" => array("\151\x6e\x6e\x65\x72" => array("\x69\x64", "\x63\141\x74\x65\147\x6f\162\171")), "\x76\x65\156\x74\145\137\141\x72\x74\x69\143\154\145" => array("\x69\156\x6e\x65\x72" => array("\141\162\164\151\x63\154\x65\x2e\x69\144", "\x61\162\164\x69\143\154\145")))); goto vc03B; veAwv: } private function check($nom, $type, $edit = false) { goto HGH3f; HGH3f: $d = false; goto VTGks; hGskv: return $d; goto vxB5B; VTGks: $where = array("\156\x6f\155" => $nom, "\143\x61\x74\x5f\x74\x79\x70\145" => $type); goto dRpnS; MZILB: $check = $this->mydb->count($this->table, $where); goto ufyRE; ufyRE: if (!empty($check)) { $d = true; } goto hGskv; dRpnS: if ($edit != false) { $where["\151\x64"] = array("\74\76" => $edit); } goto MZILB; vxB5B: } }
