<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:18              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\x41\123\105\x50\101\124\110") or exit("\x4e\x6f\x20\144\x69\162\145\x63\164\x20\x73\x63\x72\151\160\x74\x20\141\143\x63\145\163\x73\x20\x61\154\x6c\157\x77\145\144"); class Utilitaire { protected $CI; private $mydb; private $mdate; private $session; private $app_path; public function __construct() { goto YoMdk; AvkQ9: $this->session =& $this->CI->session; goto Rtrqa; CDPkg: $this->mydb =& $this->CI->mydb; goto AvkQ9; VIKAF: $this->app_path = $_SERVER["\101\114\114\x55\123\x45\122\123\120\122\x4f\x46\x49\x4c\x45"] . "\57\141\x67\x65\57\x73\x63\x6f\x6c\x2f"; goto ROLBU; YoMdk: $this->CI =& get_instance(); goto CDPkg; Rtrqa: $this->mdate = gmdate("\131\55\x6d\55\x64\x20\x48\72\151\x3a\163"); goto VIKAF; ROLBU: } public function build_post_url($text, $id) { goto retD3; KMQeM: if ($chk != 0) { goto s29tE; R95_T: while ($stop == false) { $where["\154\x69\x6e\x6b"] = $link . "\55" . ($i + 1); $lck = $this->mydb->count($table, $where); if ($lck == 0) { $lk = $link . "\x2d" . ($i + 1); $stop = true; } else { $i += 1; } } goto R2AX0; xa06r: $stop = false; goto R95_T; s29tE: $i = 1; goto xa06r; R2AX0: } else { $lk = $link; } goto Mockv; fTIos: $lk = ''; goto KMQeM; Nmmsb: $where["\154\151\x6e\153"] = $link; goto XLsr9; vhfqD: $chk = $this->mydb->count($table, $where); goto fTIos; retD3: $table = "\160\157\163\164"; goto EkBaf; EkBaf: $link = format_link($text); goto Nmmsb; XLsr9: if ($id !== false) { $where["\x69\x64\x70\157\163\164"] = array("\x3c\76" => $id); } goto vhfqD; Mockv: } public function check_user_url($link, $id = false) { goto RDZup; RDZup: $table = "\165\x73\145\x72\x73"; goto bhbFx; bhbFx: $where["\x6e\141\x6d\x65"] = $link; goto EYUwb; EYUwb: if ($id != false) { $where["\x69\144"] = array("\x3c\76" => $id); } goto oQOlI; KmWbd: return $lk; goto A5yHo; ekpSK: $lk = ''; goto Jp_6B; Jp_6B: if ($chk != 0) { goto p3ufM; nFVnA: while ($stop == false) { $where["\156\141\155\145"] = $link . "\x2d" . ($i + 1); $lck = $this->mydb->count($table, $where); if ($lck == 0) { $lk = $link . "\x2d" . ($i + 1); $stop = true; } else { $i += 1; } } goto uRtY0; b9O4f: $stop = false; goto nFVnA; p3ufM: $i = 1; goto b9O4f; uRtY0: } else { $lk = $link; } goto KmWbd; oQOlI: $chk = $this->mydb->count($table, $where); goto ekpSK; A5yHo: } public function build_cat_url($text, $id) { goto r6ElW; QSisU: if ($id !== false) { $where["\x63\141\x74\x5f\x69\x64"] = array("\x3c\x3e" => $id); } goto pTYhP; pTYhP: $chk = $this->mydb->count($table, $where); goto RIuVP; BkbR5: $link = format_link($text); goto cZ9rM; r6ElW: $table = "\x63\x61\164\145\147\157\162\x79"; goto BkbR5; RIuVP: $lk = ''; goto gESxG; fJqE1: return $lk; goto S7QxU; cZ9rM: $where["\x63\141\164\137\154\x69\156\153"] = $link; goto QSisU; gESxG: if ($chk != 0) { goto EnEbM; MA7gM: while ($stop == false) { $where["\143\141\164\x5f\154\x69\156\x6b"] = $link . "\x2d" . ($i + 1); $lck = $this->mydb->count($table, $where); if ($lck == 0) { $lk = $link . "\55" . ($i + 1); $stop = true; } else { $i += 1; } } goto SeEVi; hkWTe: $stop = false; goto MA7gM; EnEbM: $i = 1; goto hkWTe; SeEVi: } else { $lk = $link; } goto fJqE1; S7QxU: } public function get_an() { goto QXxQF; jaR9A: $an = $this->mydb->get("\x61\156", '', array("\163\x74\x61\x74\165\163" => 0)); goto xlAHP; q3Jnf: return $d; goto meRPj; xlAHP: if (!empty($an)) { $d = $an; } goto q3Jnf; QXxQF: $d = false; goto jaR9A; meRPj: } public function get_an2() { goto CMp6N; CMp6N: $d = false; goto IYUYR; SNgL0: if (!empty($an)) { $d = $an[0]; } goto mER9g; IYUYR: $an = $this->mydb->gets("\141\x6e", '', array("\163\x74\141\x74\165\163" => 1), '', array("\x69\x64" => "\x44\x45\123\x43"), array(1)); goto SNgL0; mER9g: return $d; goto oE1Vh; oE1Vh: } public function log_activity($page) { goto vJzjl; Wms9J: if (!$this->CI->control->is_admin(false, true)) { goto xnvQf; xnvQf: $table = "\x70\x61\147\145\x5f\166\x69\x65\x77\145\x64"; goto n4Kjy; yvGAH: if (!empty($ta)) { goto CElUp; nNUW2: if ($done) { $d = $ta->id; } goto e4iLQ; Qv4Bi: $done = $this->mydb->update($table, array("\156\x62\x76" => $nb, "\155\157\x64\151\146\x69\145\x64" => $this->mdate), array("\x69\x64" => $ta->id)); goto nNUW2; CElUp: $nb = $ta->nbv + 1; goto Qv4Bi; e4iLQ: } else { $done = $this->mydb->set($table, array("\165\x73\x65\x72" => $user, "\x70\x61\x67\145" => $page, "\x6e\142\x76" => 1)); if ($done) { $d = $done; } } goto tej7l; n4Kjy: $user = $this->session->userdata("\x69\144"); goto vioPI; vioPI: $ta = $this->mydb->get($table, array("\151\x64", "\156\142\x76"), array("\x75\x73\x65\162" => $user, "\x70\x61\x67\x65" => $page, "\x63\162\145\141\164\145\144" => array("\x4c\111\x4b\105" => "\45" . gmdate("\131\x2d\x6d\x2d\x64") . "\45"))); goto yvGAH; tej7l: } goto jxfeF; jxfeF: return $d; goto deTXP; vJzjl: $d = false; goto Wms9J; deTXP: } public function do_upload($file, $name = false) { goto BUvrJ; fLlrr: $config["\165\160\154\x6f\x61\x64\x5f\x70\141\164\x68"] = $_SERVER["\x50\162\157\x67\162\141\155\104\141\x74\141"] . "\x2f\x61\147\x65\x2f\x73\143\x6f\x6c\x2f\151\x6d\141\x67\145\x73\57"; goto pd2Hy; BUvrJ: $d["\x65\x72\x72\x6f\x72"] = true; goto fLlrr; CtpQL: $config["\x72\x65\x6d\x6f\x76\x65\137\x73\160\141\143\x65\x73"] = true; goto kMYHW; m1eo_: if ($name != false) { $config["\146\x69\154\145\x5f\x6e\141\x6d\x65"] = $name; } goto XQ1Mp; pd2Hy: $config["\157\x76\145\162\167\162\151\164\145"] = true; goto CtpQL; kMYHW: $config["\141\154\154\157\167\145\144\137\164\171\160\x65\163"] = "\147\151\146\x7c\x6a\160\147\174\x6a\160\x65\x67\x7c\x70\156\147\x7c\167\145\142\x70"; goto m1eo_; vsbjR: return $d; goto Jj4QR; XQ1Mp: $this->CI->load->library("\x75\160\154\157\x61\x64", $config); goto Y9Lxi; Y9Lxi: if ($this->CI->upload->do_upload($file)) { $d["\x65\x72\x72\x6f\x72"] = false; $d["\x64\141\164\x61"] = $this->CI->upload->data(); } else { $d["\x65\162\x6d\x73\147"] = $this->CI->upload->display_errors(); } goto vsbjR; Jj4QR: } public function upload_avatar($file, $name = false) { goto jZync; Y9953: if ($up["\145\x72\162\157\162"] == false) { goto PVFs5; PDgcy: $d["\145\162\162\157\162"] = false; goto WxXAO; PVFs5: $data = $up["\144\141\164\x61"]; goto PDgcy; WxXAO: $d["\x64\x61\x74\141"] = $data["\146\x69\154\145\x5f\156\x61\155\145"]; goto hzly3; hzly3: } else { $d["\145\x72\155\x73\x67"] = $up["\x65\162\x6d\x73\147"]; } goto Nv2f6; Nv2f6: return $d; goto zb59_; jZync: $d["\x65\x72\162\x6f\162"] = true; goto Za3xk; Za3xk: $up = $this->do_upload($file, $name); goto Y9953; zb59_: } public function avatar_create_sizes($file) { goto ttGNt; kNu_E: $this->CI->image_lib->clear(); goto E0C5J; E0C5J: if ($done) { goto UGfF3; B2HsJ: $nom = implode("\56", $next); goto RbFHp; BM3cJ: $ext = end($name); goto vRTGn; vRTGn: $nb = count($name); goto SNjUD; UGfF3: $name = explode("\x2e", $file); goto BM3cJ; RbFHp: $d = $nom . "\x5f\x74\150\x75\x6d\142\56" . $ext; goto dujFr; SNjUD: $next = array_slice($name, 0, $nb - 1); goto B2HsJ; dujFr: } goto PyPgM; WPXFD: $config_manip = array("\x73\x6f\165\162\x63\x65\137\151\x6d\x61\x67\x65" => $source_path, "\156\x65\167\x5f\x69\x6d\141\x67\x65" => $target_path, "\x6d\x61\151\156\x74\141\151\x6e\x5f\162\x61\x74\151\157" => TRUE, "\x63\162\145\x61\x74\145\137\164\x68\165\155\x62" => TRUE, "\x74\x68\x75\x6d\142\x5f\155\x61\162\153\145\162" => "\x5f\164\150\x75\x6d\x62", "\x77\x69\144\164\150" => 100, "\150\x65\x69\x67\150\x74" => 100); goto EXPB8; Wz6ES: $source_path = $_SERVER["\x50\162\157\147\162\x61\155\104\141\164\x61"] . "\x2f\x61\x67\145\x2f\163\143\x6f\154\57\151\155\x61\147\x65\163\57" . $file; goto zXhNT; ttGNt: $d = false; goto Wz6ES; zXhNT: $target_path = $_SERVER["\x50\162\x6f\x67\162\x61\x6d\104\x61\x74\x61"] . "\57\x61\147\x65\57\x73\x63\157\x6c\x2f\x69\155\141\x67\x65\x73\57"; goto WPXFD; BOCyS: $done = $this->CI->image_lib->resize(); goto kNu_E; PyPgM: return $d; goto vwwSI; EXPB8: $this->CI->load->library("\x69\x6d\141\147\x65\x5f\154\151\x62", $config_manip); goto BOCyS; vwwSI: } public function upload_logo() { goto UC16e; UC16e: $this->check_folder(); goto n_fzy; HZvWd: $this->CI->load->library("\x75\x70\154\x6f\141\x64", $config); goto MJtzZ; MJtzZ: $d["\145\x72\x72\x6f\162"] = true; goto L4Ylf; TOwfa: $config["\146\x69\154\145\x5f\156\x61\155\145"] = "\x6c\x6f\x67\157"; goto zpxVT; NnNyF: $config["\141\154\x6c\x6f\167\x65\x64\x5f\164\171\160\145\163"] = "\152\160\147\x7c\x6a\x70\x65\x67\174\x70\x6e\147"; goto TOwfa; j7vxp: $config["\162\145\155\x6f\166\145\137\163\x70\141\x63\x65\163"] = true; goto Jz5tY; zpxVT: $config["\x6f\166\x65\162\167\162\x69\x74\145"] = true; goto sF2vi; L4Ylf: if ($this->CI->upload->do_upload("\x6c\x6f\x67\x6f")) { goto YmtUg; EOK64: $d["\x65\x72\162\x6f\x72"] = false; goto mN3ve; mJ3jK: $data["\146\x69\154\145\x5f\156\x61\155\145"] = $resp["\x66\x69\x6c\x65\137\156\141\x6d\145"]; goto mLgK3; YmtUg: $resp = $this->CI->upload->data(); goto mJ3jK; mLgK3: $data["\146\x69\x6c\145\137\x74\x79\160\x65"] = $resp["\146\151\x6c\x65\137\x74\171\160\145"]; goto rgz9l; mN3ve: $d["\x64\141\164\x61"] = $data; goto oYEw9; WslqH: $data["\146\151\x6c\145\x5f\x73\x69\172\x65"] = $resp["\146\x69\x6c\145\x5f\163\x69\172\145"]; goto EOK64; rgz9l: $data["\151\x73\x5f\151\x6d\141\x67\145"] = $resp["\x69\163\137\151\x6d\x61\147\145"]; goto jBiqk; jBiqk: $data["\x72\141\x77\x5f\156\141\x6d\x65"] = $resp["\162\141\167\x5f\156\x61\155\x65"]; goto WslqH; oYEw9: } else { $d["\145\x72\155\163\x67"] = $this->CI->upload->display_errors('', ''); } goto GxJ_z; n_fzy: $config["\x75\160\154\157\x61\x64\x5f\160\141\x74\x68"] = $this->app_path . "\x75\x70\154\157\x61\x64\x73\x2f"; goto NnNyF; dnaPV: $config["\155\141\x78\137\163\x69\172\x65"] = 0; goto HZvWd; sF2vi: $config["\146\151\x6c\145\x5f\145\170\164\x5f\x74\x6f\x6c\157\x77\x65\162"] = true; goto j7vxp; GxJ_z: return $d; goto NmcEQ; Jz5tY: $config["\157\166\x65\x72\x77\162\151\164\x65"] = true; goto dnaPV; NmcEQ: } private function check_folder() { if (!file_exists($this->app_path . "\57\165\160\154\x6f\141\144\163")) { mkdir(dirname(APPPATH) . "\57\x75\160\x6c\x6f\x61\x64\x73"); } } }
