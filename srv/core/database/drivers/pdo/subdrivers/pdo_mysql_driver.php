<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:16              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\x41\123\105\x50\101\124\x48") or exit("\x4e\x6f\40\144\x69\162\145\x63\x74\40\x73\143\162\x69\x70\x74\40\x61\x63\x63\x65\x73\x73\40\141\x6c\154\157\167\145\x64"); class CI_DB_pdo_mysql_driver extends CI_DB_pdo_driver { public $subdriver = "\155\x79\x73\161\154"; public $compress = FALSE; public $stricton; protected $_escape_char = "\140"; public function __construct($params) { parent::__construct($params); if (empty($this->dsn)) { goto qj6dh; xShZb: empty($this->port) or $this->dsn .= "\73\x70\157\x72\x74\x3d" . $this->port; goto E_6n6; qj6dh: $this->dsn = "\x6d\x79\x73\161\x6c\x3a\150\x6f\163\x74\75" . (empty($this->hostname) ? "\61\x32\67\56\60\x2e\60\x2e\61" : $this->hostname); goto xShZb; E_6n6: empty($this->database) or $this->dsn .= "\73\144\x62\x6e\x61\155\x65\75" . $this->database; goto w47YT; w47YT: empty($this->char_set) or $this->dsn .= "\x3b\x63\150\141\162\x73\x65\x74\x3d" . $this->char_set; goto PC0MN; PC0MN: } elseif (!empty($this->char_set) && strpos($this->dsn, "\x63\x68\141\162\x73\145\164\x3d", 6) === FALSE) { $this->dsn .= "\73\x63\150\141\x72\x73\x65\164\x3d" . $this->char_set; } } public function db_connect($persistent = FALSE) { goto x8D8e; x8D8e: if (isset($this->stricton)) { if ($this->stricton) { $sql = "\103\117\x4e\x43\x41\124\50\x40\100\163\x71\154\137\155\157\144\x65\54\40\42\x2c\x22\54\40\42\x53\x54\x52\111\103\124\x5f\x41\x4c\114\137\124\101\102\x4c\x45\x53\x22\x29"; } else { $sql = "\x52\x45\120\x4c\x41\103\105\x28\122\105\x50\x4c\101\103\x45\x28\122\105\x50\x4c\x41\x43\105\50\122\105\x50\x4c\101\103\x45\x28\x52\x45\x50\114\x41\103\x45\x28\122\x45\x50\x4c\x41\x43\105\50\xa\x20\40\40\40\40\40\40\x20\40\x20\40\x20\x20\40\x20\x20\40\40\x20\40\40\40\x20\x20\40\x20\x20\x20\40\40\40\40\x20\40\40\x20\x20\x20\40\x20\x40\x40\163\x71\154\137\x6d\x6f\x64\x65\54\12\40\x20\40\40\x20\40\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\40\x20\x20\40\x20\x20\x20\40\40\x20\40\40\40\40\x20\x20\x20\x20\40\x20\x20\40\x20\40\x22\123\x54\x52\x49\103\124\137\x41\114\x4c\x5f\x54\101\102\114\105\x53\54\42\x2c\x20\x22\42\51\x2c\12\40\x20\x20\40\40\40\x20\40\40\x20\40\40\40\40\40\40\40\x20\40\x20\x20\x20\40\x20\40\40\40\40\40\x20\40\x20\x20\40\x20\40\x20\40\40\x20\42\x2c\x53\124\x52\x49\103\x54\137\x41\114\114\137\x54\x41\x42\x4c\105\x53\x22\54\x20\x22\x22\x29\x2c\xa\x20\40\x20\40\x20\x20\x20\x20\40\x20\40\x20\40\x20\40\x20\40\40\x20\x20\x20\x20\x20\40\40\x20\40\40\40\x20\x20\x20\40\40\x20\x20\x20\x20\40\40\42\123\124\122\111\103\x54\137\x41\x4c\x4c\137\124\x41\102\114\105\123\42\54\40\42\x22\x29\54\12\x20\40\40\40\40\40\x20\x20\40\40\40\x20\40\40\40\x20\40\x20\x20\40\40\40\40\x20\x20\40\40\40\40\40\40\x20\x20\40\x20\40\40\40\x20\x20\42\x53\x54\122\111\x43\x54\137\x54\x52\x41\x4e\123\137\124\x41\x42\x4c\105\x53\54\x22\x2c\40\x22\x22\x29\x2c\xa\x20\40\40\x20\40\x20\40\x20\40\x20\40\40\40\40\x20\40\40\40\40\40\40\x20\40\x20\x20\40\x20\x20\x20\40\40\x20\x20\40\x20\40\x20\40\x20\40\42\x2c\x53\124\122\111\x43\124\137\124\x52\x41\116\x53\x5f\x54\x41\x42\114\x45\123\42\x2c\x20\x22\x22\x29\54\12\x20\x20\x20\40\x20\x20\40\40\x20\40\x20\40\x20\x20\x20\40\x20\x20\x20\40\x20\40\40\x20\x20\x20\40\40\x20\40\40\40\40\40\x20\x20\40\x20\40\x20\x22\123\x54\x52\111\x43\124\137\124\122\x41\x4e\x53\x5f\124\101\102\114\x45\x53\42\x2c\x20\x22\x22\x29"; } if (!empty($sql)) { if (empty($this->options[PDO::MYSQL_ATTR_INIT_COMMAND])) { $this->options[PDO::MYSQL_ATTR_INIT_COMMAND] = "\x53\105\124\x20\123\x45\123\x53\x49\x4f\116\x20\x73\161\154\x5f\155\x6f\144\x65\x20\x3d\x20" . $sql; } else { $this->options[PDO::MYSQL_ATTR_INIT_COMMAND] .= "\54\x20\100\x40\x73\145\163\x73\x69\157\x6e\56\163\x71\x6c\x5f\x6d\157\144\145\x20\75\40" . $sql; } } } goto UPWyU; UPWyU: if ($this->compress === TRUE) { $this->options[PDO::MYSQL_ATTR_COMPRESS] = TRUE; } goto p7Ov9; Y2iI3: if (($pdo = parent::db_connect($persistent)) !== FALSE && !empty($ssl) && version_compare($pdo->getAttribute(PDO::ATTR_CLIENT_VERSION), "\x35\x2e\x37\56\x33", "\x3c\x3d") && empty($pdo->query("\x53\110\x4f\127\x20\x53\x54\101\124\125\123\40\x4c\111\113\x45\40\x27\x73\163\154\137\143\x69\x70\x68\145\162\47")->fetchObject()->Value)) { goto snlY7; jO_H4: return $this->db_debug ? $this->display_error($message, '', TRUE) : FALSE; goto fk6w7; snlY7: $message = "\x50\x44\117\x5f\115\131\123\x51\114\40\x77\x61\163\x20\x63\x6f\156\146\151\147\165\162\145\144\x20\146\x6f\x72\x20\x61\x6e\x20\x53\x53\114\40\143\x6f\156\156\x65\x63\164\151\157\156\x2c\40\142\x75\x74\x20\x67\x6f\164\40\x61\156\x20\165\x6e\x65\x6e\143\162\171\160\164\x65\144\x20\x63\x6f\156\x6e\x65\x63\x74\x69\x6f\156\40\x69\x6e\163\164\x65\141\144\41"; goto i9V0B; i9V0B: log_message("\145\162\x72\x6f\162", $message); goto jO_H4; fk6w7: } goto soSrY; p7Ov9: if (is_array($this->encrypt)) { goto tu3kw; N10QS: empty($ssl) or $this->options += $ssl; goto NZk2Y; SKwG1: if (defined("\120\104\117\72\x3a\x4d\x59\123\121\x4c\137\x41\x54\124\x52\x5f\123\123\114\x5f\126\x45\122\x49\106\131\x5f\123\105\x52\126\105\x52\x5f\103\105\x52\x54") && isset($this->encrypt["\x73\x73\154\137\x76\x65\162\x69\x66\171"])) { $ssl[PDO::MYSQL_ATTR_SSL_VERIFY_SERVER_CERT] = $this->encrypt["\x73\163\154\x5f\x76\x65\162\151\x66\171"]; } goto N10QS; LAwPM: empty($this->encrypt["\x73\x73\x6c\x5f\143\141"]) or $ssl[PDO::MYSQL_ATTR_SSL_CA] = $this->encrypt["\163\163\154\137\143\x61"]; goto Y0qGk; wpkmr: empty($this->encrypt["\x73\163\x6c\x5f\x6b\145\x79"]) or $ssl[PDO::MYSQL_ATTR_SSL_KEY] = $this->encrypt["\163\x73\154\137\x6b\145\x79"]; goto Nuv9h; tu3kw: $ssl = array(); goto wpkmr; SOuYY: empty($this->encrypt["\163\x73\154\137\x63\151\x70\150\x65\x72"]) or $ssl[PDO::MYSQL_ATTR_SSL_CIPHER] = $this->encrypt["\163\x73\x6c\x5f\143\x69\160\x68\145\x72"]; goto SKwG1; Nuv9h: empty($this->encrypt["\x73\163\x6c\x5f\x63\145\x72\x74"]) or $ssl[PDO::MYSQL_ATTR_SSL_CERT] = $this->encrypt["\163\x73\154\x5f\x63\145\x72\164"]; goto LAwPM; Y0qGk: empty($this->encrypt["\x73\x73\x6c\x5f\143\x61\x70\141\164\x68"]) or $ssl[PDO::MYSQL_ATTR_SSL_CAPATH] = $this->encrypt["\x73\x73\154\x5f\143\141\160\x61\164\150"]; goto SOuYY; NZk2Y: } goto Y2iI3; soSrY: return $pdo; goto MtXVp; MtXVp: } public function db_select($database = '') { goto HKYYl; HKYYl: if ($database === '') { $database = $this->database; } goto in1w4; in1w4: if (FALSE !== $this->simple_query("\125\123\105\x20" . $this->escape_identifiers($database))) { goto Tj5FU; Tj5FU: $this->database = $database; goto ohDLA; z6F2e: return TRUE; goto jj6ua; ohDLA: $this->data_cache = array(); goto z6F2e; jj6ua: } goto vuuD1; vuuD1: return FALSE; goto PiTKk; PiTKk: } protected function _trans_begin() { $this->conn_id->setAttribute(PDO::ATTR_AUTOCOMMIT, FALSE); return $this->conn_id->beginTransaction(); } protected function _trans_commit() { if ($this->conn_id->commit()) { $this->conn_id->setAttribute(PDO::ATTR_AUTOCOMMIT, TRUE); return TRUE; } return FALSE; } protected function _trans_rollback() { if ($this->conn_id->rollBack()) { $this->conn_id->setAttribute(PDO::ATTR_AUTOCOMMIT, TRUE); return TRUE; } return FALSE; } protected function _list_tables($prefix_limit = FALSE) { goto LdlKr; LdlKr: $sql = "\x53\110\117\127\40\x54\101\x42\114\x45\x53\40\x46\122\x4f\x4d\40" . $this->_escape_char . $this->database . $this->_escape_char; goto fdksj; FRUYR: return $sql; goto LmLBt; fdksj: if ($prefix_limit === TRUE && $this->dbprefix !== '') { return $sql . "\40\x4c\x49\x4b\105\x20\x27" . $this->escape_like_str($this->dbprefix) . "\45\x27"; } goto FRUYR; LmLBt: } protected function _list_columns($table = '') { return "\x53\x48\117\x57\40\x43\x4f\114\x55\115\116\123\x20\106\122\x4f\x4d\x20" . $this->protect_identifiers($table, TRUE, NULL, FALSE); } public function field_data($table) { goto EFn7q; iX5hV: return $retval; goto XukvW; EFn7q: if (($query = $this->query("\123\110\x4f\127\x20\x43\x4f\114\125\x4d\x4e\123\40\x46\122\x4f\115\x20" . $this->protect_identifiers($table, TRUE, NULL, FALSE))) === FALSE) { return FALSE; } goto iPi96; Ci7hv: $retval = array(); goto l38CI; l38CI: for ($i = 0, $c = count($query); $i < $c; $i++) { $retval[$i] = new stdClass(); $retval[$i]->name = $query[$i]->Field; sscanf($query[$i]->Type, "\x25\x5b\141\x2d\172\135\x28\45\x64\x29", $retval[$i]->type, $retval[$i]->max_length); $retval[$i]->default = $query[$i]->Default; $retval[$i]->primary_key = (int) ($query[$i]->Key === "\120\122\x49"); } goto iX5hV; iPi96: $query = $query->result_object(); goto Ci7hv; XukvW: } protected function _truncate($table) { return "\x54\x52\x55\116\103\x41\x54\105\x20" . $table; } protected function _from_tables() { if (!empty($this->qb_join) && count($this->qb_from) > 1) { return "\x28" . implode("\x2c\40", $this->qb_from) . "\x29"; } return implode("\54\x20", $this->qb_from); } }
