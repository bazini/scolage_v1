<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:16              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\102\101\x53\105\120\x41\x54\x48") or exit("\116\x6f\40\x64\x69\x72\x65\143\x74\x20\x73\x63\162\x69\x70\164\x20\x61\x63\143\x65\163\x73\x20\x61\154\154\x6f\167\145\x64"); class CI_DB_pdo_driver extends CI_DB { public $dbdriver = "\160\x64\x6f"; public $options = array(); public function __construct($params) { goto e99A1; e99A1: parent::__construct($params); goto BL_Tk; BL_Tk: if (preg_match("\x2f\x28\133\136\72\135\53\51\x3a\57", $this->dsn, $match) && count($match) === 2) { $this->subdriver = $match[1]; return; } elseif (preg_match("\57\50\133\136\72\x5d\53\51\72\57", $this->hostname, $match) && count($match) === 2) { goto OnJ5x; Rz82j: $this->subdriver = $match[1]; goto vtnAP; vtnAP: return; goto Y3KUC; ySsmv: $this->hostname = NULL; goto Rz82j; OnJ5x: $this->dsn = $this->hostname; goto ySsmv; Y3KUC: } elseif (in_array($this->subdriver, array("\155\163\x73\161\x6c", "\x73\x79\x62\141\163\145"), TRUE)) { $this->subdriver = "\x64\x62\154\x69\x62"; } elseif ($this->subdriver === "\64\x44") { $this->subdriver = "\64\144"; } elseif (!in_array($this->subdriver, array("\x34\x64", "\143\165\x62\x72\x69\x64", "\144\x62\x6c\151\x62", "\146\151\162\x65\142\x69\x72\144", "\151\x62\155", "\151\156\146\x6f\162\x6d\x69\170", "\x6d\171\163\x71\154", "\157\x63\151", "\x6f\x64\x62\143", "\160\147\x73\x71\154", "\x73\x71\x6c\151\x74\x65", "\163\x71\x6c\163\162\166"), TRUE)) { log_message("\x65\x72\x72\157\x72", "\120\x44\117\72\x20\x49\156\166\x61\154\x69\x64\40\157\x72\40\x6e\157\x6e\x2d\x65\170\151\163\x74\x65\x6e\164\40\163\165\142\144\x72\151\166\x65\x72"); if ($this->db_debug) { show_error("\x49\x6e\166\141\154\x69\144\x20\x6f\162\40\156\x6f\156\55\x65\x78\151\163\x74\x65\x6e\164\x20\120\104\117\x20\163\x75\x62\144\162\x69\x76\x65\x72"); } } goto WBxt7; WBxt7: $this->dsn = NULL; goto mqJwE; mqJwE: } public function db_connect($persistent = FALSE) { if ($persistent === TRUE) { $this->options[PDO::ATTR_PERSISTENT] = TRUE; } try { return new PDO($this->dsn, $this->username, $this->password, $this->options); } catch (PDOException $e) { if ($this->db_debug && empty($this->failover)) { $this->display_error($e->getMessage(), '', TRUE); } return FALSE; } } public function version() { if (isset($this->data_cache["\166\x65\162\163\x69\x6f\x6e"])) { return $this->data_cache["\166\145\162\163\151\x6f\x6e"]; } try { return $this->data_cache["\x76\145\x72\x73\151\157\x6e"] = $this->conn_id->getAttribute(PDO::ATTR_SERVER_VERSION); } catch (PDOException $e) { return parent::version(); } } protected function _execute($sql) { return $this->conn_id->query($sql); } protected function _trans_begin() { return $this->conn_id->beginTransaction(); } protected function _trans_commit() { return $this->conn_id->commit(); } protected function _trans_rollback() { return $this->conn_id->rollBack(); } protected function _escape_str($str) { $str = $this->conn_id->quote($str); return $str[0] === "\47" ? substr($str, 1, -1) : $str; } public function affected_rows() { return is_object($this->result_id) ? $this->result_id->rowCount() : 0; } public function insert_id($name = NULL) { return $this->conn_id->lastInsertId($name); } protected function _field_data($table) { return "\123\105\x4c\x45\103\124\x20\x54\117\120\40\x31\x20\x2a\40\106\x52\x4f\115\40" . $this->protect_identifiers($table); } public function error() { goto s1M9A; mZLX3: if (isset($pdo_error[2])) { $error["\155\x65\163\x73\141\147\x65"] = $pdo_error[2]; } goto a1e5Z; WRcLr: if (empty($pdo_error[0])) { return $error; } goto k5fgY; k5fgY: $error["\x63\x6f\144\145"] = isset($pdo_error[1]) ? $pdo_error[0] . "\x2f" . $pdo_error[1] : $pdo_error[0]; goto mZLX3; yRuQc: $pdo_error = $this->conn_id->errorInfo(); goto WRcLr; s1M9A: $error = array("\143\157\x64\145" => "\60\60\60\x30\x30", "\155\145\163\x73\x61\x67\145" => ''); goto yRuQc; a1e5Z: return $error; goto L3VB2; L3VB2: } protected function _truncate($table) { return "\x54\x52\x55\116\103\x41\124\105\40\124\x41\x42\x4c\x45\40" . $table; } }
