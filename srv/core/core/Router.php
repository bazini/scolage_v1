<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:16              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\101\x53\105\120\x41\124\x48") or exit("\116\x6f\x20\144\x69\162\145\143\164\x20\x73\x63\x72\x69\x70\x74\x20\141\x63\x63\145\163\x73\40\x61\154\154\157\167\145\x64"); class CI_Router { public $config; public $routes = array(); public $class = ''; public $method = "\151\156\x64\145\170"; public $directory; public $default_controller; public $translate_uri_dashes = FALSE; public $enable_query_strings = FALSE; public function __construct($routing = NULL) { goto wnr0I; Ns0Jd: $this->_set_routing(); goto VzcQq; B2Hz1: $this->enable_query_strings = !is_cli() && $this->config->item("\x65\x6e\141\x62\154\x65\137\161\x75\145\162\x79\137\163\x74\162\x69\156\x67\163") === TRUE; goto sA4km; wnr0I: $this->config =& load_class("\103\x6f\156\x66\x69\x67", "\x63\x6f\x72\x65"); goto HrUM2; HrUM2: $this->uri =& load_class("\125\x52\x49", "\143\x6f\x72\145"); goto B2Hz1; SFP0T: log_message("\151\x6e\146\x6f", "\122\157\165\x74\145\x72\x20\103\x6c\141\x73\x73\40\x49\156\151\164\151\141\x6c\x69\x7a\x65\x64"); goto IbRIn; VzcQq: if (is_array($routing)) { empty($routing["\x63\x6f\156\164\162\157\x6c\154\145\162"]) or $this->set_class($routing["\x63\157\x6e\x74\x72\157\154\x6c\x65\x72"]); empty($routing["\x66\x75\x6e\x63\164\x69\157\x6e"]) or $this->set_method($routing["\x66\x75\156\143\x74\151\x6f\156"]); } goto SFP0T; sA4km: is_array($routing) && isset($routing["\x64\151\x72\x65\x63\x74\x6f\162\171"]) && $this->set_directory($routing["\x64\x69\162\x65\x63\164\x6f\162\171"]); goto Ns0Jd; IbRIn: } protected function _set_routing() { goto xgUco; xgUco: if (file_exists(APPPATH . "\x63\x6f\x6e\x66\x69\147\57\162\157\x75\164\x65\163\x2e\160\x68\x70")) { include APPPATH . "\x63\x6f\x6e\x66\151\147\x2f\162\x6f\x75\164\145\163\56\x70\x68\x70"; } goto r7nxF; U95m6: if (isset($route) && is_array($route)) { goto zdBiR; zdBiR: isset($route["\144\145\x66\141\x75\154\164\137\x63\x6f\156\x74\162\157\x6c\x6c\145\x72"]) && ($this->default_controller = $route["\x64\145\x66\141\165\154\164\137\x63\157\x6e\164\162\x6f\x6c\154\145\162"]); goto RUh7w; AM3Bz: unset($route["\x64\x65\146\x61\165\x6c\164\137\x63\x6f\x6e\164\162\157\x6c\154\145\x72"], $route["\x74\162\x61\x6e\x73\154\x61\x74\145\x5f\x75\162\x69\137\x64\141\x73\x68\x65\x73"]); goto YsblB; YsblB: $this->routes = $route; goto Fic3f; RUh7w: isset($route["\164\x72\x61\156\x73\x6c\x61\x74\x65\137\165\162\x69\x5f\x64\x61\x73\150\x65\163"]) && ($this->translate_uri_dashes = $route["\x74\162\x61\156\163\x6c\141\x74\x65\137\x75\x72\x69\137\x64\141\x73\150\145\x73"]); goto AM3Bz; Fic3f: } goto mCIyI; r7nxF: if (file_exists(APPPATH . "\x63\157\x6e\x66\x69\x67\x2f" . ENVIRONMENT . "\x2f\x72\157\165\x74\145\163\x2e\x70\150\x70")) { include APPPATH . "\143\157\x6e\x66\151\x67\57" . ENVIRONMENT . "\x2f\162\x6f\x75\164\x65\x73\x2e\x70\150\160"; } goto U95m6; mCIyI: if ($this->enable_query_strings) { goto g2HTi; l_qbY: if (!empty($_GET[$_c])) { goto C3vBl; ANjza: $_f = trim($this->config->item("\x66\x75\156\143\164\x69\157\156\137\x74\162\x69\147\147\145\162")); goto Y5sje; Y5sje: if (!empty($_GET[$_f])) { $this->uri->filter_uri($_GET[$_f]); $this->set_method($_GET[$_f]); } goto uW1KW; C3vBl: $this->uri->filter_uri($_GET[$_c]); goto mKWHl; mKWHl: $this->set_class($_GET[$_c]); goto ANjza; uW1KW: $this->uri->rsegments = array(1 => $this->class, 2 => $this->method); goto rePg0; rePg0: } else { $this->_set_default_controller(); } goto hHe6F; g2HTi: if (!isset($this->directory)) { goto p1wz4; Ruuiv: $_d = isset($_GET[$_d]) ? trim($_GET[$_d], "\40\11\xa\15\0\xb\x2f") : ''; goto PLpBw; PLpBw: if ($_d !== '') { $this->uri->filter_uri($_d); $this->set_directory($_d); } goto qUKGP; p1wz4: $_d = $this->config->item("\144\x69\162\x65\x63\x74\x6f\x72\171\x5f\164\162\x69\147\147\145\x72"); goto Ruuiv; qUKGP: } goto BAiT9; BAiT9: $_c = trim($this->config->item("\x63\x6f\x6e\x74\x72\x6f\x6c\x6c\145\x72\137\164\x72\151\x67\x67\x65\x72")); goto l_qbY; hHe6F: return; goto dIQjS; dIQjS: } goto k496S; k496S: if ($this->uri->uri_string !== '') { $this->_parse_routes(); } else { $this->_set_default_controller(); } goto REg6X; REg6X: } protected function _set_request($segments = array()) { goto R2Bwu; Cr3KQ: if (isset($segments[1])) { $this->set_method($segments[1]); } else { $segments[1] = "\x69\156\x64\145\170"; } goto rLdf5; YeOhk: if ($this->translate_uri_dashes === TRUE) { $segments[0] = str_replace("\55", "\137", $segments[0]); if (isset($segments[1])) { $segments[1] = str_replace("\55", "\137", $segments[1]); } } goto NzumU; R2Bwu: $segments = $this->_validate_request($segments); goto AZUur; rLdf5: array_unshift($segments, NULL); goto AHRu7; AZUur: if (empty($segments)) { $this->_set_default_controller(); return; } goto YeOhk; vUff9: $this->uri->rsegments = $segments; goto NfRR5; NzumU: $this->set_class($segments[0]); goto Cr3KQ; AHRu7: unset($segments[0]); goto vUff9; NfRR5: } protected function _set_default_controller() { goto B4SSU; B4SSU: if (empty($this->default_controller)) { show_error("\x55\156\141\142\154\145\x20\x74\157\40\144\145\x74\145\162\155\151\x6e\145\40\x77\x68\141\x74\x20\x73\x68\x6f\165\x6c\x64\x20\x62\x65\x20\144\151\x73\160\154\141\x79\x65\144\56\x20\x41\x20\x64\x65\146\x61\165\x6c\x74\40\x72\157\x75\164\145\40\x68\141\163\40\156\x6f\x74\x20\x62\145\145\156\40\163\160\145\143\x69\x66\x69\x65\x64\40\x69\156\40\164\x68\x65\x20\162\157\x75\x74\x69\x6e\x67\x20\146\151\154\145\x2e"); } goto o_2Ch; Ym2Os: log_message("\144\145\x62\165\x67", "\x4e\x6f\x20\x55\122\x49\x20\x70\162\x65\163\x65\x6e\x74\56\x20\104\x65\146\141\x75\154\x74\40\x63\157\x6e\164\162\x6f\154\x6c\145\162\x20\x73\145\x74\56"); goto MxRHt; xCjS5: $this->set_class($class); goto Aj0Kc; o_2Ch: if (sscanf($this->default_controller, "\45\133\136\57\x5d\x2f\x25\x73", $class, $method) !== 2) { $method = "\x69\x6e\x64\145\170"; } goto KFCQ9; QwZul: $this->uri->rsegments = array(1 => $class, 2 => $method); goto Ym2Os; KFCQ9: if (!file_exists(APPPATH . "\143\x6f\156\164\x72\157\x6c\x6c\x65\x72\163\x2f" . $this->directory . ucfirst($class) . "\56\x70\150\x70")) { return; } goto xCjS5; Aj0Kc: $this->set_method($method); goto QwZul; MxRHt: } protected function _validate_request($segments) { goto GYgKD; GYgKD: $c = count($segments); goto EDM_D; rGmse: while ($c-- > 0) { $test = $this->directory . ucfirst($this->translate_uri_dashes === TRUE ? str_replace("\x2d", "\x5f", $segments[0]) : $segments[0]); if (!file_exists(APPPATH . "\x63\157\x6e\164\x72\157\154\x6c\145\162\163\57" . $test . "\x2e\160\x68\160") && $directory_override === FALSE && is_dir(APPPATH . "\143\x6f\x6e\164\x72\157\x6c\154\145\162\x73\x2f" . $this->directory . $segments[0])) { $this->set_directory(array_shift($segments), TRUE); continue; } return $segments; } goto G_Lkv; EDM_D: $directory_override = isset($this->directory); goto rGmse; G_Lkv: return $segments; goto Q9Nax; Q9Nax: } protected function _parse_routes() { goto J4g9z; zQwRv: foreach ($this->routes as $key => $val) { goto TXGZi; U8WtI: if (preg_match("\43\x5e" . $key . "\x24\43", $uri, $matches)) { goto HYh8M; HYh8M: if (!is_string($val) && is_callable($val)) { array_shift($matches); $val = call_user_func_array($val, $matches); } elseif (strpos($val, "\44") !== FALSE && strpos($key, "\x28") !== FALSE) { $val = preg_replace("\43\x5e" . $key . "\x24\x23", $val, $uri); } goto y4VKU; MUw1E: return; goto u1qeJ; y4VKU: $this->_set_request(explode("\57", $val)); goto MUw1E; u1qeJ: } goto ouSxQ; TXGZi: if (is_array($val)) { $val = array_change_key_case($val, CASE_LOWER); if (isset($val[$http_verb])) { $val = $val[$http_verb]; } else { continue; } } goto CDr8h; CDr8h: $key = str_replace(array("\72\x61\x6e\171", "\x3a\x6e\x75\155"), array("\133\136\x2f\135\53", "\x5b\60\55\71\x5d\x2b"), $key); goto U8WtI; ouSxQ: } goto scbFu; scbFu: $this->_set_request(array_values($this->uri->segments)); goto iz8BA; J4g9z: $uri = implode("\x2f", $this->uri->segments); goto pvBFd; pvBFd: $http_verb = isset($_SERVER["\122\x45\121\x55\105\123\124\137\x4d\105\x54\110\117\104"]) ? strtolower($_SERVER["\x52\x45\x51\125\x45\x53\124\x5f\x4d\x45\x54\110\117\x44"]) : "\143\x6c\x69"; goto zQwRv; iz8BA: } public function set_class($class) { $this->class = str_replace(array("\x2f", "\x2e"), '', $class); } public function fetch_class() { return $this->class; } public function set_method($method) { $this->method = $method; } public function fetch_method() { return $this->method; } public function set_directory($dir, $append = FALSE) { if ($append !== TRUE or empty($this->directory)) { $this->directory = str_replace("\56", '', trim($dir, "\57")) . "\57"; } else { $this->directory .= str_replace("\x2e", '', trim($dir, "\x2f")) . "\57"; } } public function fetch_directory() { return $this->directory; } }
