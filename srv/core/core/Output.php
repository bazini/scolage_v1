<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:16              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\101\123\105\120\x41\124\110") or exit("\x4e\x6f\x20\144\151\x72\145\143\164\x20\x73\x63\x72\151\160\x74\40\x61\x63\x63\145\163\x73\x20\141\154\154\x6f\x77\145\144"); class CI_Output { public $final_output; public $cache_expiration = 0; public $headers = array(); public $mimes = array(); protected $mime_type = "\164\145\170\x74\x2f\x68\x74\155\154"; public $enable_profiler = FALSE; protected $_zlib_oc = FALSE; protected $_compress_output = FALSE; protected $_profiler_sections = array(); public $parse_exec_vars = TRUE; protected static $func_overload; public function __construct() { goto YBsmk; Y67R3: $this->mimes =& get_mimes(); goto OiATz; YBsmk: $this->_zlib_oc = (bool) ini_get("\x7a\154\151\x62\56\x6f\x75\164\x70\165\x74\x5f\x63\157\155\160\x72\145\163\x73\x69\157\x6e"); goto twc7R; JJppX: isset(self::$func_overload) or self::$func_overload = extension_loaded("\155\142\163\164\162\x69\156\147") && ini_get("\155\142\163\x74\x72\151\156\x67\x2e\x66\165\156\143\137\157\x76\x65\162\154\157\141\x64"); goto Y67R3; twc7R: $this->_compress_output = $this->_zlib_oc === FALSE && config_item("\x63\x6f\x6d\x70\162\145\x73\163\137\x6f\x75\164\160\165\164") === TRUE && extension_loaded("\x7a\154\x69\x62"); goto JJppX; OiATz: log_message("\x69\x6e\x66\x6f", "\117\x75\164\x70\165\x74\40\103\x6c\x61\163\163\x20\111\x6e\x69\x74\x69\x61\154\151\172\x65\144"); goto aRkKE; aRkKE: } public function get_output() { return $this->final_output; } public function set_output($output) { $this->final_output = $output; return $this; } public function append_output($output) { $this->final_output .= $output; return $this; } public function set_header($header, $replace = TRUE) { goto WOoYz; U3BQb: return $this; goto S6Ors; tfK07: $this->headers[] = array($header, $replace); goto U3BQb; WOoYz: if ($this->_zlib_oc && strncasecmp($header, "\x63\157\x6e\x74\x65\x6e\x74\55\154\145\156\147\x74\x68", 14) === 0) { return $this; } goto tfK07; S6Ors: } public function set_content_type($mime_type, $charset = NULL) { goto QL0yf; QL0yf: if (strpos($mime_type, "\x2f") === FALSE) { $extension = ltrim($mime_type, "\x2e"); if (isset($this->mimes[$extension])) { $mime_type =& $this->mimes[$extension]; if (is_array($mime_type)) { $mime_type = current($mime_type); } } } goto jTEgI; Cakjr: $this->headers[] = array($header, TRUE); goto HYt_M; HYt_M: return $this; goto nQLNA; v_BRP: if (empty($charset)) { $charset = config_item("\x63\150\x61\x72\163\145\164"); } goto SPaS9; jTEgI: $this->mime_type = $mime_type; goto v_BRP; SPaS9: $header = "\103\157\156\x74\x65\x6e\x74\x2d\x54\171\160\x65\x3a\x20" . $mime_type . (empty($charset) ? '' : "\73\x20\x63\150\x61\x72\163\145\164\x3d" . $charset); goto Cakjr; nQLNA: } public function get_content_type() { for ($i = 0, $c = count($this->headers); $i < $c; $i++) { if (sscanf($this->headers[$i][0], "\103\x6f\156\x74\x65\x6e\x74\55\x54\x79\x70\145\x3a\x20\x25\x5b\136\x3b\x5d", $content_type) === 1) { return $content_type; } } return "\x74\145\170\x74\x2f\x68\164\x6d\154"; } public function get_header($header) { goto HTLD5; rsoxG: return NULL; goto SKc0V; L2Hsg: for ($c = count($headers) - 1; $c > -1; $c--) { if (strncasecmp($header, $headers[$c], $l = self::strlen($header)) === 0) { return trim(self::substr($headers[$c], $l + 1)); } } goto rsoxG; V7Z8e: if (empty($headers) or empty($header)) { return NULL; } goto L2Hsg; HTLD5: $headers = array_merge(array_map("\x61\x72\162\141\x79\x5f\x73\x68\x69\146\164", $this->headers), headers_list()); goto V7Z8e; SKc0V: } public function set_status_header($code = 200, $text = '') { set_status_header($code, $text); return $this; } public function enable_profiler($val = TRUE) { $this->enable_profiler = is_bool($val) ? $val : TRUE; return $this; } public function set_profiler_sections($sections) { goto ZFG5u; ZFG5u: if (isset($sections["\x71\x75\145\162\171\137\164\x6f\147\147\154\x65\x5f\143\x6f\x75\x6e\x74"])) { $this->_profiler_sections["\161\x75\145\162\x79\x5f\164\x6f\147\x67\154\x65\x5f\143\157\x75\x6e\x74"] = (int) $sections["\x71\x75\145\x72\x79\137\x74\x6f\147\147\154\145\137\143\x6f\165\156\164"]; unset($sections["\161\165\x65\x72\x79\137\164\157\x67\147\154\145\137\143\157\165\156\x74"]); } goto io0eo; io0eo: foreach ($sections as $section => $enable) { $this->_profiler_sections[$section] = $enable !== FALSE; } goto RjmYD; RjmYD: return $this; goto Ud6nl; Ud6nl: } public function cache($time) { $this->cache_expiration = is_numeric($time) ? $time : 0; return $this; } public function _display($output = '') { goto HM2ID; Hv_If: if ($this->cache_expiration > 0 && isset($CI) && !method_exists($CI, "\x5f\x6f\x75\164\160\165\164")) { $this->_write_cache($output); } goto aeR92; gmco7: log_message("\144\x65\x62\165\x67", "\124\157\x74\x61\x6c\40\145\x78\145\143\x75\x74\x69\x6f\156\x20\164\x69\155\145\72\40" . $elapsed); goto iGiI6; agAKQ: log_message("\x69\156\146\157", "\106\x69\156\141\154\x20\157\165\x74\160\165\x74\40\163\x65\156\164\x20\x74\x6f\40\142\x72\x6f\x77\163\x65\162"); goto gmco7; O7k2z: if (class_exists("\103\x49\x5f\x43\157\x6e\164\x72\157\x6c\x6c\x65\x72", FALSE)) { $CI =& get_instance(); } goto Gz1jZ; HM2ID: $BM =& load_class("\x42\x65\x6e\143\150\155\x61\x72\x6b", "\x63\x6f\x72\x65"); goto r6cz7; gRXIe: if (count($this->headers) > 0) { foreach ($this->headers as $header) { @header($header[0], $header[1]); } } goto y7Z_T; r6cz7: $CFG =& load_class("\x43\157\156\146\151\x67", "\x63\157\x72\x65"); goto O7k2z; y7Z_T: if (!isset($CI)) { goto Nf6sv; eRGSH: return; goto QoX9H; Nf6sv: if ($this->_compress_output === TRUE) { if (isset($_SERVER["\x48\124\x54\x50\137\101\x43\x43\105\x50\x54\137\105\x4e\x43\117\104\111\x4e\x47"]) && strpos($_SERVER["\110\x54\x54\120\x5f\x41\103\103\105\x50\x54\137\x45\x4e\103\117\x44\x49\116\107"], "\x67\172\x69\x70") !== FALSE) { header("\x43\x6f\156\164\145\x6e\x74\55\x45\156\143\157\144\151\x6e\x67\72\40\x67\172\151\160"); header("\103\x6f\x6e\x74\x65\x6e\164\x2d\114\x65\x6e\x67\x74\x68\72\x20" . self::strlen($output)); } else { $output = gzinflate(self::substr($output, 10, -8)); } } goto Kkj6z; MEMPm: log_message("\144\x65\142\165\x67", "\x54\157\x74\141\154\x20\x65\170\145\143\165\164\151\x6f\156\40\x74\x69\x6d\145\72\x20" . $elapsed); goto eRGSH; Kkj6z: echo $output; goto KM5Su; KM5Su: log_message("\x69\x6e\146\x6f", "\x46\x69\156\x61\x6c\x20\x6f\165\164\160\x75\164\x20\163\145\x6e\x74\x20\x74\157\40\x62\162\x6f\167\x73\145\162"); goto MEMPm; QoX9H: } goto Hren8; Y72CW: if (isset($CI) && $this->_compress_output === TRUE && isset($_SERVER["\x48\x54\x54\x50\x5f\101\103\103\105\x50\x54\x5f\x45\x4e\x43\x4f\104\x49\x4e\107"]) && strpos($_SERVER["\x48\x54\x54\x50\137\101\103\103\x45\120\x54\137\105\x4e\x43\117\104\111\x4e\107"], "\147\x7a\x69\x70") !== FALSE) { ob_start("\x6f\142\x5f\x67\172\150\141\x6e\144\x6c\145\162"); } goto gRXIe; Gz1jZ: if ($output === '') { $output =& $this->final_output; } goto Hv_If; aeR92: $elapsed = $BM->elapsed_time("\164\157\164\141\x6c\137\145\170\145\x63\x75\164\x69\157\x6e\x5f\x74\x69\155\145\x5f\163\164\141\x72\x74", "\x74\x6f\x74\x61\154\137\145\170\145\143\x75\164\x69\157\x6e\x5f\x74\151\155\145\x5f\x65\156\144"); goto I9sUh; aZ6M1: if (method_exists($CI, "\137\x6f\x75\x74\x70\x75\x74")) { $CI->_output($output); } else { echo $output; } goto agAKQ; Hren8: if ($this->enable_profiler === TRUE) { goto ZxZwn; FQ0Dr: $output = preg_replace("\174\74\x2f\142\x6f\x64\171\x3e\x2e\x2a\77\x3c\57\150\x74\x6d\x6c\76\x7c\x69\163", '', $output, -1, $count) . $CI->profiler->run(); goto BfyWG; ZxZwn: $CI->load->library("\x70\162\x6f\146\x69\154\145\x72"); goto uPWPo; uPWPo: if (!empty($this->_profiler_sections)) { $CI->profiler->set_sections($this->_profiler_sections); } goto FQ0Dr; BfyWG: if ($count > 0) { $output .= "\74\57\142\x6f\x64\x79\x3e\x3c\57\x68\x74\x6d\x6c\76"; } goto Sp4Z8; Sp4Z8: } goto aZ6M1; I9sUh: if ($this->parse_exec_vars === TRUE) { $memory = round(memory_get_usage() / 1024 / 1024, 2) . "\x4d\102"; $output = str_replace(array("\173\x65\154\x61\160\163\145\x64\x5f\164\x69\x6d\145\175", "\173\x6d\x65\155\157\162\171\x5f\x75\x73\141\x67\145\x7d"), array($elapsed, $memory), $output); } goto Y72CW; iGiI6: } public function _write_cache($output) { goto qctSZ; YSumT: $uri = $CI->config->item("\x62\x61\x73\145\x5f\x75\x72\154") . $CI->config->item("\151\156\144\145\170\x5f\x70\x61\147\145") . $CI->uri->uri_string(); goto AuWaB; s4iT6: chmod($cache_path, 0640); goto nX7eI; cP5WP: $path = $CI->config->item("\143\141\x63\x68\x65\137\x70\141\x74\x68"); goto L7eNY; hWRHQ: flock($fp, LOCK_UN); goto vkq1L; L7eNY: $cache_path = $path === '' ? APPPATH . "\143\141\x63\150\145\57" : $path; goto QchxD; JT4cq: $this->set_cache_header($_SERVER["\x52\105\121\125\x45\123\x54\137\x54\111\x4d\x45"], $expire); goto j46Ko; uOd1j: $cache_info = serialize(array("\x65\170\x70\x69\x72\x65" => $expire, "\150\x65\141\x64\x65\162\x73" => $this->headers)); goto r2G5r; nX7eI: log_message("\144\145\x62\x75\147", "\103\141\143\x68\145\40\x66\151\x6c\145\x20\x77\162\151\x74\x74\145\156\72\40" . $cache_path); goto JT4cq; vkq1L: fclose($fp); goto IwFX1; eQiLi: for ($written = 0, $length = self::strlen($output); $written < $length; $written += $result) { if (($result = fwrite($fp, self::substr($output, $written))) === FALSE) { break; } } goto hWRHQ; qRKgK: if (!($fp = @fopen($cache_path, "\167\53\x62"))) { log_message("\x65\162\x72\x6f\162", "\125\x6e\x61\x62\x6c\145\40\x74\157\x20\167\x72\x69\164\145\40\x63\141\x63\x68\145\x20\x66\151\x6c\145\x3a\x20" . $cache_path); return; } goto ZAJUW; ZAJUW: if (!flock($fp, LOCK_EX)) { goto rdB6q; QtCwu: fclose($fp); goto S7EX3; rdB6q: log_message("\x65\x72\x72\x6f\162", "\x55\156\141\x62\154\x65\x20\x74\157\x20\163\145\143\x75\162\x65\40\141\x20\x66\x69\x6c\x65\x20\x6c\x6f\143\153\x20\x66\x6f\x72\40\x66\x69\154\x65\40\141\164\72\40" . $cache_path); goto QtCwu; S7EX3: return; goto rs_N3; rs_N3: } goto eOj7x; jJngn: $expire = time() + $this->cache_expiration * 60; goto uOd1j; R1y4g: $cache_path .= md5($uri); goto qRKgK; IwFX1: if (!is_int($result)) { goto KCnNg; KCnNg: @unlink($cache_path); goto kDYSy; kDYSy: log_message("\145\x72\x72\157\x72", "\x55\156\x61\x62\x6c\145\40\x74\x6f\40\167\x72\151\x74\x65\40\x74\x68\145\40\x63\157\155\x70\154\x65\x74\x65\x20\x63\x61\x63\x68\x65\40\143\157\x6e\x74\x65\156\x74\x20\141\x74\x3a\40" . $cache_path); goto y3cL9; y3cL9: return; goto Cs6EA; Cs6EA: } goto s4iT6; eOj7x: if ($this->_compress_output === TRUE) { $output = gzencode($output); if ($this->get_header("\x63\157\156\x74\145\x6e\164\55\164\x79\160\145") === NULL) { $this->set_content_type($this->mime_type); } } goto jJngn; r2G5r: $output = $cache_info . "\105\x4e\x44\x43\111\x2d\x2d\x2d\76" . $output; goto eQiLi; qctSZ: $CI =& get_instance(); goto cP5WP; QchxD: if (!is_dir($cache_path) or !is_really_writable($cache_path)) { log_message("\x65\x72\x72\x6f\x72", "\x55\156\141\142\x6c\x65\x20\164\x6f\x20\x77\162\x69\x74\x65\40\x63\x61\x63\x68\x65\x20\146\151\x6c\x65\x3a\x20" . $cache_path); return; } goto YSumT; AuWaB: if (($cache_query_string = $CI->config->item("\143\141\x63\x68\x65\137\161\165\x65\162\171\137\163\x74\x72\151\x6e\x67")) && !empty($_SERVER["\121\x55\x45\122\131\x5f\x53\124\x52\111\x4e\x47"])) { if (is_array($cache_query_string)) { $uri .= "\77" . http_build_query(array_intersect_key($_GET, array_flip($cache_query_string))); } else { $uri .= "\x3f" . $_SERVER["\x51\x55\x45\122\131\x5f\x53\x54\122\111\116\107"]; } } goto R1y4g; j46Ko: } public function _display_cache(&$CFG, &$URI) { goto K20Jn; kSf11: return TRUE; goto JDtWW; Ayqi7: $this->_display(self::substr($cache, self::strlen($match[0]))); goto Oo_R8; qeKG1: if (!preg_match("\x2f\136\50\x2e\52\51\105\x4e\104\103\x49\55\55\55\76\57", $cache, $match)) { return FALSE; } goto RfwCC; Dyk9H: fclose($fp); goto qeKG1; K20Jn: $cache_path = $CFG->item("\x63\x61\x63\x68\145\137\160\x61\164\150") === '' ? APPPATH . "\143\141\x63\150\145\57" : $CFG->item("\x63\x61\x63\x68\145\137\x70\141\164\x68"); goto NI1Za; WKQG9: if ($_SERVER["\x52\105\x51\x55\x45\x53\x54\137\x54\x49\115\x45"] >= $expire && is_really_writable($cache_path)) { goto CmsAy; CmsAy: @unlink($filepath); goto If4ip; rXq5R: return FALSE; goto z3DOG; If4ip: log_message("\144\x65\x62\x75\x67", "\x43\141\143\x68\145\40\146\151\x6c\x65\40\150\x61\163\40\145\170\160\151\162\x65\x64\56\x20\106\x69\154\145\x20\144\x65\x6c\145\x74\145\144\56"); goto rXq5R; z3DOG: } goto qSflf; hMRER: $expire = $cache_info["\145\x78\x70\x69\x72\x65"]; goto tBU3a; KnJJV: foreach ($cache_info["\x68\145\x61\144\145\x72\163"] as $header) { $this->set_header($header[0], $header[1]); } goto Ayqi7; aD8V0: if (!file_exists($filepath) or !($fp = @fopen($filepath, "\x72\142"))) { return FALSE; } goto HcqU9; tBU3a: $last_modified = filemtime($filepath); goto WKQG9; HcqU9: flock($fp, LOCK_SH); goto Lenjw; Oo_R8: log_message("\144\x65\x62\165\147", "\103\x61\143\150\145\x20\146\151\x6c\x65\40\x69\163\40\143\165\162\x72\x65\x6e\x74\56\x20\x53\145\x6e\x64\x69\x6e\x67\40\x69\164\x20\x74\x6f\x20\x62\162\157\x77\x73\145\x72\56"); goto kSf11; RfwCC: $cache_info = unserialize($match[1]); goto hMRER; IuNdl: $filepath = $cache_path . md5($uri); goto aD8V0; NI1Za: $uri = $CFG->item("\142\141\x73\145\137\165\x72\154") . $CFG->item("\x69\156\x64\x65\170\137\160\x61\147\145") . $URI->uri_string; goto inGoi; Lenjw: $cache = filesize($filepath) > 0 ? fread($fp, filesize($filepath)) : ''; goto mqvRh; mqvRh: flock($fp, LOCK_UN); goto Dyk9H; qSflf: $this->set_cache_header($last_modified, $expire); goto KnJJV; inGoi: if (($cache_query_string = $CFG->item("\143\141\143\x68\x65\x5f\161\x75\x65\x72\x79\x5f\x73\164\x72\x69\156\x67")) && !empty($_SERVER["\121\x55\105\x52\131\137\x53\x54\x52\x49\116\107"])) { if (is_array($cache_query_string)) { $uri .= "\77" . http_build_query(array_intersect_key($_GET, array_flip($cache_query_string))); } else { $uri .= "\77" . $_SERVER["\121\x55\x45\122\x59\137\x53\124\x52\x49\116\x47"]; } } goto IuNdl; JDtWW: } public function delete_cache($uri = '') { goto DP_aJ; e7EGg: if (!@unlink($cache_path)) { log_message("\145\162\162\x6f\162", "\x55\x6e\x61\142\x6c\145\40\164\x6f\40\x64\x65\x6c\x65\164\145\x20\x63\x61\143\150\145\40\x66\151\x6c\145\x20\146\157\162\x20" . $uri); return FALSE; } goto k64oG; crCXF: if (!is_dir($cache_path)) { log_message("\145\x72\x72\157\162", "\125\x6e\141\142\x6c\145\x20\x74\x6f\40\x66\x69\156\144\x20\x63\x61\x63\150\145\x20\x70\141\x74\x68\x3a\x20" . $cache_path); return FALSE; } goto PPqf0; k64oG: return TRUE; goto UcU6s; cd5eH: $cache_path = $CI->config->item("\x63\x61\143\150\145\137\x70\x61\x74\150"); goto Qou_1; PPqf0: if (empty($uri)) { $uri = $CI->uri->uri_string(); if (($cache_query_string = $CI->config->item("\x63\141\x63\150\x65\137\x71\165\x65\162\171\137\x73\164\x72\151\156\147")) && !empty($_SERVER["\x51\125\105\122\131\x5f\123\124\x52\x49\116\x47"])) { if (is_array($cache_query_string)) { $uri .= "\x3f" . http_build_query(array_intersect_key($_GET, array_flip($cache_query_string))); } else { $uri .= "\x3f" . $_SERVER["\121\x55\105\122\x59\137\123\124\122\111\x4e\x47"]; } } } goto RYAvF; RYAvF: $cache_path .= md5($CI->config->item("\142\x61\163\145\137\165\x72\154") . $CI->config->item("\x69\156\x64\145\170\x5f\160\x61\x67\x65") . ltrim($uri, "\57")); goto e7EGg; DP_aJ: $CI =& get_instance(); goto cd5eH; Qou_1: if ($cache_path === '') { $cache_path = APPPATH . "\x63\x61\x63\x68\145\x2f"; } goto crCXF; UcU6s: } public function set_cache_header($last_modified, $expiration) { goto Ee7rI; GDcT4: header("\x4c\x61\163\164\x2d\x6d\x6f\x64\151\x66\151\x65\x64\x3a\x20" . gmdate("\x44\x2c\40\144\40\x4d\x20\131\40\x48\72\x69\x3a\x73", $last_modified) . "\x20\107\x4d\124"); goto GZPNi; qq6fk: header("\x45\x78\160\x69\x72\x65\163\x3a\40" . gmdate("\x44\x2c\x20\x64\x20\x4d\x20\131\40\x48\72\151\72\x73", $expiration) . "\x20\x47\115\124"); goto GDcT4; E6BlJ: if (isset($_SERVER["\x48\x54\124\120\137\x49\106\137\x4d\117\x44\111\106\x49\x45\104\137\x53\111\116\x43\x45"]) && $last_modified <= strtotime($_SERVER["\x48\124\124\120\137\111\106\137\x4d\117\x44\x49\x46\x49\105\104\137\x53\x49\116\x43\105"])) { $this->set_status_header(304); exit; } goto kE8O4; kE8O4: header("\x50\x72\x61\147\x6d\141\x3a\x20\160\165\142\154\151\x63"); goto aXKSQ; Ee7rI: $max_age = $expiration - $_SERVER["\x52\x45\121\125\x45\123\x54\x5f\124\111\115\105"]; goto E6BlJ; aXKSQ: header("\x43\141\143\150\x65\55\x43\x6f\156\x74\x72\x6f\x6c\72\x20\x6d\x61\x78\55\x61\x67\x65\x3d" . $max_age . "\54\40\160\165\142\154\x69\143"); goto qq6fk; GZPNi: } protected static function strlen($str) { return self::$func_overload ? mb_strlen($str, "\x38\142\151\164") : strlen($str); } protected static function substr($str, $start, $length = NULL) { if (self::$func_overload) { isset($length) or $length = $start >= 0 ? self::strlen($str) - $start : -$start; return mb_substr($str, $start, $length, "\70\142\151\164"); } return isset($length) ? substr($str, $start, $length) : substr($str, $start); } }
