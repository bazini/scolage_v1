<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-09-11 13:11:17              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 defined("\x42\101\123\105\x50\x41\x54\110") or exit("\x4e\157\x20\x64\x69\162\145\143\x74\x20\x73\x63\x72\x69\x70\164\x20\x61\x63\x63\x65\163\x73\40\141\154\154\x6f\x77\x65\144"); class CI_User_agent { public $agent = NULL; public $is_browser = FALSE; public $is_robot = FALSE; public $is_mobile = FALSE; public $languages = array(); public $charsets = array(); public $platforms = array(); public $browsers = array(); public $mobiles = array(); public $robots = array(); public $platform = ''; public $browser = ''; public $version = ''; public $mobile = ''; public $robot = ''; public $referer; public function __construct() { goto hkYP2; hkYP2: $this->_load_agent_file(); goto aHfe7; hzPbo: log_message("\151\156\146\x6f", "\125\x73\145\x72\40\101\147\x65\156\164\x20\x43\x6c\x61\x73\x73\x20\111\x6e\x69\164\151\x61\x6c\x69\x7a\145\x64"); goto NbLnS; aHfe7: if (isset($_SERVER["\110\124\x54\x50\137\125\x53\x45\122\137\101\107\x45\x4e\x54"])) { $this->agent = trim($_SERVER["\110\124\124\x50\137\125\123\105\x52\137\x41\107\x45\116\124"]); $this->_compile_data(); } goto hzPbo; NbLnS: } protected function _load_agent_file() { goto IE3tR; Vpv7v: if (isset($mobiles)) { goto JqqAl; DaD9m: $return = TRUE; goto BmYkY; uGEhF: unset($mobiles); goto DaD9m; JqqAl: $this->mobiles = $mobiles; goto uGEhF; BmYkY: } goto R9Gy1; Sl2F6: $return = FALSE; goto bSItz; IE3tR: if ($found = file_exists(APPPATH . "\x63\x6f\156\x66\x69\147\x2f\165\x73\x65\x72\137\141\x67\x65\156\x74\x73\56\160\150\x70")) { include APPPATH . "\x63\157\156\146\x69\147\x2f\165\x73\145\x72\137\x61\x67\145\156\164\x73\56\x70\150\x70"; } goto PPRWq; bSItz: if (isset($platforms)) { goto VbE0W; Brk9a: unset($platforms); goto YRNSb; VbE0W: $this->platforms = $platforms; goto Brk9a; YRNSb: $return = TRUE; goto aW_qb; aW_qb: } goto XgKss; R9Gy1: if (isset($robots)) { goto CFIcO; SE3yi: $return = TRUE; goto rNn0s; y1dpp: unset($robots); goto SE3yi; CFIcO: $this->robots = $robots; goto y1dpp; rNn0s: } goto w1FEk; w1FEk: return $return; goto ghNV_; XgKss: if (isset($browsers)) { goto XLBd5; HoSyJ: unset($browsers); goto zVCt7; XLBd5: $this->browsers = $browsers; goto HoSyJ; zVCt7: $return = TRUE; goto TJlUI; TJlUI: } goto Vpv7v; PPRWq: if (file_exists(APPPATH . "\143\x6f\156\146\151\x67\57" . ENVIRONMENT . "\57\165\x73\145\162\137\141\147\x65\x6e\x74\163\56\160\150\160")) { include APPPATH . "\143\x6f\x6e\x66\x69\147\x2f" . ENVIRONMENT . "\x2f\x75\x73\145\x72\137\x61\x67\145\x6e\164\x73\56\160\150\x70"; $found = TRUE; } goto DFudG; DFudG: if ($found !== TRUE) { return FALSE; } goto Sl2F6; ghNV_: } protected function _compile_data() { $this->_set_platform(); foreach (array("\x5f\x73\145\x74\137\162\157\x62\x6f\164", "\x5f\x73\145\164\x5f\142\x72\x6f\167\x73\145\x72", "\x5f\163\x65\164\x5f\x6d\157\x62\x69\x6c\x65") as $function) { if ($this->{$function}() === TRUE) { break; } } } protected function _set_platform() { goto n7uGe; n7uGe: if (is_array($this->platforms) && count($this->platforms) > 0) { foreach ($this->platforms as $key => $val) { if (preg_match("\x7c" . preg_quote($key) . "\174\x69", $this->agent)) { $this->platform = $val; return TRUE; } } } goto TmnIk; TmnIk: $this->platform = "\x55\156\153\x6e\157\x77\x6e\x20\x50\154\x61\164\x66\x6f\162\155"; goto DYlLA; DYlLA: return FALSE; goto oh0eZ; oh0eZ: } protected function _set_browser() { if (is_array($this->browsers) && count($this->browsers) > 0) { foreach ($this->browsers as $key => $val) { if (preg_match("\174" . $key . "\x2e\x2a\77\x28\133\x30\x2d\x39\134\x2e\135\53\x29\174\x69", $this->agent, $match)) { goto IB_bt; q1Cg_: $this->version = $match[1]; goto Pp5bN; Pp5bN: $this->browser = $val; goto s51fF; IB_bt: $this->is_browser = TRUE; goto q1Cg_; s51fF: $this->_set_mobile(); goto wKPUP; wKPUP: return TRUE; goto PtOqb; PtOqb: } } } return FALSE; } protected function _set_robot() { if (is_array($this->robots) && count($this->robots) > 0) { foreach ($this->robots as $key => $val) { if (preg_match("\174" . preg_quote($key) . "\174\151", $this->agent)) { goto V8Dgg; ZQAEi: return TRUE; goto Kc0Of; V8Dgg: $this->is_robot = TRUE; goto WpwVl; zblpi: $this->_set_mobile(); goto ZQAEi; WpwVl: $this->robot = $val; goto zblpi; Kc0Of: } } } return FALSE; } protected function _set_mobile() { if (is_array($this->mobiles) && count($this->mobiles) > 0) { foreach ($this->mobiles as $key => $val) { if (FALSE !== stripos($this->agent, $key)) { goto U3JjV; RPGko: $this->mobile = $val; goto kU3rS; kU3rS: return TRUE; goto G3rlI; U3JjV: $this->is_mobile = TRUE; goto RPGko; G3rlI: } } } return FALSE; } protected function _set_languages() { if (count($this->languages) === 0 && !empty($_SERVER["\110\x54\124\120\137\101\x43\x43\x45\x50\x54\137\114\x41\116\107\x55\101\x47\x45"])) { $this->languages = explode("\x2c", preg_replace("\x2f\50\73\134\163\77\161\75\x5b\x30\x2d\x39\x5c\56\x5d\53\x29\x7c\134\x73\57\151", '', strtolower(trim($_SERVER["\110\x54\124\120\137\101\103\x43\105\x50\124\137\x4c\101\x4e\x47\125\x41\x47\105"])))); } if (count($this->languages) === 0) { $this->languages = array("\x55\x6e\144\145\146\151\x6e\x65\x64"); } } protected function _set_charsets() { if (count($this->charsets) === 0 && !empty($_SERVER["\x48\124\124\x50\x5f\101\x43\103\x45\x50\124\x5f\103\110\101\122\123\105\124"])) { $this->charsets = explode("\54", preg_replace("\x2f\x28\x3b\134\163\77\161\75\x2e\x2b\x29\174\134\x73\57\x69", '', strtolower(trim($_SERVER["\x48\124\124\120\x5f\x41\103\103\105\x50\x54\x5f\103\110\x41\x52\123\x45\x54"])))); } if (count($this->charsets) === 0) { $this->charsets = array("\125\156\144\145\146\x69\156\x65\x64"); } } public function is_browser($key = NULL) { goto PfE9v; hGSrp: return isset($this->browsers[$key]) && $this->browser === $this->browsers[$key]; goto i0n4A; PfE9v: if (!$this->is_browser) { return FALSE; } goto PLJz0; PLJz0: if ($key === NULL) { return TRUE; } goto hGSrp; i0n4A: } public function is_robot($key = NULL) { goto jBc5N; jh9NR: if ($key === NULL) { return TRUE; } goto PeURG; PeURG: return isset($this->robots[$key]) && $this->robot === $this->robots[$key]; goto Cytmk; jBc5N: if (!$this->is_robot) { return FALSE; } goto jh9NR; Cytmk: } public function is_mobile($key = NULL) { goto cwc26; V4iQD: return isset($this->mobiles[$key]) && $this->mobile === $this->mobiles[$key]; goto GywsL; cwc26: if (!$this->is_mobile) { return FALSE; } goto as2bT; as2bT: if ($key === NULL) { return TRUE; } goto V4iQD; GywsL: } public function is_referral() { if (!isset($this->referer)) { if (empty($_SERVER["\110\x54\124\x50\x5f\x52\x45\106\x45\x52\105\x52"])) { $this->referer = FALSE; } else { goto B6yoJ; gvgkA: $this->referer = $referer_host && $referer_host !== $own_host; goto PnWrz; B6yoJ: $referer_host = @parse_url($_SERVER["\110\x54\124\x50\x5f\122\x45\106\x45\122\x45\x52"], PHP_URL_HOST); goto a3fxB; a3fxB: $own_host = parse_url(config_item("\142\x61\163\145\x5f\x75\162\154"), PHP_URL_HOST); goto gvgkA; PnWrz: } } return $this->referer; } public function agent_string() { return $this->agent; } public function platform() { return $this->platform; } public function browser() { return $this->browser; } public function version() { return $this->version; } public function robot() { return $this->robot; } public function mobile() { return $this->mobile; } public function referrer() { return empty($_SERVER["\110\x54\124\120\x5f\x52\105\106\105\122\x45\122"]) ? '' : trim($_SERVER["\x48\124\124\120\x5f\122\105\x46\x45\x52\105\122"]); } public function languages() { if (count($this->languages) === 0) { $this->_set_languages(); } return $this->languages; } public function charsets() { if (count($this->charsets) === 0) { $this->_set_charsets(); } return $this->charsets; } public function accept_lang($lang = "\x65\x6e") { return in_array(strtolower($lang), $this->languages(), TRUE); } public function accept_charset($charset = "\x75\164\146\x2d\70") { return in_array(strtolower($charset), $this->charsets(), TRUE); } public function parse($string) { goto n5vx0; BnRbf: $this->is_robot = FALSE; goto q61EY; sV6F1: $this->agent = $string; goto Pfyxg; hz00W: $this->mobile = ''; goto bpE5k; kNeJd: $this->browser = ''; goto X3Kju; n5vx0: $this->is_browser = FALSE; goto BnRbf; X3Kju: $this->version = ''; goto hz00W; bpE5k: $this->robot = ''; goto sV6F1; Pfyxg: if (!empty($string)) { $this->_compile_data(); } goto Rw6Yk; q61EY: $this->is_mobile = FALSE; goto kNeJd; Rw6Yk: } }
